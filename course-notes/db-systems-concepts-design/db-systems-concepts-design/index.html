
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../cpss/cyber-physical-systems-security/">
      
      
        <link rel="next" href="../../iis/intro-information-security/">
      
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Database Systems Concepts and Design - Open MSCS</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#database-systems-concepts-and-design" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Open MSCS" class="md-header__button md-logo" aria-label="Open MSCS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Open MSCS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Database Systems Concepts and Design
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/victoriadrake/open-mscs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    open-mscs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Course Notes

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../grad-life-resources/" class="md-tabs__link">
        
  
    
  
  Graduate Life Resources

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Open MSCS" class="md-nav__button md-logo" aria-label="Open MSCS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82Z"/></svg>

    </a>
    Open MSCS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/victoriadrake/open-mscs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    open-mscs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Course Notes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Course Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cpss/cyber-physical-systems-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cyber-Physical Systems Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Database Systems Concepts and Design
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Database Systems Concepts and Design
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#database-management-system" class="md-nav__link">
    <span class="md-ellipsis">
      Database Management System
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Process Modeling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Data Modeling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Modeling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      Data Structures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keys-and-identifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Keys and Identifiers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrity-and-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      Integrity and Consistency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-values" class="md-nav__link">
    <span class="md-ellipsis">
      NULL Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#surrogates" class="md-nav__link">
    <span class="md-ellipsis">
      Surrogates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-ansisparc-3-level" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture: ANSI/SPARC 3-Level
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture: ANSI/SPARC 3-Level">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internal-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Internal Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#physical-data-independence" class="md-nav__link">
    <span class="md-ellipsis">
      Physical Data Independence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conceptual-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Conceptual Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-data-independence" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Data Independence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-schema" class="md-nav__link">
    <span class="md-ellipsis">
      External Schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansisparc-dbms-framework" class="md-nav__link">
    <span class="md-ellipsis">
      ANSI/SPARC DBMS Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANSI/SPARC DBMS Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-compiler" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Compiler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-transformer" class="md-nav__link">
    <span class="md-ellipsis">
      Query Transformer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framework-more-practically" class="md-nav__link">
    <span class="md-ellipsis">
      Framework, more practically
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-application-development-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      Database Application Development Methodology
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Application Development Methodology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analysis-information-flow-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Analysis: Information Flow Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    <span class="md-ellipsis">
      Specification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extended-entity-relationship-model" class="md-nav__link">
    <span class="md-ellipsis">
      Extended-Entity Relationship Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extended-Entity Relationship Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#words-matter" class="md-nav__link">
    <span class="md-ellipsis">
      Words Matter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      Entities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classes-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Classes, Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-and-lattice" class="md-nav__link">
    <span class="md-ellipsis">
      Tree and Lattice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints_1" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Relationships
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-model" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relational Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-structures_1" class="md-nav__link">
    <span class="md-ellipsis">
      Data Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#two-ways-to-define-relation" class="md-nav__link">
    <span class="md-ellipsis">
      Two Ways to Define Relation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relational-databases-and-their-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Databases and their Schemas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints_2" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#domain-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Domain Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Key constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints-on-nulls" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints on NULLs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity-integrity-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Entity Integrity Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#referential-integrity-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Referential Integrity Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-operations-transactions-handling-constraint-violations" class="md-nav__link">
    <span class="md-ellipsis">
      Update Operations, Transactions, Handling Constraint Violations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update Operations, Transactions, Handling Constraint Violations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    <span class="md-ellipsis">
      Insert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      Delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-and-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      Schema and Catalog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-data-types-domains" class="md-nav__link">
    <span class="md-ellipsis">
      Attribute Data Types, Domains
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attribute Data Types, Domains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#numeric" class="md-nav__link">
    <span class="md-ellipsis">
      Numeric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#character-string" class="md-nav__link">
    <span class="md-ellipsis">
      Character-string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-string" class="md-nav__link">
    <span class="md-ellipsis">
      Bit-string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-and-time" class="md-nav__link">
    <span class="md-ellipsis">
      DATE and TIME
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-create" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Create
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Create">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-schema" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE SCHEMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-table" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE TABLE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-view" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE VIEW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-domain" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE DOMAIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-type" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE TYPE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints-in-sql" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints in SQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints in SQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-and-referential-integrity-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Key and Referential Integrity Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-retrieval-queries" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Retrieval Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Retrieval Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-tuple-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming, Tuple Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unspecified-where-asterisk" class="md-nav__link">
    <span class="md-ellipsis">
      Unspecified WHERE, Asterisk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicates-distinct" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicates, DISTINCT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Set Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Set Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#union-set-union" class="md-nav__link">
    <span class="md-ellipsis">
      UNION: set union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#except-set-difference-also-minus" class="md-nav__link">
    <span class="md-ellipsis">
      EXCEPT: set difference, also MINUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersect-set-intersection" class="md-nav__link">
    <span class="md-ellipsis">
      INTERSECT: set intersection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Pattern Matching
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pattern Matching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#literal-characters" class="md-nav__link">
    <span class="md-ellipsis">
      Literal Characters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    <span class="md-ellipsis">
      Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordering-or-sorting" class="md-nav__link">
    <span class="md-ellipsis">
      Ordering, or Sorting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modification-insert-delete-update" class="md-nav__link">
    <span class="md-ellipsis">
      Modification: INSERT, DELETE, UPDATE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-access" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Access
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null-logic" class="md-nav__link">
    <span class="md-ellipsis">
      NULL Logic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Nested Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparing-nested-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing Nested Queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correlated-nested-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Correlated Nested Queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unique" class="md-nav__link">
    <span class="md-ellipsis">
      UNIQUE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exists-and-not-exists" class="md-nav__link">
    <span class="md-ellipsis">
      EXISTS and NOT EXISTS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicit-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Explicit Sets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joined-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Joined Tables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregate Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouping" class="md-nav__link">
    <span class="md-ellipsis">
      Grouping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with" class="md-nav__link">
    <span class="md-ellipsis">
      WITH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case" class="md-nav__link">
    <span class="md-ellipsis">
      CASE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Recursive Queries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-assertions" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Assertions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Trigger
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-views" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-views" class="md-nav__link">
    <span class="md-ellipsis">
      Updating Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materialized-view" class="md-nav__link">
    <span class="md-ellipsis">
      Materialized View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views-for-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Views for Authorization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-change-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Change Statements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-algebra" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Algebra
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relational Algebra">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unary-relational-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Unary Relational Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unary Relational Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-operation" class="md-nav__link">
    <span class="md-ellipsis">
      SELECT Operation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-operation" class="md-nav__link">
    <span class="md-ellipsis">
      PROJECT Operation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rename-operation" class="md-nav__link">
    <span class="md-ellipsis">
      RENAME Operation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-of-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence of Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binary Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    <span class="md-ellipsis">
      UNION
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UNION">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outer-union" class="md-nav__link">
    <span class="md-ellipsis">
      OUTER UNION
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersect" class="md-nav__link">
    <span class="md-ellipsis">
      INTERSECT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minus" class="md-nav__link">
    <span class="md-ellipsis">
      MINUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cartesian-product" class="md-nav__link">
    <span class="md-ellipsis">
      CARTESIAN PRODUCT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-relational-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Relational Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binary Relational Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#join" class="md-nav__link">
    <span class="md-ellipsis">
      JOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theta-join" class="md-nav__link">
    <span class="md-ellipsis">
      THETA JOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#equijoin" class="md-nav__link">
    <span class="md-ellipsis">
      EQUIJOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#natural-join" class="md-nav__link">
    <span class="md-ellipsis">
      NATURAL JOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inner-vs-outer-join" class="md-nav__link">
    <span class="md-ellipsis">
      Inner vs Outer Join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-set" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#division-operation" class="md-nav__link">
    <span class="md-ellipsis">
      DIVISION Operation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-tree-notation" class="md-nav__link">
    <span class="md-ellipsis">
      Query Tree Notation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalized-projection" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized Projection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-and-grouping" class="md-nav__link">
    <span class="md-ellipsis">
      AGGREGATE and Grouping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-closure-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Recursive Closure Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Calculus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relational Calculus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Range expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-value" class="md-nav__link">
    <span class="md-ellipsis">
      Attribute value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant" class="md-nav__link">
    <span class="md-ellipsis">
      Constant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-operators_1" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple-relational-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple Relational Calculus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tuple Relational Calculus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selection" class="md-nav__link">
    <span class="md-ellipsis">
      Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selection-composite-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Selection Composite Expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projection" class="md-nav__link">
    <span class="md-ellipsis">
      Projection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_1" class="md-nav__link">
    <span class="md-ellipsis">
      Union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersection" class="md-nav__link">
    <span class="md-ellipsis">
      Intersection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-difference" class="md-nav__link">
    <span class="md-ellipsis">
      Set Difference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#natural-join_1" class="md-nav__link">
    <span class="md-ellipsis">
      Natural Join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cartesian-product_1" class="md-nav__link">
    <span class="md-ellipsis">
      Cartesian Product
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#divideby" class="md-nav__link">
    <span class="md-ellipsis">
      Divideby
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple-relational-calculus-atoms" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple Relational Calculus Atoms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predicate" class="md-nav__link">
    <span class="md-ellipsis">
      Predicate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Predicate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quantifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Quantifiers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safe-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Safe Expression
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-relational-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Domain Relational Calculus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstraction-knowledge-representation" class="md-nav__link">
    <span class="md-ellipsis">
      Abstraction, Knowledge Representation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Abstraction, Knowledge Representation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    <span class="md-ellipsis">
      Classification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiation" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identification" class="md-nav__link">
    <span class="md-ellipsis">
      Identification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specialization-generalization" class="md-nav__link">
    <span class="md-ellipsis">
      Specialization, Generalization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#association" class="md-nav__link">
    <span class="md-ellipsis">
      Association
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ontologies" class="md-nav__link">
    <span class="md-ellipsis">
      Ontologies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eer-relational-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      EER Relational Mapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EER Relational Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#composite-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Composite Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-value-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-value Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-to-one-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      One-to-one Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-to-many-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      One-to-Many Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#many-to-many-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Many-to-Many Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weak-entities" class="md-nav__link">
    <span class="md-ellipsis">
      Weak Entities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-disjoint-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Mandatory Disjoint Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-overlapping-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Mandatory Overlapping Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-mandatory-overlapping-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Mandatory Overlapping Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-mandatory-disjoint-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Mandatory Disjoint Relationship
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#union-types" class="md-nav__link">
    <span class="md-ellipsis">
      Union Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Indexing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#size-of-the-table" class="md-nav__link">
    <span class="md-ellipsis">
      Size of the Table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-access-paths" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Access Paths
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reads-and-writes" class="md-nav__link">
    <span class="md-ellipsis">
      Reads and Writes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reads and Writes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functional-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Dependency
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-relation-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluating Relation Schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-decomposition" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Decomposition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalization" class="md-nav__link">
    <span class="md-ellipsis">
      Normalization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normalization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normal-forms" class="md-nav__link">
    <span class="md-ellipsis">
      Normal Forms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normal Forms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      First Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#second-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Second Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#third-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Third Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boyce-codd-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Boyce-Codd Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multivalued-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Multivalued Dependency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fourth-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Fourth Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Join Dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fifth-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Fifth Normal Form
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inference-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Inference Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inference Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#armstrongs-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Armstrong's Rules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#equivalence" class="md-nav__link">
    <span class="md-ellipsis">
      Equivalence
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimal-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Minimal Sets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disk-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Disk Storage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    <span class="md-ellipsis">
      Memory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#efficient-data-access" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient Data Access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficiency" class="md-nav__link">
    <span class="md-ellipsis">
      Efficiency
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Efficiency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buffering" class="md-nav__link">
    <span class="md-ellipsis">
      Buffering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#records-on-disk" class="md-nav__link">
    <span class="md-ellipsis">
      Records on Disk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Records on Disk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocating-file-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Allocating File Blocks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-organization" class="md-nav__link">
    <span class="md-ellipsis">
      File Organization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operations-on-files" class="md-nav__link">
    <span class="md-ellipsis">
      Operations on Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operations on Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#heap-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Heap Lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorted-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Sorted Lookup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-level-ordered-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Single-Level Ordered Indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single-Level Ordered Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-index" class="md-nav__link">
    <span class="md-ellipsis">
      Primary Index
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Primary Index">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sparse-index" class="md-nav__link">
    <span class="md-ellipsis">
      Sparse index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dense-index" class="md-nav__link">
    <span class="md-ellipsis">
      Dense index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clustering-index" class="md-nav__link">
    <span class="md-ellipsis">
      Clustering Index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secondary-index" class="md-nav__link">
    <span class="md-ellipsis">
      Secondary Index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Static Hashing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mixed-records" class="md-nav__link">
    <span class="md-ellipsis">
      Mixed Records
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-level-index" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-level Index
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-multilevel-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Multilevel Indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Multilevel Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-trees-and-b-trees" class="md-nav__link">
    <span class="md-ellipsis">
      Search Trees and B-Trees
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-tree" class="md-nav__link">
    <span class="md-ellipsis">
      B-Tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-trees" class="md-nav__link">
    <span class="md-ellipsis">
      B⁺-Trees
    </span>
  </a>
  
    <nav class="md-nav" aria-label="B⁺-Trees">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leaf-node" class="md-nav__link">
    <span class="md-ellipsis">
      Leaf node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes on Indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notes on Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-vs-physical-index" class="md-nav__link">
    <span class="md-ellipsis">
      Logical vs Physical Index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Index Creation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      Index Tuning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints-and-duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints and Duplicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-access-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Other Access Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing-hints-in-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing Hints in Queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-based-storage-of-relations" class="md-nav__link">
    <span class="md-ellipsis">
      Column-Based Storage of Relations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#physical-database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Physical Database Design
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iis/intro-information-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Information Security
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../grad-life-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graduate Life Resources
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#database-management-system" class="md-nav__link">
    <span class="md-ellipsis">
      Database Management System
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Process Modeling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Data Modeling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Modeling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      Data Structures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keys-and-identifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Keys and Identifiers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrity-and-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      Integrity and Consistency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-values" class="md-nav__link">
    <span class="md-ellipsis">
      NULL Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#surrogates" class="md-nav__link">
    <span class="md-ellipsis">
      Surrogates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-ansisparc-3-level" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture: ANSI/SPARC 3-Level
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture: ANSI/SPARC 3-Level">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internal-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Internal Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#physical-data-independence" class="md-nav__link">
    <span class="md-ellipsis">
      Physical Data Independence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conceptual-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Conceptual Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-data-independence" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Data Independence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-schema" class="md-nav__link">
    <span class="md-ellipsis">
      External Schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ansisparc-dbms-framework" class="md-nav__link">
    <span class="md-ellipsis">
      ANSI/SPARC DBMS Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ANSI/SPARC DBMS Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-compiler" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Compiler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-transformer" class="md-nav__link">
    <span class="md-ellipsis">
      Query Transformer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#framework-more-practically" class="md-nav__link">
    <span class="md-ellipsis">
      Framework, more practically
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-application-development-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      Database Application Development Methodology
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Application Development Methodology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analysis-information-flow-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Analysis: Information Flow Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    <span class="md-ellipsis">
      Specification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extended-entity-relationship-model" class="md-nav__link">
    <span class="md-ellipsis">
      Extended-Entity Relationship Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extended-Entity Relationship Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#words-matter" class="md-nav__link">
    <span class="md-ellipsis">
      Words Matter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      Entities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classes-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Classes, Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-and-lattice" class="md-nav__link">
    <span class="md-ellipsis">
      Tree and Lattice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints_1" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Relationships
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-model" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relational Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-structures_1" class="md-nav__link">
    <span class="md-ellipsis">
      Data Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#two-ways-to-define-relation" class="md-nav__link">
    <span class="md-ellipsis">
      Two Ways to Define Relation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relational-databases-and-their-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Databases and their Schemas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints_2" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#domain-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Domain Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Key constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints-on-nulls" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints on NULLs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entity-integrity-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Entity Integrity Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#referential-integrity-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Referential Integrity Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-operations-transactions-handling-constraint-violations" class="md-nav__link">
    <span class="md-ellipsis">
      Update Operations, Transactions, Handling Constraint Violations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update Operations, Transactions, Handling Constraint Violations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    <span class="md-ellipsis">
      Insert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      Delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-and-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      Schema and Catalog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-data-types-domains" class="md-nav__link">
    <span class="md-ellipsis">
      Attribute Data Types, Domains
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attribute Data Types, Domains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#numeric" class="md-nav__link">
    <span class="md-ellipsis">
      Numeric
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#character-string" class="md-nav__link">
    <span class="md-ellipsis">
      Character-string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-string" class="md-nav__link">
    <span class="md-ellipsis">
      Bit-string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-and-time" class="md-nav__link">
    <span class="md-ellipsis">
      DATE and TIME
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-create" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Create
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Create">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-schema" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE SCHEMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-table" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE TABLE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-view" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE VIEW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-domain" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE DOMAIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-type" class="md-nav__link">
    <span class="md-ellipsis">
      CREATE TYPE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints-in-sql" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints in SQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints in SQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-and-referential-integrity-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Key and Referential Integrity Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-retrieval-queries" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Retrieval Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Retrieval Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-tuple-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming, Tuple Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unspecified-where-asterisk" class="md-nav__link">
    <span class="md-ellipsis">
      Unspecified WHERE, Asterisk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duplicates-distinct" class="md-nav__link">
    <span class="md-ellipsis">
      Duplicates, DISTINCT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Set Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Set Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#union-set-union" class="md-nav__link">
    <span class="md-ellipsis">
      UNION: set union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#except-set-difference-also-minus" class="md-nav__link">
    <span class="md-ellipsis">
      EXCEPT: set difference, also MINUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersect-set-intersection" class="md-nav__link">
    <span class="md-ellipsis">
      INTERSECT: set intersection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Pattern Matching
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pattern Matching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#literal-characters" class="md-nav__link">
    <span class="md-ellipsis">
      Literal Characters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    <span class="md-ellipsis">
      Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordering-or-sorting" class="md-nav__link">
    <span class="md-ellipsis">
      Ordering, or Sorting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modification-insert-delete-update" class="md-nav__link">
    <span class="md-ellipsis">
      Modification: INSERT, DELETE, UPDATE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-access" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Access
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null-logic" class="md-nav__link">
    <span class="md-ellipsis">
      NULL Logic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Nested Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparing-nested-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing Nested Queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correlated-nested-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Correlated Nested Queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unique" class="md-nav__link">
    <span class="md-ellipsis">
      UNIQUE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exists-and-not-exists" class="md-nav__link">
    <span class="md-ellipsis">
      EXISTS and NOT EXISTS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicit-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Explicit Sets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joined-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Joined Tables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregate Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouping" class="md-nav__link">
    <span class="md-ellipsis">
      Grouping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with" class="md-nav__link">
    <span class="md-ellipsis">
      WITH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case" class="md-nav__link">
    <span class="md-ellipsis">
      CASE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Recursive Queries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-assertions" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Assertions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Trigger
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-views" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-views" class="md-nav__link">
    <span class="md-ellipsis">
      Updating Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materialized-view" class="md-nav__link">
    <span class="md-ellipsis">
      Materialized View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views-for-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Views for Authorization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-change-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Change Statements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-algebra" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Algebra
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relational Algebra">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unary-relational-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Unary Relational Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unary Relational Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-operation" class="md-nav__link">
    <span class="md-ellipsis">
      SELECT Operation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-operation" class="md-nav__link">
    <span class="md-ellipsis">
      PROJECT Operation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rename-operation" class="md-nav__link">
    <span class="md-ellipsis">
      RENAME Operation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-of-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence of Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binary Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    <span class="md-ellipsis">
      UNION
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UNION">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outer-union" class="md-nav__link">
    <span class="md-ellipsis">
      OUTER UNION
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersect" class="md-nav__link">
    <span class="md-ellipsis">
      INTERSECT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minus" class="md-nav__link">
    <span class="md-ellipsis">
      MINUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cartesian-product" class="md-nav__link">
    <span class="md-ellipsis">
      CARTESIAN PRODUCT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-relational-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Relational Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Binary Relational Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#join" class="md-nav__link">
    <span class="md-ellipsis">
      JOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theta-join" class="md-nav__link">
    <span class="md-ellipsis">
      THETA JOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#equijoin" class="md-nav__link">
    <span class="md-ellipsis">
      EQUIJOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#natural-join" class="md-nav__link">
    <span class="md-ellipsis">
      NATURAL JOIN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inner-vs-outer-join" class="md-nav__link">
    <span class="md-ellipsis">
      Inner vs Outer Join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-set" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#division-operation" class="md-nav__link">
    <span class="md-ellipsis">
      DIVISION Operation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-tree-notation" class="md-nav__link">
    <span class="md-ellipsis">
      Query Tree Notation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalized-projection" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized Projection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-and-grouping" class="md-nav__link">
    <span class="md-ellipsis">
      AGGREGATE and Grouping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-closure-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Recursive Closure Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Calculus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relational Calculus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Range expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attribute-value" class="md-nav__link">
    <span class="md-ellipsis">
      Attribute value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant" class="md-nav__link">
    <span class="md-ellipsis">
      Constant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-operators_1" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple-relational-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple Relational Calculus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tuple Relational Calculus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selection" class="md-nav__link">
    <span class="md-ellipsis">
      Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selection-composite-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Selection Composite Expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projection" class="md-nav__link">
    <span class="md-ellipsis">
      Projection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_1" class="md-nav__link">
    <span class="md-ellipsis">
      Union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersection" class="md-nav__link">
    <span class="md-ellipsis">
      Intersection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-difference" class="md-nav__link">
    <span class="md-ellipsis">
      Set Difference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#natural-join_1" class="md-nav__link">
    <span class="md-ellipsis">
      Natural Join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cartesian-product_1" class="md-nav__link">
    <span class="md-ellipsis">
      Cartesian Product
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#divideby" class="md-nav__link">
    <span class="md-ellipsis">
      Divideby
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple-relational-calculus-atoms" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple Relational Calculus Atoms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predicate" class="md-nav__link">
    <span class="md-ellipsis">
      Predicate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Predicate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quantifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Quantifiers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safe-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Safe Expression
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-relational-calculus" class="md-nav__link">
    <span class="md-ellipsis">
      Domain Relational Calculus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstraction-knowledge-representation" class="md-nav__link">
    <span class="md-ellipsis">
      Abstraction, Knowledge Representation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Abstraction, Knowledge Representation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    <span class="md-ellipsis">
      Classification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiation" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identification" class="md-nav__link">
    <span class="md-ellipsis">
      Identification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specialization-generalization" class="md-nav__link">
    <span class="md-ellipsis">
      Specialization, Generalization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#association" class="md-nav__link">
    <span class="md-ellipsis">
      Association
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ontologies" class="md-nav__link">
    <span class="md-ellipsis">
      Ontologies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eer-relational-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      EER Relational Mapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EER Relational Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#composite-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Composite Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-value-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-value Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-to-one-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      One-to-one Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-to-many-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      One-to-Many Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#many-to-many-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Many-to-Many Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weak-entities" class="md-nav__link">
    <span class="md-ellipsis">
      Weak Entities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-disjoint-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Mandatory Disjoint Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-overlapping-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Mandatory Overlapping Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-mandatory-overlapping-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Mandatory Overlapping Relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-mandatory-disjoint-relationship" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Mandatory Disjoint Relationship
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#union-types" class="md-nav__link">
    <span class="md-ellipsis">
      Union Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Indexing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#size-of-the-table" class="md-nav__link">
    <span class="md-ellipsis">
      Size of the Table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-access-paths" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Access Paths
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reads-and-writes" class="md-nav__link">
    <span class="md-ellipsis">
      Reads and Writes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reads and Writes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functional-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Dependency
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-relation-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluating Relation Schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relational-decomposition" class="md-nav__link">
    <span class="md-ellipsis">
      Relational Decomposition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalization" class="md-nav__link">
    <span class="md-ellipsis">
      Normalization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normalization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normal-forms" class="md-nav__link">
    <span class="md-ellipsis">
      Normal Forms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normal Forms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      First Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#second-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Second Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#third-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Third Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boyce-codd-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Boyce-Codd Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multivalued-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Multivalued Dependency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fourth-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Fourth Normal Form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Join Dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fifth-normal-form" class="md-nav__link">
    <span class="md-ellipsis">
      Fifth Normal Form
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inference-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Inference Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inference Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#armstrongs-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Armstrong's Rules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#equivalence" class="md-nav__link">
    <span class="md-ellipsis">
      Equivalence
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimal-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Minimal Sets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disk-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Disk Storage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    <span class="md-ellipsis">
      Memory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#efficient-data-access" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient Data Access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficiency" class="md-nav__link">
    <span class="md-ellipsis">
      Efficiency
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Efficiency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buffering" class="md-nav__link">
    <span class="md-ellipsis">
      Buffering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#records-on-disk" class="md-nav__link">
    <span class="md-ellipsis">
      Records on Disk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Records on Disk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocating-file-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Allocating File Blocks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-organization" class="md-nav__link">
    <span class="md-ellipsis">
      File Organization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operations-on-files" class="md-nav__link">
    <span class="md-ellipsis">
      Operations on Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operations on Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#heap-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Heap Lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorted-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      Sorted Lookup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-level-ordered-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Single-Level Ordered Indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single-Level Ordered Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-index" class="md-nav__link">
    <span class="md-ellipsis">
      Primary Index
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Primary Index">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sparse-index" class="md-nav__link">
    <span class="md-ellipsis">
      Sparse index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dense-index" class="md-nav__link">
    <span class="md-ellipsis">
      Dense index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clustering-index" class="md-nav__link">
    <span class="md-ellipsis">
      Clustering Index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secondary-index" class="md-nav__link">
    <span class="md-ellipsis">
      Secondary Index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Static Hashing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mixed-records" class="md-nav__link">
    <span class="md-ellipsis">
      Mixed Records
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-level-index" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-level Index
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-multilevel-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Multilevel Indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Multilevel Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-trees-and-b-trees" class="md-nav__link">
    <span class="md-ellipsis">
      Search Trees and B-Trees
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-tree" class="md-nav__link">
    <span class="md-ellipsis">
      B-Tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-trees" class="md-nav__link">
    <span class="md-ellipsis">
      B⁺-Trees
    </span>
  </a>
  
    <nav class="md-nav" aria-label="B⁺-Trees">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leaf-node" class="md-nav__link">
    <span class="md-ellipsis">
      Leaf node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes on Indexes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notes on Indexes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-vs-physical-index" class="md-nav__link">
    <span class="md-ellipsis">
      Logical vs Physical Index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Index Creation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      Index Tuning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraints-and-duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints and Duplicates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-access-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Other Access Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing-hints-in-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing Hints in Queries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-based-storage-of-relations" class="md-nav__link">
    <span class="md-ellipsis">
      Column-Based Storage of Relations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#physical-database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Physical Database Design
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="database-systems-concepts-and-design">Database Systems Concepts and Design<a class="headerlink" href="#database-systems-concepts-and-design" title="Permanent link">&para;</a></h1>
<p>A database is a model of structures of reality.</p>
<h2 id="database-management-system">Database Management System<a class="headerlink" href="#database-management-system" title="Permanent link">&para;</a></h2>
<p>... is a software system allowing users to create and maintain a database.</p>
<p>When to use a <abbr title="Database Management System">DBMS</abbr>:</p>
<ul>
<li>For data-intensive applications</li>
<li>Persistent, centralized storage (centralized security, access policies)</li>
<li>Controlling data redundancy (consistency, integrity)</li>
<li>Multiple users</li>
<li>Data sharing (communication)</li>
<li>Documenting data via its structure</li>
<li>Data independence allows modification without affecting UI</li>
<li>Backup and recovery</li>
</ul>
<p>When not to use:</p>
<ul>
<li>Cost-benefit isn't worthwhile<ul>
<li>Investment in *ware, training is too high</li>
<li>Data and application is simple, stable</li>
</ul>
</li>
<li>The points above (security, concurrency for multiple users, recovery) aren't needed</li>
<li>Real-time requirements can't be met with a <abbr title="Database">DB</abbr></li>
</ul>
<p>Characteristics of a <abbr title="Database">DB</abbr> approach:</p>
<ul>
<li><abbr title="Database">DB</abbr> definition (metadata) is stored in the catalog</li>
<li>NOSQL systems (no metadata) are self-describing</li>
<li>Multiple different views of the database for different users</li>
<li>Data access, transaction processing shared among users</li>
</ul>
<h2 id="process-modeling">Process Modeling<a class="headerlink" href="#process-modeling" title="Permanent link">&para;</a></h2>
<ul>
<li>Fix and represent a perception of processes of reality</li>
<li>Processes are not reflected in <abbr title="Database">DB</abbr> structures, but reflected in how data is used through the <abbr title="Database Management System">DBMS</abbr></li>
<li>Processes can be represented by being embedded in program code<ul>
<li><abbr title="Database Manipulation Language">DML</abbr> between UI and <abbr title="Database">DB</abbr> acts as an interface for retrieving and displaying data to the user</li>
</ul>
</li>
<li>... or executed ad-hoc<ul>
<li><abbr title="Database Manipulation Language">DML</abbr> is directly used to build and run queries, do maintenance, ad-hoc</li>
</ul>
</li>
</ul>
<h2 id="data-modeling">Data Modeling<a class="headerlink" href="#data-modeling" title="Permanent link">&para;</a></h2>
<ul>
<li>Select aspects of reality that are important to the model and use abstraction to organize them</li>
<li>Examples of data models:<ul>
<li><strong>Extended Entity Relationship</strong> model is for fixing a perception of structures of reality</li>
<li><strong>Relational Model</strong> represents this perception as tables in a <abbr title="Database">DB</abbr>, and each table can be stored as a separate file</li>
<li><strong>Object Model</strong> defines a <abbr title="Database">DB</abbr> as objects, object properties and operations (methods) using classes organized in hierarchies (acyclic graphs)<ul>
<li>Also <strong>object-relational</strong> or <strong>extended relational systems</strong></li>
</ul>
</li>
<li><strong>Key-value data model</strong> where each value has a unique key</li>
<li><strong>Document data model</strong> stores data as documents, based on JSON</li>
<li><strong>Graph data model</strong> stores objects as graph nodes and relationships as directed graph edges</li>
<li><strong>Column-based data model</strong> stores columns of rows clustered on disk pages</li>
<li><strong>XML model</strong>, using hierarchal tree structures</li>
<li><strong>Hierarchical Model</strong> was the first <abbr title="Database">DB</abbr> system implemented in the <a href="https://en.wikipedia.org/wiki/IBM_Information_Management_System">IBM Information Management System (IMS)</a> (fundamental model of XML DBs today)</li>
</ul>
</li>
</ul>
<p>Data models consist of formalizations to express:</p>
<ul>
<li>Data structures</li>
<li>Constraints</li>
<li>Operations</li>
<li>Keys and identifiers</li>
<li>Integrity and consistency</li>
<li>Null values</li>
<li>Surrogates</li>
</ul>
<p>Data model != a model of data. A data model:</p>
<ul>
<li>Is a type of data abstraction for conceptual representation</li>
<li>Hides storage and granular implementation details</li>
</ul>
<h3 id="data-structures">Data Structures<a class="headerlink" href="#data-structures" title="Permanent link">&para;</a></h3>
<p>A database <strong>table</strong> (with a name) has <strong>columns</strong> (with names and data types). Collectively, these constitute the <strong>schema</strong> of the table. The schema is stable over time and doesn't usually change.</p>
<p>The database also has <strong>rows</strong> with data in them. The rows and their data are the <strong>state</strong> of the database and reflect the reality modeled. The state is dynamic and changes over time.</p>
<p><img alt="Table, columns, rows illustrated" src="../db-structures.png" /></p>
<h3 id="constraints">Constraints<a class="headerlink" href="#constraints" title="Permanent link">&para;</a></h3>
<p>Used to express rules that cannot be expressed by the data structure alone, for example:</p>
<ul>
<li>Uniqueness</li>
<li>Cannot be NULL</li>
<li>Minimum and maximum date, times, numbers</li>
<li>Geographic restriction</li>
</ul>
<h3 id="operations">Operations<a class="headerlink" href="#operations" title="Permanent link">&para;</a></h3>
<p>Used to support data change and retrieval. Involves:</p>
<ul>
<li>The method, or operation, e.g. INSERT</li>
<li>Conditions</li>
</ul>
<h3 id="keys-and-identifiers">Keys and Identifiers<a class="headerlink" href="#keys-and-identifiers" title="Permanent link">&para;</a></h3>
<p>Can be used as uniqueness constraints, for example using an email as a primary key. Primary keys are unique.</p>
<h3 id="integrity-and-consistency">Integrity and Consistency<a class="headerlink" href="#integrity-and-consistency" title="Permanent link">&para;</a></h3>
<p><strong>Integrity</strong> is a measure of how well the database reflects reality. <strong>Consistency</strong> is a lack of internal conflicts in the <abbr title="Database">DB</abbr>'s data.</p>
<p>For example, it makes maintenance and consistency harder if you:</p>
<ul>
<li>Have a column for a user's City, State, ZIP, and an additional column for the user's Address</li>
<li>Separately store date of birth and age of a user</li>
</ul>
<h3 id="null-values">NULL Values<a class="headerlink" href="#null-values" title="Permanent link">&para;</a></h3>
<p>NULL may mean that no information is available for this row and column. Unknown data represented by NULL is an acceptable situation.</p>
<p>If a NULL value instead means that this row and column in combination would be inapplicable (e.g. catch-all forms), the schema design is poor as it does not accurately reflect reality.</p>
<h3 id="surrogates">Surrogates<a class="headerlink" href="#surrogates" title="Permanent link">&para;</a></h3>
<p>An immutable, system-generated artificial identifier to represent an entity existing the real world in the <abbr title="Database">DB</abbr>.</p>
<ul>
<li><strong>Name-based representation</strong>: a thing is known only by the data that comprises it</li>
<li><strong>Surrogate-based representation</strong>: a thing is identified with a system-generated ID that doesn't change even if its data changes</li>
</ul>
<h2 id="architecture-ansisparc-3-level">Architecture: <abbr title="American National Standards Institute">ANSI</abbr>/SPARC 3-Level<a class="headerlink" href="#architecture-ansisparc-3-level" title="Permanent link">&para;</a></h2>
<p>A database has schema (intention, or types) and data (extension, or the data). Users query against the schema in order to retrieve data effectively and efficiently.</p>
<p><abbr title="American National Standards Institute">ANSI</abbr>/SPARC 3-Level separates the schema from how data is physically organized into an <em>internal schema</em>. This <em>physical data independence</em> allows changing the way data is stored (changing the internal schema) without affecting how the application has to query it (changing the conceptual or external schema).</p>
<p>One or more <em>external schema</em> serves as a layer of abstraction for applications. This gives applications a stable <abbr title="Application Programming Interface">API</abbr> that talks to the <em>conceptual schema</em>, which in turn uses the <em>internal schema</em> to access the data.</p>
<ul>
<li>Internal schema: how the data is stored</li>
<li>Conceptual schema: meaning of the data</li>
<li>External schema: use of data</li>
</ul>
<h3 id="internal-schema">Internal Schema<a class="headerlink" href="#internal-schema" title="Permanent link">&para;</a></h3>
<p>Describes how the information in the conceptual schema is physically stored to provide the best performance. For example, if users often query on <code>Email</code>, an index on <code>Email</code> would provide efficient performance. Additional indices can also increase efficiency.</p>
<p>Indexes are a list of the column, e.g. <code>Email</code>, and a pointer (<abbr title="Pointer (databases)">PTR</abbr>) to the row that contains the Email value.</p>
<h3 id="physical-data-independence">Physical Data Independence<a class="headerlink" href="#physical-data-independence" title="Permanent link">&para;</a></h3>
<p>How much the internal schema can change without affecting the conceptual schema.</p>
<h3 id="conceptual-schema">Conceptual Schema<a class="headerlink" href="#conceptual-schema" title="Permanent link">&para;</a></h3>
<p>Describes the general structural aspects of reality shown by the data, excluding time, data representation, physical organization, and access. For example, the <code>RegularUser</code> table has <code>Email</code>, <code>DOB</code>, <code>Name</code>, <code>Sex</code>, etc.</p>
<p>The conceptual schema does not offer information about how the data is displayed or accessed.</p>
<h3 id="logical-data-independence">Logical Data Independence<a class="headerlink" href="#logical-data-independence" title="Permanent link">&para;</a></h3>
<p>How much the conceptual schema can change without affecting the application(s) or external schema. Harder to achieve than physical data independence due to a tighter coupling between the external and conceptual schema.</p>
<h3 id="external-schema">External Schema<a class="headerlink" href="#external-schema" title="Permanent link">&para;</a></h3>
<p>Derives and describes data from part of a conceptual schema in a convenient form for the user or application. For example, a virtual table <code>create view FemaleUsers...</code> by conditionally selecting on <code>Sex</code>.</p>
<p>Virtual tables are views into the <abbr title="Database">DB</abbr> -- they don't really exist as tables.</p>
<h2 id="ansisparc-dbms-framework"><abbr title="American National Standards Institute">ANSI</abbr>/SPARC <abbr title="Database Management System">DBMS</abbr> Framework<a class="headerlink" href="#ansisparc-dbms-framework" title="Permanent link">&para;</a></h2>
<p>Consists of two pieces: <em>query transformer</em> and <em>schema compiler</em>.</p>
<h3 id="schema-compiler">Schema Compiler<a class="headerlink" href="#schema-compiler" title="Permanent link">&para;</a></h3>
<p>The metadatabase stores definitions of the conceptual, external, and internal schemas.</p>
<ul>
<li>The 🧍 <em>enterprise administrator</em> defines a conceptual schema using the language in interface (1).</li>
<li>The 🖥️ <em>conceptual schema processor</em> software verifies syntax and uses the language (2) to store that schema as metadata in the metadatabase.</li>
<li>An 🧍 <em>application system administrator</em> uses the language in interface (3) and the conceptual schema and expresses an external schema definition in interface (4). Multiple external schema can be defined.</li>
<li>An 🖥️ <em>external schema processor</em> software checks the external schema for correct syntax and to see that it is correctly and logically derived from the conceptual schema. It then stores the external schema definition in the metadatabase with interface (5).</li>
<li>A 🧍 <em>database administrator</em> uses the language in interface (3) and the conceptual schema to define an internal schema with the language in interface (13).</li>
<li>The 🖥️ <em>internal schema processor</em> software checks this internal schema definition for correct syntax and that it physically implements the conceptual schema. It then stores the internal schema definition in the metadatabase with interface (14).</li>
</ul>
<h3 id="query-transformer">Query Transformer<a class="headerlink" href="#query-transformer" title="Permanent link">&para;</a></h3>
<ul>
<li>The 🧍 user expresses queries on the database using language interface (12), either using ad-hoc queries or through the application's program code (TODO prepared queries).</li>
<li>An 🖥️ <em>external to conceptual schema transformer</em> uses the definitions for the external and conceptual schemas in the metadatabase (using interface (36)) to translate the user's queries into a form fit for the internal schema (using interface (31)).</li>
<li>The 🖥️ <em>conceptual to internal schema transformer</em> reads the conceptual and internal schema definitions using interface (36) and translates the query from interface (31) through interface (30) to a form fit for the...</li>
<li>🖥️ <em>internal schema to storage transformer</em>, which reads the internal schema definition from the metadatabase (through interface (34)). This translates the query from one that works on the internal schema to one that works on the data itself (<abbr title="Operating System">OS</abbr> or <abbr title="Database">DB</abbr> calls interface (21)).</li>
</ul>
<h3 id="framework-more-practically">Framework, more practically<a class="headerlink" href="#framework-more-practically" title="Permanent link">&para;</a></h3>
<ul>
<li><abbr title="Database Administration">DBA</abbr> staff write <abbr title="Data Definition Language">DDL</abbr> statements that are compiled by the <abbr title="Data Definition Language">DDL</abbr> compiler and stored in the metadatabase</li>
<li>Users can write interactive queries that are compiled and optimized by the query compiler and query optimizer, respectively<ul>
<li>This is then given as a <abbr title="Database Administration">DBA</abbr> command to the runtime database processor</li>
</ul>
</li>
<li>Programmers write applications that have host language code with embedded <abbr title="Database">DB</abbr> access; when these go through a precompiler, the host language compiler and <abbr title="Database Manipulation Language">DML</abbr> compiler create compiled transactions<ul>
<li>Compiled transactions are sent to the <abbr title="Database">DB</abbr> and executed by the runtime <abbr title="Database">DB</abbr> processor</li>
</ul>
</li>
<li>A concurrency control subsystem ensures competing transactions on the <abbr title="Database">DB</abbr> are executed in order</li>
</ul>
<h2 id="metadata">Metadata<a class="headerlink" href="#metadata" title="Permanent link">&para;</a></h2>
<p>Two types of metadata: system (critical to a <abbr title="Database Management System">DBMS</abbr>) and business (critical in a data warehouse).</p>
<p>System metadata includes:</p>
<ul>
<li>Where data came from</li>
<li>How data was changed</li>
<li>How data is stored and mapped</li>
<li>Who owns and who can access data</li>
<li>Data usage history and statistics</li>
</ul>
<p>Business metadata includes:</p>
<ul>
<li>What data are available and where it is located</li>
<li>How to access the data</li>
<li>What the data means</li>
<li>Predefined reports and queries</li>
<li>How current data are</li>
</ul>
<h2 id="database-application-development-methodology">Database Application Development Methodology<a class="headerlink" href="#database-application-development-methodology" title="Permanent link">&para;</a></h2>
<p>Operates under some assumptions:</p>
<ul>
<li>Business processes are well-designed</li>
<li>The documents (<abbr title="Database">DB</abbr> input and output), tasks, and system boundary are known</li>
<li>We can design one <abbr title="Database">DB</abbr> schema that unifies all views<ul>
<li>Difficulties include different interests, goals, power, and politics in the organization</li>
<li>Organizations need shared goals</li>
</ul>
</li>
</ul>
<p>Software Process typically includes:</p>
<ul>
<li>Business process design</li>
<li>*Analysis</li>
<li>*Specification</li>
<li>*Design</li>
<li>*Implementation</li>
<li>Testing</li>
<li>Operation</li>
<li>Maintenance</li>
</ul>
<p>*<em>Unique for <abbr title="Database">DB</abbr> development</em></p>
<p><abbr title="Database">DB</abbr> design involves data first instead of software first.</p>
<ul>
<li><strong>Requirements collection and analysis</strong>: ask questions of prospective users to document their <strong>data requirements</strong></li>
<li>Specify <strong>functional requirements</strong>, consisting of user-defined <strong>operations</strong> (<strong>transactions</strong>)</li>
<li><strong>Conceptual design</strong>: create a <strong>conceptual schema</strong> with a high-level data model</li>
<li><strong>Logical design</strong> (<strong>data model mapping</strong>): <abbr title="Database">DB</abbr> implementation using <abbr title="Database Management System">DBMS</abbr></li>
<li><strong>Physical design</strong>: specifies <strong>internal storage</strong> structures, organization, indexes, access paths</li>
</ul>
<p><img alt="DB design illustrated" src="../db-design.png" /></p>
<ol>
<li>Analysis produces an <em>Information Flow Diagram</em></li>
<li>Specification produces an <em>ER or <abbr title="Extended-Entity Relationship">EER</abbr> Diagram</em>, and from that, <em>Tasks</em></li>
<li>In Design, the ER Diagram is translated to a <em>Relational Schema</em> and the Tasks to <em>Abstract Code</em> (like <abbr title="Structured Query Language">SQL</abbr>)</li>
<li>In Implementation, the Relational Schema becomes a specific <abbr title="Database">DB</abbr> implementation, and the Abstract Code a specific programming language</li>
</ol>
<h3 id="analysis-information-flow-diagram">Analysis: Information Flow Diagram<a class="headerlink" href="#analysis-information-flow-diagram" title="Permanent link">&para;</a></h3>
<ul>
<li>Denotes input and output documents, tasks, and system boundary</li>
<li>Shows (possible) information flow, <em>not</em> control flow of the program<ul>
<li>Denote direction of flow (input or output) with arrows</li>
</ul>
</li>
<li>Never connect two documents or two tasks</li>
</ul>
<h3 id="specification">Specification<a class="headerlink" href="#specification" title="Permanent link">&para;</a></h3>
<p>Outputs:</p>
<ul>
<li><abbr title="Extended-Entity Relationship">EER</abbr> Diagram</li>
<li>Data Formats</li>
<li>Constraints</li>
<li>Task Decomposition</li>
</ul>
<h2 id="extended-entity-relationship-model">Extended-Entity Relationship Model<a class="headerlink" href="#extended-entity-relationship-model" title="Permanent link">&para;</a></h2>
<p>ER diagram notation:</p>
<p><img alt="ER notation reference" src="../er-notation.png" /></p>
<h3 id="words-matter">Words Matter<a class="headerlink" href="#words-matter" title="Permanent link">&para;</a></h3>
<p>and, or, not, must, may, always, never, sometimes, at least, at most, for some, for all, overlap, disjoint, exists, unique, single, multiple, type, instance, surrogate, value</p>
<ul>
<li>"any" of these options could be valid</li>
</ul>
<h3 id="entities">Entities<a class="headerlink" href="#entities" title="Permanent link">&para;</a></h3>
<p>An <strong>entity type</strong> and <strong>entity surrogate</strong> is a time-invariant representation of something, e.g. a user. Their names must be unique.</p>
<h3 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">&para;</a></h3>
<p><strong>Properties</strong>, or <strong>attributes</strong>, describe entities.</p>
<p><strong>Composite properties</strong> are composed (concat) of more than one part, e.g. <code>Name</code> is created with the component properties <code>FirstName</code> and <code>LastName</code>. Composite properties can be hierarchal.</p>
<p><strong>Simple</strong> or <strong>atomic</strong> attributes are not decomposable.</p>
<p>An entity can have <strong>single-valued property types,</strong> e.g. an email or password.</p>
<p><strong>Multi-valued properties</strong> contain many values, for example, a field <code>Interests</code> that holds many interest values.</p>
<p><strong>Identifying properties</strong> or <strong>key attributes</strong>, e.g. an email, identifies a single entity instance. Key attributes may be composites, e.g. <code>Name</code>. An entity may have more than one key attribute (no primary key concept in ER).</p>
<p>Related attribute values give us <strong>derived attributes</strong> and <strong>stored attributes</strong>. A DOB is a stored attribute, and a person's age can be derived from it. Derived attributes are often counts.</p>
<p>DBs contain <strong>entity types</strong>: groups of entities (<strong>entity collection</strong> or <strong>entity set</strong>) that have the same attributes.</p>
<h3 id="classes-inheritance">Classes, Inheritance<a class="headerlink" href="#classes-inheritance" title="Permanent link">&para;</a></h3>
<p><strong>Supertype</strong> and <strong>subtype</strong> (<strong>superclass</strong> <em>C</em> and <strong>subclass</strong> <em>S</em>) give us <strong>class/subclass relationship types</strong> (<strong>is-a relationships</strong>).</p>
<div class="arithmatex">\[
\mathit{S}\subseteq\mathit{C}
\]</div>
<p>These place entities into non-exclusive subcategories. For example, <code>Users</code> may be <code>Male</code> or <code>Female</code>, <code>AdminUser</code> or <code>RegularUser</code>. Supertypes and subtypes inherit the properties of the base type, e.g. all types of users have an email. Supertypes and subtypes also have <strong>local</strong> properties specific to that type, e.g. <code>Female</code> users have <code>MaidenName</code>. Creating a superclass entity from previously separate entities is called <strong>generalization</strong> (<strong>generalized entity type</strong> <em>G</em>).</p>
<p>A <strong>specialization</strong> <em>Z</em> is a set of subclasses <em>S</em> with the same superclass, <em>G</em> (<em>G/Sᵢ</em>).</p>
<div class="arithmatex">\[
\mathit{Z}=\{\mathit{S_1,S_2,...,S_n}\}
\]</div>
<p><em>Z</em> is said to be total if:</p>
<div class="arithmatex">\[
\cup_{\mathit{i=1}}^\mathit{n}\mathit{S_i}=\mathit{G}
\]</div>
<p>Otherwise it is partial.</p>
<p><strong>Predicate-defined</strong> (<strong>condition-defined</strong>) subclasses, <em>S</em>, are defined by the <strong>defining prediciate</strong>, or a predicate <em>p</em> that is a constraint for that subclass. For example, a <code>Secretary</code> (<em>S</em>) is a predicate-defined subclass of the superclass <code>Employee</code> (<em>C</em>) where <code>JobType</code> (<em>p</em>) is <code>Secretary</code>.</p>
<div class="arithmatex">\[
\mathit{S}=\mathit{C[p]}
\]</div>
<p>When this is the case for all subclasses, the superclass <em>C</em> is called an <strong>attribute-defined specialization</strong> with subclasses indicated by the <strong>defining attribute</strong>, <em>(A=cᵢ)</em>, where <em>cᵢ</em> is a constant value from the domain of <em>A</em>.</p>
<p>When subclasses are not defined with a condition, they are <strong>user-defined</strong>.</p>
<p>Designing classes from the generalization to the specializations is <strong>top-down conceptual refinement</strong>. Moving in the other direction is <strong>bottom-up conceptual synthesis</strong>.</p>
<p><strong>Union entity types</strong> (<strong>category</strong> <em>T</em>) is a subclass of an entity union with another entity type (superclasses <em>D</em>).</p>
<div class="arithmatex">\[
\mathit{T}\subseteq(\mathit{D_1}\cup\mathit{D_2}...\cup\mathit{D_n})
\]</div>
<p>For example, entities in the <code>PrivateSector</code> or the <code>PublicSector</code> can both be <code>Employer</code>s. There exist no <code>Employer</code> entities that are not either a <code>PrivateSector</code> or <code>PublicSector</code> employer. As well, the intersection between <code>PrivateSector</code> and <code>PublicSector</code> is empty; no <code>Employer</code> can be both.</p>
<p><img alt="Union notation illustration" src="../eer-union.PNG" /></p>
<p>Categories can also be total or partial and may have different key attributes (names), depending on the subclass.</p>
<h3 id="tree-and-lattice">Tree and Lattice<a class="headerlink" href="#tree-and-lattice" title="Permanent link">&para;</a></h3>
<p>A <strong>tree structure</strong> (<strong>specialization</strong> or <strong>strict hierarchy</strong>) constrains every subclass to have only one parent (<strong>single inheritance</strong> of attributes and relationships). In a <strong>specialization lattice</strong>, subclasses may have more than one class/subclass relationship.</p>
<p>Subclasses with more than one parent are <strong>shared subclasses</strong> (<strong>multiple inheritance</strong> of attributes and relationships); this implies a lattice.</p>
<p>A <strong>leaf node</strong> is a class without subclasses.</p>
<h3 id="constraints_1">Constraints<a class="headerlink" href="#constraints_1" title="Permanent link">&para;</a></h3>
<p>A <strong>disjointness constraint</strong> may apply to subclasses, where an entity can be a member of at most one subclass (can't be both). This includes attribute-defined specializations implicitly for single-value attributes. Specializations that <strong>overlap</strong> indicate that entities can be members of more than one subclass.</p>
<p><img alt="Disjoint and overlap constraints notation" src="../eer-constraint.PNG" /></p>
<p>If neither of these constraints are indicated, subclasses are non-exclusive.</p>
<p>A <strong>specialization</strong> (subclass) <em>Z</em> is said to be disjoint if:</p>
<div class="arithmatex">\[
\mathit{S_i}\cap\mathit{S_j}=\oslash
\]</div>
<p>for:</p>
<div class="arithmatex">\[
\mathit{i}\ne\mathit{j}
\]</div>
<p>Otherwise it's overlapping. Both disjoint and overlapping constraints may be total or partial specializations.</p>
<p>A <strong>totalness constraint</strong> (<strong>total specialization</strong>, <strong>total participation</strong>, <strong>existence dependency</strong>) means every entity in the superclass must be a member in at least one subclass; i.e.  every entity in the total set is related to the other entity.</p>
<p><img alt="Total and partial participation" src="../total-partial.png" /></p>
<p><strong>Partial specialization</strong> (<strong>partial participation</strong>) allows entities not to belong to any subclass; i.e. some or part of the set of entities are related to the other entity.</p>
<p>Relationships have <strong>cardinality</strong>, the maximum number of relationship instances an entity can participate in. Cardinality is expressed as a ratio. A relation with cardinality <code>1:1</code> is constrained as a <strong>one-to-one relationship.</strong> We also have <strong>one-to-many relationships</strong> (<code>1:N</code>) where one surrogate is linked to one or more other surrogates.</p>
<ul>
<li><code>1</code>: maximum one</li>
<li><code>N</code> or <code>M</code>: "many," no maximum number</li>
</ul>
<p>We may have <strong>minimum cardinality constraints</strong> as well.</p>
<h3 id="relationships">Relationships<a class="headerlink" href="#relationships" title="Permanent link">&para;</a></h3>
<p>A <strong>mandatory one-to-many relationship</strong> is constrained so that surrogates from group B (the <code>N</code> side) must be mapped to a surrogate in group A (relation cannot be null). When all surrogates in group B are mapped to one from group A, this is a <strong>total function.</strong> A <strong>partial function</strong> means that not all surrogates from group B are mapped to a surrogate from group A.</p>
<p>A <strong>many-to-many relationship</strong> (<code>M:N</code>) can have multiple surrogates from group A (the <code>N</code> side) associated with a particular surrogate in group B (the <code>M</code> side). Likewise, many surrogates from group B may be associated with a particular surrogate in group A. Any single element in either group may be mapped to multiple elements in the other group. This is not called a function, but a <strong>relationship</strong> in the mathematical sense.</p>
<p><img alt="Relationship diagrams" src="../relationships.jpg" /></p>
<p>Any composition of relationship types involving a <code>M:N</code> relationship or two <code>1:N</code> relationships is also <code>M:N</code>:</p>
<p><code>A 1:N B</code> and <code>C M:N B</code> = <code>A M:N C</code></p>
<p><code>A 1:N B</code> and <code>C 1:N B</code> = <code>A M:N C</code></p>
<p>As opposed to binary relationship types, <strong>N-ary relationship types</strong> are defined by combinations of entities, e.g. <code>Email</code> for a person, <code>EventName</code> for a type of event, and <code>TeamName</code> for a team for that event. The person, event, and team are all required to specify the <code>Position</code>. These exist as it is not always possible to decompose a conjunction of three relationships into binary relationships, e.g., you could not accurately specify a position without the person, event, or team in question.</p>
<p><strong>Weak entities</strong> are identified by their <strong>identifying relationship</strong>, in which they always have total participation. For example, a <code>StatusUpdate</code> is uniquely identified by its <code>DateAndTime</code> (a <strong>partial identifier</strong> since it is not sufficient on its own to identify a unique <code>StatusUpdate</code>) as well as a <code>User</code>'s <code>Email</code>. <code>StatusUpdate</code> is a weak entity type since one cannot be uniquely found without the identifying relation to <code>Email</code> through <code>User</code>.</p>
<p><strong>Recursive</strong> or <strong>self-referencing relationships</strong> relate the entity type to itself in different roles, for example, one <code>AdminUser</code> is the manager of another <code>AdminUser</code>. Directional arrows help diagram this relationship.</p>
<p><strong>Implicit relationships</strong> exist whenever an attribute of one entity type refers to another entity type, e.g. an entity <code>Employee</code> has an attribute <code>Department</code> that refers to a particular <code>Department</code> entity.</p>
<p>Relationships are not entities and don't have properties.</p>
<ul>
<li>Move properties onto entities that keep the most granular detail, e.g. <code>EmployedSinceDate</code> onto <code>Employee</code> as opposed to <code>Employer</code>, where the one value would be the same for everyone.</li>
<li>Create a "through" entity or <strong>objectified relationship type</strong>, e.g. a <code>User</code> can map to many <code>SchoolsAttended</code> (with property <code>GPA</code>). A <code>School</code> can map to many <code>SchoolsAttended</code> and this creates a many-to-many relationship between <code>User</code> and <code>School</code>.</li>
</ul>
<p>Properties and entities are not necessarily consistent across databases. For example, <code>LastName</code> may be a property of <code>User</code> in one app. In another app it may be the central entity of a genealogy database, with properties for <code>Language</code>, <code>Era</code>, etc. Understanding the context is important.</p>
<h2 id="relational-model">Relational Model<a class="headerlink" href="#relational-model" title="Permanent link">&para;</a></h2>
<p>Each relation resembles a table of values; a <em>flat file</em> of records with a linear (flat) structure.</p>
<ul>
<li>Data structures</li>
<li>Constraints</li>
<li>Operations<ul>
<li>Algebra</li>
<li>Calculus<ul>
<li>Two notations: tuple calculus in <abbr title="Structured Query Language">SQL</abbr> (tuples of relations are variables) and domain calculus in QBE (cells of domains are variables)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="data-structures_1">Data Structures<a class="headerlink" href="#data-structures_1" title="Permanent link">&para;</a></h3>
<p><img alt="Degree, relation, and cardinality illustrated" src="../eer-structures.png" /></p>
<p><strong>Degree</strong> of a relationship type is its number of participating entities. Degree of two is <strong>binary</strong>, degree of three is <strong>ternary</strong>. A higher degree is more complex.</p>
<p>Values that are <strong>atomic</strong> are indivisible (formally, in the relational model).</p>
<p>A <strong>domain</strong>, <em>D</em>, is a set of atomic values (a type). Each simple attribute of an entity type has a domain of values (value set, or basic types, data types). These are not shown on basic ER diagrams.</p>
<p>An attribute <em>A</em> of entity set <em>E</em> with value set <em>V</em> defined as a function from <em>E</em> to the power set <em>P(V)</em> (set of all subsets of <em>V</em>):</p>
<div class="arithmatex">\[
\mathit{A}:\mathit{E}\to\mathit{P}(\mathit{V})
\]</div>
<p>Value of attribute <em>A</em> for entity <em>e</em> is <em>A(e)</em>.</p>
<ul>
<li>Null values are represented by <em>empty set</em></li>
<li>For single-value attributes, <em>A(e)</em> is restricted to being a <em>singleton set</em></li>
</ul>
<p>For a composite attribute <em>A</em>, value set <em>V</em> is thw power set of the Cartesian product:</p>
<div class="arithmatex">\[
\mathit{V}=\mathit{P}(\mathit{P}(\mathit{V_{1}})\times\mathit{P}(\mathit{V_{2}})\times...\times\mathit{P}(\mathit{V_{{n}}}))
\]</div>
<p>... where:</p>
<div class="arithmatex">\[
\mathit{V_{i}},...,\mathit{V_{n}}
\]</div>
<p>... are the value sets of the simple component attributes for <em>A</em>.</p>
<p>A <strong>relation schema</strong> (or relation scheme, relation intension) consists of a relation name, <em>R,</em> and its list of attributes, <em>A1</em> ... <em>An</em>, and is denoted <em>R(A1, A2, ..., An)</em>. Each attribute is the name of a role of some domain <em>D</em>, i.e. a value of some data type. The domain of any attribute is <strong>dom(<em>Ai</em>)</strong>. The <strong>degree</strong> or <strong>arity</strong> of a relation is the number of attributes it has.</p>
<pre><code class="language-sql">STUDENT(Name, ID, Phone_number, Address)
</code></pre>
<p>A <strong>relation</strong>, <em>r</em> of the relation schema, is a set of tuples. (In a set, elements are distinct; mathematically, they are unordered.) Also <strong>relation state</strong>, this can be denoted <em>r(R)</em>.</p>
<p>The relation schema can be interpreted as a <strong>declaration</strong>, an <strong>assertion</strong>, or as a <strong>predicate</strong>, and each tuple interpreted as a <strong>fact</strong> or particular <strong>instance</strong> of the assertion, or as values that <em>satisfy</em> the predicate. Relations may represent facts about entities or relationships.</p>
<p>The <strong>closed world assumption</strong> states that the only true facts in the universe are those present within the extension (state) of the relation(s) .</p>
<h4 id="two-ways-to-define-relation">Two Ways to Define Relation<a class="headerlink" href="#two-ways-to-define-relation" title="Permanent link">&para;</a></h4>
<p>Where a <em>n</em>-tuple is an ordered list of <em>n</em> values (the order of the values in the tuple is important):</p>
<blockquote>
<p>A relation (or relation state) <em>r(R)</em> is a mathematical relation of degree <em>n</em> on the domains dom(A1), dom(A2), ..., dom(An), which is a subset of the Cartesian product (denoted by x) of the domains that define R:
$$
\mathit{r(R)} \subseteq (dom(A_{1}) \times dom(A_{2}) \times ... \times dom(A_{n}))
$$</p>
</blockquote>
<p>Alternatively, where tuples are defined as mappings and considered a set of (attribute, value) pairs. In this case the ordering of attributes is not important since the attribute name appears with its value (<strong>self-describing data</strong>):</p>
<p>A <strong>relationship type</strong>, <em>R</em>, defines a set of associations (<strong>relationship set</strong>) among entities from entity types <em>participating</em> in <em>R</em>. Each individual entity participates in the relationship instance:</p>
<div class="arithmatex">\[
\mathit{r_{i}}=(\mathit{e_{1}},\mathit{e_{2}},...,\mathit{e_{n}},)
\]</div>
<p><em>R</em> is a subset of the set of ordered n-tuples:</p>
<div class="arithmatex">\[
\mathit{R}\subseteq\{&lt;\mathit{d}_{1},\mathit{d}_{2},...,\mathit{d}_{n}&gt;|\mathit{d}_{i}\in\mathit{D}_{i},\mathit{i}\=\mathit{1},...,\mathit{n}\}
\]</div>
<p>This means that each element in the tuple,</p>
<div class="arithmatex">\[
\mathit{d}_{i}
\]</div>
<p>is pulled from the corresponding domain</p>
<div class="arithmatex">\[
\mathit{D}_{i}
\]</div>
<p>An <strong>attribute</strong>, <code>A</code>, is a unique name given to a domain in a relation and is used instead of referring to the position of a column in a table. The order of attributes and tuples is independent of what the value of the current relation is.</p>
<h3 id="relational-databases-and-their-schemas">Relational Databases and their Schemas<a class="headerlink" href="#relational-databases-and-their-schemas" title="Permanent link">&para;</a></h3>
<p>A <strong>relational database schema</strong> <em>S</em> is a set of relation schemas:</p>
<div class="arithmatex">\[
\mathit{S} = \{\mathit{R}_{1}, \mathit{R}_{2}, ..., \mathit{R}_{m}\}
\]</div>
<p>... and a set of <strong>integrity constraints</strong> <em>IC</em>.</p>
<p>A <strong>relational database state</strong> <em><abbr title="Database">DB</abbr></em> of <em>S</em> is a set of relation states:</p>
<div class="arithmatex">\[
DB = \{\mathit{r}_{1},\mathit{r}_{2}, ..., \mathit{r}_{m}\}
\]</div>
<p>... such that each <em>rᵢ</em> is a state of <em>Rᵢ</em>; and the <em>rᵢ</em> relation states satisfy the IC. Whether a state obeys its IC is called <strong>valid state</strong> or <strong>not valid</strong>.</p>
<p>A "relational database" implies both its schema and current state.</p>
<h3 id="constraints_2">Constraints<a class="headerlink" href="#constraints_2" title="Permanent link">&para;</a></h3>
<p><strong>State constraints</strong> (static constraints) define constraints that a valid state of the database must satisfy. <strong>Transition constraints</strong> (dynamic constraints) can be defined to deal with state changes in the database and are typically enforced by the application.</p>
<p><strong>Inherent model-based constraints</strong> or <strong>implicit constraints</strong> are, go figure, inherent in the data model.</p>
<p><strong>Schema-based constraints</strong> or <strong>explicit constraints</strong> can be directly expressed in the schemas of the data model, e.g. specifying them in the <abbr title="Data Definition Language">DDL</abbr>. They include:</p>
<h4 id="domain-constraints">Domain Constraints<a class="headerlink" href="#domain-constraints" title="Permanent link">&para;</a></h4>
<p>The value of each attribute within a tuple must be an atomic value from the domain.</p>
<p>Violated if an attribute value does not appear in the corresponding domain (is the wrong data type).</p>
<h4 id="key-constraints">Key constraints<a class="headerlink" href="#key-constraints" title="Permanent link">&para;</a></h4>
<p>A <strong>uniqueness constraint</strong> states that no two tuples in a relation can be the same and also applies to superkeys. Where <em>SK</em> is a <strong>superkey</strong> of <em>R</em>:</p>
<div class="arithmatex">\[
\mathit{t}_{1}[SK]\ne\mathit{t}_{2}[SK]
\]</div>
<ul>
<li>The default superkey is the set of all a relation's attributes, which can include redundancy</li>
<li>A <strong>key</strong> <em>k</em> has no redundancy and satisfies both <em>uniqueness property</em> and <em>minimality property</em></li>
<li>If you remove any attribute from <em>K</em>, you leave a set of attributes <em>K'</em> that is no longer a superkey of <em>R</em></li>
<li>A <em>minimal superkey</em> cannot have any attributes removed and still have its uniqueness hold<ul>
<li>This <em>minimality property</em> is required for a key but optional for a superkey</li>
</ul>
</li>
<li>A key with multiple attributes requires all its attributes together to have uniqueness</li>
<li>A key is a superkey, but not vice versa; i.e. only a minimal superkey is a key (e.g. superkey with a single attribute)</li>
<li>A key's set of attributes is a property of the relation schema and should hold on every valid relation state of the schema</li>
<li>The property of a key is <em>time-invariant</em> and must hold when new tuples are inserted (i.e.<code>Name</code> is a poor key because two people can have the same name)</li>
<li>A relation schema may have more than one <strong>candidate key</strong>, and one may be designated as the <strong>primary key</strong>; the other candidates are designated <strong>unique keys</strong></li>
</ul>
<p>Violated if a new key value already exists in another tuple in the relation.</p>
<h4 id="constraints-on-nulls">Constraints on NULLs<a class="headerlink" href="#constraints-on-nulls" title="Permanent link">&para;</a></h4>
<p>NULL values have several different meanings:</p>
<ul>
<li>Value unknown</li>
<li>Value exists but is not available, or is withheld</li>
<li>Not applicable attribute (or value undefined)</li>
</ul>
<p>Whether NULL values are permitted for the attribute.</p>
<h4 id="entity-integrity-constraints">Entity Integrity Constraints<a class="headerlink" href="#entity-integrity-constraints" title="Permanent link">&para;</a></h4>
<p>States that no primary key value can be NULL. Violated if any part of the <abbr title="Primary Key">PK</abbr> is NULL.</p>
<h4 id="referential-integrity-constraints">Referential Integrity Constraints<a class="headerlink" href="#referential-integrity-constraints" title="Permanent link">&para;</a></h4>
<p>Specified between two relations; maintains consistency among tuples in both. A tuple in one relation that refers to another relation must refer to an existing tuple (no orphans). Specified on the relational database schema so the <abbr title="Database Management System">DBMS</abbr> can enforce these constraints on the database states; defined via the <abbr title="Data Definition Language">DDL</abbr>.</p>
<p>Conditions for a foreign key specify a referential integrity constraint between <em>R₁</em> (the <strong>referencing relation</strong>) and <em>R₂</em> (the <strong>referenced relation</strong>). <em><abbr title="Foreign Key">FK</abbr></em> is a set of attributes in the relation schema <em>R₁</em> that <em>reference</em> or <em>refer to</em> the relation <em>R₂</em>.</p>
<ul>
<li><abbr title="Foreign Key">FK</abbr> attributes have the same domain(s) as the <abbr title="Primary Key">PK</abbr> of the relation it references</li>
<li>
<p>The value of any <abbr title="Foreign Key">FK</abbr> either occurs as a value of <abbr title="Primary Key">PK</abbr> for the tuple it refers to, or it is NULL:</p>
<div class="arithmatex">\[
t_{1}[FK] = t_{2}[PK]
\]</div>
</li>
<li>
<p>If these two conditions hold, the referential integrity constraint from <em>R₁</em> to <em>R₂</em> is said to hold.</p>
</li>
<li>A <abbr title="Foreign Key">FK</abbr> can refer to its own relation, e.g. EMPLOYEE has a Supervisor_ID which is another EMPLOYEE.</li>
</ul>
<p>These are diagrammed with directed arcs where the arrowhead points to the <abbr title="Primary Key">PK</abbr> of the referenced relation.</p>
<p>FKs reference <strong>primary keys</strong> (<abbr title="Primary Key">PK</abbr>):</p>
<ul>
<li>Unique and must not be NULL, e.g. emails for <code>User</code>s</li>
<li>When used in another table, e.g. <code>RegularUser</code>, the set of PKs that appear in <code>RegularUser</code> must be a subset of the values from the <code>User</code> table</li>
</ul>
<p>Violated if the value of any <abbr title="Foreign Key">FK</abbr> refers to a tuple that does not exist in the referenced relation.</p>
<h4 id="semantic-constraints">Semantic Constraints<a class="headerlink" href="#semantic-constraints" title="Permanent link">&para;</a></h4>
<p><strong>Application-based</strong> or <strong>semantic constraints</strong> or <strong>business rules</strong> cannot be expressed in the schemas of the data model and must be programmed into application logic. Sometimes they can be specified as <strong>assertions</strong> in <abbr title="Structured Query Language">SQL</abbr> using triggers and assertions (constraint specification language).</p>
<p><strong>Data dependencies</strong> (functional, multivalued dependencies) are used for testing the design of a relational database and are utilized in <em>normalization</em>.</p>
<h3 id="update-operations-transactions-handling-constraint-violations">Update Operations, Transactions, Handling Constraint Violations<a class="headerlink" href="#update-operations-transactions-handling-constraint-violations" title="Permanent link">&para;</a></h3>
<p>Operations are either <em>retrievals</em> or <em>updates</em>. Retrievals are specified by relational algebra operations and answer the user's query with a <strong>result relation</strong>.</p>
<p>Database <strong>modification</strong> or <strong>update</strong> operations change the states of relations in the database.</p>
<h4 id="insert">Insert<a class="headerlink" href="#insert" title="Permanent link">&para;</a></h4>
<p>Provides a list of attribute values for a new tuple <em>t</em> to be inserted into a relation <em>R</em>. If the insertion violates any constraint, the default option is to reject it.</p>
<p>Alternatively an attempt may be made to correct the reason for rejecting the insertion: e.g. please provide a value for a non-nullable field, or please provide a value for the referenced relation if none exists before accepting a <abbr title="Primary Key">PK</abbr>. This is not typically used for violations caused by Insert (a violation could cascade).</p>
<h4 id="delete">Delete<a class="headerlink" href="#delete" title="Permanent link">&para;</a></h4>
<p>Can only violate referential integrity if the tuple being deleted is referenced by a <abbr title="Foreign Key">FK</abbr> elsewhere in the <abbr title="Database">DB</abbr>.</p>
<p>If a violation occurs, options include:</p>
<ul>
<li>Restrict: reject the deletion</li>
<li>Cascade: propagate the deletion by deleting tuples that reference the tuple being deleted</li>
<li>Set null or set default: modify the referencing attribute values, e.g. set these to NULL or a default<ul>
<li>If the referencing attribute is part of a <abbr title="Primary Key">PK</abbr>, it cannot be set to NULL</li>
</ul>
</li>
<li>It's also possible to combine these three</li>
</ul>
<h4 id="update">Update<a class="headerlink" href="#update" title="Permanent link">&para;</a></h4>
<p>An <strong>Update</strong> or <strong>Modify</strong> is used to change the values of one or more attributes in tuple(s). If the updated attribute is not part of a <abbr title="Primary Key">PK</abbr> or <abbr title="Foreign Key">FK</abbr>, no violations are usual. If it is, modification is similar to delete + insert and is dealt with similarly.</p>
<h4 id="transaction">Transaction<a class="headerlink" href="#transaction" title="Permanent link">&para;</a></h4>
<p>A <strong>transaction</strong> is the executing program that includes database operations, e.g. reading, insertions, deletions, updates. Upon finishing, a transaction must leave the <abbr title="Database">DB</abbr> in a valid state (consistent state) that satisfies all constraints.</p>
<p>Any number of retrieval and update operations form an atomic unit of work against the <abbr title="Database">DB</abbr>.</p>
<h2 id="sql"><abbr title="Structured Query Language">SQL</abbr><a class="headerlink" href="#sql" title="Permanent link">&para;</a></h2>
<p>Structured Query Language (from Structured English QUEry Language, SEQUEL) provides a higher-level (than relational algebra operations) declarative language interface; i.e. the user specifies what the result should be, and optimization and execution is left up to the <abbr title="Database Management System">DBMS</abbr>. <abbr title="Structured Query Language">SQL</abbr> is based on tuple relational calculus, some algebra.</p>
<ul>
<li>Part of System R, 1973</li>
<li><abbr title="American National Standards Institute">ANSI</abbr> &amp; <abbr title="International Standards Organization">ISO</abbr> Standards<ul>
<li><abbr title="Structured Query Language">SQL</abbr>/86, <abbr title="Structured Query Language">SQL</abbr>/89</li>
<li><abbr title="Structured Query Language">SQL</abbr>/92 or SQL2</li>
<li>SQL3, 1999</li>
<li>Revisions: 2003, 2006, 2008, 2011</li>
</ul>
</li>
<li>Supported by IBM, DB2, Oracle, SYBASE, SQLServer, MySQL</li>
</ul>
<p>A <strong>core</strong> specification is supposed to be implemented by <abbr title="Structured Query Language">SQL</abbr> compliant RDBMS vendors; specialized <strong>extensions</strong> can be implemented as optional modules.</p>
<p>Terms (<abbr title="Structured Query Language">SQL</abbr>: formal relational model)</p>
<ul>
<li><strong>table</strong>: relation</li>
<li><strong>row</strong>: tuple</li>
<li><strong>column</strong>: attribute</li>
</ul>
<h3 id="schema-and-catalog">Schema and Catalog<a class="headerlink" href="#schema-and-catalog" title="Permanent link">&para;</a></h3>
<p>A <strong><abbr title="Structured Query Language">SQL</abbr> schema</strong> is identified by a <strong>schema name</strong>; an <strong>authorization identifier</strong>, indicating the user/account who owns the schema; and <strong>descriptors</strong> for each element in the schema (tables, types, constraints, views, domains, authorization grants, etc).</p>
<p>A <strong>catalog</strong> is a named collection of schemas (also, a cluster of catalogs). It contains a special INFORMATION_SCHEMA that provides information on all schemas in the catalog and element descriptors in those schemas.</p>
<ul>
<li>Integrity constraints (e.g. referential integrity) can be defined between relations only if they exist in schemas within the same catalog</li>
<li>Schemas in the same catalog can share certain elements, e.g. type, domain definitions</li>
</ul>
<p><abbr title="Structured Query Language">SQL</abbr> keywords are not case-sensitive.</p>
<h3 id="attribute-data-types-domains">Attribute Data Types, Domains<a class="headerlink" href="#attribute-data-types-domains" title="Permanent link">&para;</a></h3>
<h4 id="numeric">Numeric<a class="headerlink" href="#numeric" title="Permanent link">&para;</a></h4>
<p>Includes:</p>
<ul>
<li>INTEGER or INT, SMALLINT</li>
<li>Floating-point (real) numbers FLOAT or REAL, DOUBLE PRECISION</li>
<li>Formatted numbers DECIMAL(<em>i,j</em>) or DEC(<em>i,j</em>) or NUMERIC(<em>i,j</em>)<ul>
<li>Where <em>i</em> is precision (total number of decimal digits, default is implementation-defined) and <em>j</em> is scale (number of digits after decimal point, default 0)</li>
</ul>
</li>
</ul>
<h4 id="character-string">Character-string<a class="headerlink" href="#character-string" title="Permanent link">&para;</a></h4>
<p>Includes:</p>
<ul>
<li>Fixed length CHAR(<em>n</em>) or CHARACTER(<em>n</em>)<ul>
<li>Shorter strings are padded with blank characters to the right</li>
<li>Padded blanks are generally ignored when comparing strings</li>
</ul>
</li>
<li>Varying length VARCHAR(<em>n</em>) or CHAR VARYING(<em>n</em>) or CHARACTER VARYING(<em>n</em>) with maximum <em>n</em><ul>
<li>CHARACTER LARGE OBJECT (CLOB) maximum length can be specified in kilobytes (K), megabytes (M), gigabytes (G); e.g. <code>CLOB(20M)</code></li>
</ul>
</li>
</ul>
<p>Strings are:</p>
<ul>
<li>Ordered in alphabetic (lexicographic) order; those that appear first are considered less than those appearing later<ul>
<li>Nonalphabetic characters have a defined order</li>
</ul>
</li>
<li>Concatenated with <code>||</code></li>
</ul>
<p>Single quotes enclose literal string values that are case-sensitive.</p>
<h4 id="bit-string">Bit-string<a class="headerlink" href="#bit-string" title="Permanent link">&para;</a></h4>
<p>Includes:</p>
<ul>
<li>Fixed length BIT(n)</li>
<li>Varying length BIT VARYING(n) with maximum <em>n</em><ul>
<li>BINARY LARGE OBJECT or BLOB maximum length can be specified in kilobytes (K), megabytes (M), gigabytes (G); e.g. <code>BLOB(20G)</code></li>
</ul>
</li>
</ul>
<p>Default length for <em>n</em> is 1.</p>
<p>Literal bit strings are enclosed by single quotes preceded with a <code>B</code>: <code>B'10101'</code>. Hexadecimal notation can be used for bit strings with multiple of 4, preceded by <code>X</code> instead.</p>
<h4 id="boolean">Boolean<a class="headerlink" href="#boolean" title="Permanent link">&para;</a></h4>
<p>TRUE or FALSE with third possible value UNKNOWN.</p>
<h4 id="date-and-time">DATE and TIME<a class="headerlink" href="#date-and-time" title="Permanent link">&para;</a></h4>
<ul>
<li>DATE has ten positions for YEAR, MONTH, DAY as YYYY-MM-DD. Values must be valid.</li>
<li>TIME has at least eight positions for HOUR, MINUTE, SECOND as HH:MM:SS. Values must be valid.<ul>
<li>TIME(<em>i</em>) allows specifying <em>i</em> which is <em>time fractional seconds precision</em><ul>
<li>Specify <em>i</em> + 1 additional positions (additional period as separation character), and <em>i</em> positions for decimal fractions of a second</li>
</ul>
</li>
<li>TIME WITH TIME ZONE includes additional six positions for specifying displacement from standard universal time zone: <code>+13:00</code> to <code>-12:59</code> (HOURS:MINUTES)<ul>
<li>Default without WITH TIME ZONE is the local <abbr title="Structured Query Language">SQL</abbr> session time zone</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Both can be compared with <code>&lt;</code> and <code>&gt;</code>. Earlier dates and times are considered smaller.</p>
<p>Literal values are strings enclosed by single quotes and preceded with DATE or TIME: e.g. <code>DATE '2021-06-22'</code>, <code>TIME '11:54:12'</code>.</p>
<p>TIMESTAMP includes DATE and TIME fields, plus minimum six positions for decimal fractions of seconds and optional WITH TIME ZONE qualifier. Literal values are preceded by TIMESTAMP: <code>TIMESTAMP '2021-06-22 11:54:12.421345'</code>.</p>
<p>INTERVAL specifies a <em>relative value</em> that can be used to increment/decrement an absolute value (date, time, timestamp). Qualified as either YEAR/MONTH or DAY/TIME.</p>
<p>DATE, TIME, TIMESTAMP can be <em>cast</em> or <em>coerced</em> into equivalent strings for comparison.</p>
<h2 id="sql-create"><abbr title="Structured Query Language">SQL</abbr> Create<a class="headerlink" href="#sql-create" title="Permanent link">&para;</a></h2>
<h3 id="create-schema">CREATE SCHEMA<a class="headerlink" href="#create-schema" title="Permanent link">&para;</a></h3>
<ul>
<li>Create a schema with all its definitions, or just name and authorization identifier (with the rest to be provided later), e.g.:</li>
</ul>
<pre><code class="language-sql">CREATE SCHEMA COMPANY AUTHORIZATION 'Jsmith';
</code></pre>
<h3 id="create-table">CREATE TABLE<a class="headerlink" href="#create-table" title="Permanent link">&para;</a></h3>
<ul>
<li>Create a <strong>base table</strong> (new <strong>base relation</strong>; created and stored as a file by the <abbr title="Database Management System">DBMS</abbr>) with a name, its attributes, and initial constraints</li>
<li>Key, entity integrity, and referential integrity constraints can be specified in this statement or added later with ALTER TABLE</li>
</ul>
<pre><code class="language-sql">CREATE TABLE EMPLOYEE
</code></pre>
<p>Above, the schema is implicit; it can also be explicit:</p>
<pre><code class="language-sql">CREATE TABLE COMPANY.EMPLOYEE
</code></pre>
<p>Full example:</p>
<pre><code class="language-sql">CREATE TABLE DEPARTMENT
(
    Dname VARCHAR(15) NOT NULL,
    Dnumber INT NOT NULL,
    Manager CHAR(9) NOT NULL DEFAULT '123456789',
    CONSTRAINT DEPTPK
    PRIMARY KEY (Dnumber),
    UNIQUE (Dname),
    FOREIGN KEY (Manager) REFERENCES EMPLOYEE(Ssn)
    ON DELETE SET DEFAULT ON UPDATE CASCADE
);
</code></pre>
<p>Attributes are considered to be ordered in the sequence in which they are specified, but rows are not considered to be ordered in a table.</p>
<h3 id="create-view">CREATE VIEW<a class="headerlink" href="#create-view" title="Permanent link">&para;</a></h3>
<p>Create a <strong>virtual relation</strong> (view) which may or may not correspond to a physical file.</p>
<h3 id="create-domain">CREATE DOMAIN<a class="headerlink" href="#create-domain" title="Permanent link">&para;</a></h3>
<p>Data type can be directly specified for an attribute. Alternatively, declare a domain (abstraction layer) e.g. for SSN_TYPE:</p>
<pre><code class="language-sql">CREATE DOMAIN SSN_TYPE AS CHAR(9);
</code></pre>
<p>Then use SSN_TYPE in place of CHAR(9) later.</p>
<h3 id="create-type">CREATE TYPE<a class="headerlink" href="#create-type" title="Permanent link">&para;</a></h3>
<p>Creates user-defined types (UDT).</p>
<h2 id="constraints-in-sql">Constraints in <abbr title="Structured Query Language">SQL</abbr><a class="headerlink" href="#constraints-in-sql" title="Permanent link">&para;</a></h2>
<p>With CREATE you can specify CONSTRAINT, e.g. <code>NOT NULL</code></p>
<p>... and DEFAULT, e.g. <code>DEFAULT 1</code></p>
<ul>
<li>Included whenever an explicit value is not specified</li>
<li>If unspecified, is NULL unless there is a NOT NULL constraint</li>
</ul>
<p>The CHECK clause follows an attribute or domain definition and can specify constraint, e.g. restrict to integer between 1 and 20:</p>
<pre><code class="language-sql">CREATE DOMAIN D_NUM AS INTEGER CHECK (D_NUM &gt; 0 AND D_NUM &lt; 21);
</code></pre>
<p>CHECK also specifies table constraints at the end of the CREATE TABLE statement called <strong>row-based</strong> constraints, which apply individually to each row. These are checked when a row is inserted or modified.</p>
<pre><code class="language-sql">CHECK (Dept_create_date &lt;= Manager_start_date);
</code></pre>
<h3 id="key-and-referential-integrity-constraints">Key and Referential Integrity Constraints<a class="headerlink" href="#key-and-referential-integrity-constraints" title="Permanent link">&para;</a></h3>
<p>For <abbr title="Primary Key">PK</abbr> with a single attribute, can be specified following the attribute and domain:</p>
<pre><code class="language-sql">Dnumber INT PRIMARY KEY;
</code></pre>
<p>UNIQUE can also be specified this way if it is a single attribute:</p>
<pre><code class="language-sql">Dname VARCHAR(15) UNIQUE;
</code></pre>
<p>Referential integrity is specified with the FOREIGN KEY clause. A <strong>referential triggered action</strong> clause may be added with options:</p>
<ul>
<li>SET NULL</li>
<li>CASCADE<ul>
<li>Delete all referencing tuples or update value of all referencing <abbr title="Foreign Key">FK</abbr> attributes</li>
<li>Generally suitable for relationship relations, relations that represent multivalue attributes, and relations that represent weak entity types</li>
</ul>
</li>
<li>SET DEFAULT</li>
</ul>
<p>...qualified with one of:</p>
<ul>
<li>ON DELETE</li>
<li>ON UPDATE</li>
</ul>
<p>Constraints can be optionally named, following the CONSTRAINT keyword.</p>
<h2 id="sql-retrieval-queries"><abbr title="Structured Query Language">SQL</abbr> Retrieval Queries<a class="headerlink" href="#sql-retrieval-queries" title="Permanent link">&para;</a></h2>
<p>The SELECT statement (different from SELECT operation in relational algebra) retrieves information from the <abbr title="Database">DB</abbr>.</p>
<p>A <abbr title="Structured Query Language">SQL</abbr> table is not a <em>set</em> of tuples (in a set, all members are unique); it is a <strong>multiset</strong>, or bag of tuples. A <abbr title="Structured Query Language">SQL</abbr> relation <em>may be</em> constrained to be sets, e.g. when DISTINCT is used with SELECT.</p>
<p>Basic form is called <strong>mapping</strong> or <strong>select-from-where block</strong>:</p>
<pre><code class="language-sql">SELECT &lt;attribute list&gt;     -- attribute names for values you want to retrieve
FROM &lt;table list&gt;           -- relation names
WHERE &lt;condition&gt;;          -- Boolean expression to identify tuples to be retrieved
</code></pre>
<p>Only SELECT and FROM are mandatory.</p>
<p>A query <em>selects</em> the relation's tuples that satisfy (evaluates to TRUE) the Boolean WHERE condition (<strong>selection condition</strong> in relational algebra) and <em>projects</em> the result on the attributes listed in the SELECT clause, which specifies the attributes whose values to retrieve (<strong>projection attributes</strong> in relational algebra).</p>
<p>An implicit <strong>tuple variable</strong> is thought to iterate in the <abbr title="Structured Query Language">SQL</abbr> query, looping over each tuple to evaluate the condition and return those for which it evaluates to TRUE.</p>
<p>In WHERE, any number of <strong>selection conditions</strong> can choose a particular tuple (<code>Dname = 'Research'</code>); any number of <strong>join conditions</strong> can combine tuples from more than one relation (<code>Dnumber</code> from DEPARTMENT = <code>Dno</code> from EMPLOYEE):</p>
<pre><code class="language-sql">SELECT Fname, Lname, Address
FROM EMPLOYEE, DEPARTMENT
WHERE Dname = 'Research' AND Dnumber = Dno;
</code></pre>
<p>A <strong>select-project-join</strong> query has only selection and join conditions plus projection attributes. Each tuple in the result is a combination of one of each of the joined tuples.</p>
<h3 id="logical-comparison-operators">Logical Comparison Operators<a class="headerlink" href="#logical-comparison-operators" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>lanuage</th>
<th>equal</th>
<th>less than</th>
<th>less than or equal</th>
<th>greater than</th>
<th>greater than or equal</th>
<th>not equal</th>
</tr>
</thead>
<tbody>
<tr>
<td><abbr title="Structured Query Language">SQL</abbr></td>
<td>=</td>
<td>&lt;</td>
<td>&lt;=</td>
<td>&gt;</td>
<td>&gt;=</td>
<td>&lt;&gt;</td>
</tr>
<tr>
<td>relational algebra</td>
<td>=</td>
<td>&lt;</td>
<td>≤</td>
<td>&gt;</td>
<td>≥</td>
<td>≠</td>
</tr>
<tr>
<td>C/C++</td>
<td>=</td>
<td>&lt;</td>
<td>&lt;=</td>
<td>&gt;</td>
<td>&gt;=</td>
<td>!=</td>
</tr>
</tbody>
</table>
<h3 id="renaming-tuple-variables">Renaming, Tuple Variables<a class="headerlink" href="#renaming-tuple-variables" title="Permanent link">&para;</a></h3>
<p>Attributes in different tables can have the same name; we sometimes need to <strong>qualify</strong> the attribute name with the relation name to prevent ambiguity. Use fully qualified attribute names: prefix the attribute name with the relation name, separated by a period.</p>
<pre><code class="language-sql">SELECT Fname, EMPLOYEE.Name, Address
FROM EMPLOYEE, DEPARTMENT
WHERE DEPARTMENT.Name = 'Research' AND DEPARTMENT.Dnumber = EMPLOYEE.Dnumber;
</code></pre>
<p>Use an <strong>alias</strong> or <strong>tuple variable</strong> to give a shorthand to long relation names, or make relations that appear twice more understandable:</p>
<pre><code class="language-sql">SELECT E.Fname, E.Lname, S.Fname, S.Lname
FROM EMPLOYEE AS E, EMPLOYEE AS S
WHERE E.Super_ssn = S.Ssn;
</code></pre>
<p>This creates two copies of the EMPLOYEE relation that can now be joined (one-level recursive query).</p>
<p>Aliases can also directly follow the relation name: <code>FROM EMPLOYEE E</code>. Relation attributes can be renamed within the query with aliases:</p>
<pre><code class="language-sql">FROM EMPLOYEE AS E(Fn, Ln)
</code></pre>
<p>Results can also be renamed:</p>
<pre><code class="language-sql">SELECT E.Lname AS Employee_name, S.Lname AS Supervisor_name
FROM EMPLOYEE AS E, EMPLOYEE AS S
WHERE E.Ssn = S.Ssn;
</code></pre>
<h3 id="unspecified-where-asterisk">Unspecified WHERE, Asterisk<a class="headerlink" href="#unspecified-where-asterisk" title="Permanent link">&para;</a></h3>
<p>A missing WHERE clause selects all tuples from the specified relation; if more than one relation is specified in FROM, the CROSS PRODUCT (all possible tuple combinations) is selected. This can inadvertently select very large relations.</p>
<p>To intentionally retrieve all attribute values, specify an asterisk, optionally prefixed with the relation name or alias, e.g. <code>EMPLOYEE*</code>.</p>
<h3 id="duplicates-distinct">Duplicates, DISTINCT<a class="headerlink" href="#duplicates-distinct" title="Permanent link">&para;</a></h3>
<ul>
<li>Since <abbr title="Structured Query Language">SQL</abbr> treats a table as a multiset, duplicates are not eliminated from query results by default; can also do this explicitly with <code>SELECT ALL</code></li>
<li>A <abbr title="Structured Query Language">SQL</abbr> table with a key is restricted to being a set, since the key must be distinct in each tuple</li>
</ul>
<p>To eliminate duplicates from the results, use DISTINCT in the SELECT clause:</p>
<pre><code class="language-sql">SELECT DISTINCT Salary
FROM EMPLOYEE;
</code></pre>
<p>or</p>
<pre><code class="language-sql">SELECT DISTINCT(Attribute)
FROM RegularUser;
</code></pre>
<h3 id="set-operations">Set Operations<a class="headerlink" href="#set-operations" title="Permanent link">&para;</a></h3>
<p>The relational-algebra-equivalent set operations result in sets of tuples (distinct) and apply only to type-compatible relations.</p>
<p>Corresponding multiset operations (not distinct) are followed by ALL, e.g. UNION ALL.</p>
<h4 id="union-set-union">UNION: set union<a class="headerlink" href="#union-set-union" title="Permanent link">&para;</a></h4>
<p>Returns all cities from CurrentCity and HomeTown columns.</p>
<pre><code class="language-sql">SELECT CurrentCity
FROM RegularUser
UNION
SELECT HomeTown
FROM RegularUser;
</code></pre>
<h4 id="except-set-difference-also-minus">EXCEPT: set difference, also MINUS<a class="headerlink" href="#except-set-difference-also-minus" title="Permanent link">&para;</a></h4>
<p>Give all CurrentCities except those that are someone's HomeTown.</p>
<pre><code class="language-sql">SELECT CurrentCity
FROM RegularUser
EXCEPT
SELECT HomeTown
FROM RegularUser;
</code></pre>
<p>EXCEPT ALL to return cities if they appear more times as CurrentCities than as HomeTown; i.e. include it in results if it is a duplicate.</p>
<h4 id="intersect-set-intersection">INTERSECT: set intersection<a class="headerlink" href="#intersect-set-intersection" title="Permanent link">&para;</a></h4>
<p>Returns distinct cities that are someone's CurrentCity and someone's HomeTown.</p>
<pre><code class="language-sql">SELECT CurrentCity
FROM RegularUser
INTERSECT
SELECT HomeTown
FROM RegularUser
</code></pre>
<p>INTERSECT ALL to include duplicates.</p>
<h3 id="pattern-matching">Pattern Matching<a class="headerlink" href="#pattern-matching" title="Permanent link">&para;</a></h3>
<p>The LIKE comparison operator can be used for string pattern matching. The <code>%</code> reserved character replaces an arbitrary number of 0 or more characters (anything), and <code>_</code> replaces a single character.</p>
<pre><code class="language-sql">SELECT Fname, Lname
FROM EMPLOYEE
WHERE Address LIKE '%Houston,%TX%';
-- or
WHERE Bdate LIKE '____06__'; -- June birthdays
</code></pre>
<h4 id="literal-characters">Literal Characters<a class="headerlink" href="#literal-characters" title="Permanent link">&para;</a></h4>
<ul>
<li>Specify an escape character with ESCAPE: <code>'A\_BC' ESCAPE '\'</code> gives a literal <code>_</code>.</li>
<li>For <code>'</code>, use <code>''</code>.</li>
</ul>
<h3 id="operators">Operators<a class="headerlink" href="#operators" title="Permanent link">&para;</a></h3>
<p>Arithmetic can be applied to numeric values or attributes (numeric domains): <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code></p>
<pre><code class="language-sql">SELECT E.Fname, E.Lname, 1.1 * E.Salary AS Raise
FROM EMPLOYEE AS E
...
</code></pre>
<p>Strings can be concatenated with <code>||</code>.</p>
<p>Date, time, timestamp, and interval data types can be incremented (<code>+</code>) or decremented (<code>-</code>) by an interval.</p>
<h3 id="comparison-operators">Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permanent link">&para;</a></h3>
<ul>
<li>BETWEEN is equivalent to <code>(Thing &gt;= INT) AND (Thing &lt;= INT)</code>.</li>
<li>IN compares a value <em>v</em> with a set or multiset of values <em>V</em> and is TRUE if <em>v</em> is an element of <em>V</em>.</li>
</ul>
<h3 id="ordering-or-sorting">Ordering, or Sorting<a class="headerlink" href="#ordering-or-sorting" title="Permanent link">&para;</a></h3>
<p>Use ORDER BY, optionally with DESC or ASC: <code>ORDER BY D.Dname DESC, E.Lname ASC, E.Fname ASC;</code></p>
<p>Default is ascending order of values.</p>
<h2 id="modification-insert-delete-update">Modification: INSERT, DELETE, UPDATE<a class="headerlink" href="#modification-insert-delete-update" title="Permanent link">&para;</a></h2>
<p>INSERT adds a single row to the table given a relation name and list of values listed in the same order as the attributes:</p>
<pre><code class="language-sql">INSERT INTO EMPLOYEE
-- or specify attribute names, as long as all NOT NULL are included
INSERT INTO EMPLOYEE(Fname, Lname, Phone)
VALUES ('Jim', 'Bob', '1235559999');
</code></pre>
<p>Insert multiple tuples, separated by commas, by enclosing the attributes for each in parenthesis.</p>
<p>Insert multiple rows if the insertion contains a query expression that identifies some data from the <abbr title="Database">DB</abbr> and inserts it in one of the <abbr title="Database">DB</abbr> tables.</p>
<p>Create a temporary table by combining CREATE TABLE NEW_TABLE with INSERT INTO NEW_TABLE; values here may not remain updated (use a view for this instead). Later, remember to DROP TABLE.</p>
<p>Create a similar table to an existing one (same attributes) using existing data (WITH DATA) with LIKE:</p>
<pre><code class="language-sql">CREATE TABLE W9EMP LIKE EMPLOYEE
(SELECT E.*
FROM EMPLOYEE AS E
WHERE E.Status = 'W9') WITH DATA;
</code></pre>
<p>DELETE removes tuples from a relation and can be used with WHERE. If WHERE is missing, all tuples are to be deleted, but the table remains until you DROP TABLE. Can delete a set of rows.</p>
<p>UPDATE modifies attribute values in a single relation. The SET clause specifies the attributes to be modified, and new values, e.g. to update Project 10:</p>
<pre><code class="language-sql">UPDATE PROJECT
SET Plocation = 'Bellaire', Pmanager = 5
WHERE Pnumber = 10;
</code></pre>
<h2 id="sql-access"><abbr title="Structured Query Language">SQL</abbr> Access<a class="headerlink" href="#sql-access" title="Permanent link">&para;</a></h2>
<p>GRANT and REVOKE can modify privileges for specific statements on certain relations.</p>
<h2 id="null-logic">NULL Logic<a class="headerlink" href="#null-logic" title="Permanent link">&para;</a></h2>
<p>Any NULL value is considered to be distinct from any other NULL (can't use <code>=</code>); when compared, the result is considered UNKNOWN and may be TRUE or FALSE. Three-value logic is used:</p>
<table>
<thead>
<tr>
<th>AND</th>
<th>TRUE</th>
<th>FALSE</th>
<th>UNKNOWN</th>
</tr>
</thead>
<tbody>
<tr>
<td>TRUE</td>
<td>TRUE</td>
<td>FALSE</td>
<td>UNKNOWN</td>
</tr>
<tr>
<td>FALSE</td>
<td>FALSE</td>
<td>FALSE</td>
<td>FALSE</td>
</tr>
<tr>
<td>UNKNOWN</td>
<td>UNKNOWN</td>
<td>FALSE</td>
<td>UNKNOWN</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>OR</th>
<th>TRUE</th>
<th>FALSE</th>
<th>UNKNOWN</th>
</tr>
</thead>
<tbody>
<tr>
<td>TRUE</td>
<td>TRUE</td>
<td>TRUE</td>
<td>TRUE</td>
</tr>
<tr>
<td>FALSE</td>
<td>TRUE</td>
<td>FALSE</td>
<td>UNKNOWN</td>
</tr>
<tr>
<td>UNKNOWN</td>
<td>TRUE</td>
<td>UNKNOWN</td>
<td>UNKNOWN</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>NOT</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr>
<td>FALSE</td>
<td>TRUE</td>
</tr>
<tr>
<td>UNKNOWN</td>
<td>UNKNOWN</td>
</tr>
</tbody>
</table>
<p>Compare using the IS or IS NOT operator:</p>
<pre><code class="language-sql">SELECT Fname, Lname
FROM EMPLOYEE
WHERE Ssn IS NULL;
</code></pre>
<h2 id="nested-queries">Nested Queries<a class="headerlink" href="#nested-queries" title="Permanent link">&para;</a></h2>
<p>Complete select-from-where blocks within another <abbr title="Structured Query Language">SQL</abbr> query (<strong>outer query</strong>); can appear in the WHERE, FROM, or SELECT clauses.</p>
<pre><code class="language-sql">SELECT DISTINCT Pnumber
FROM PROJECT
WHERE Pnumber IN
(SELECT Pnumber
    FROM PROJECT, DEPARTMENT, EMPLOYEE
    WHERE Dnum = Dnumber AND
        Manager = Ssn AND Lname = 'Smith')

    OR
    Pnumber IN
(SELECT Pno
    FROM WORKS_ON, EMPLOYEE
    WHERE Employer = Ssn AND Lname = 'Smith');
</code></pre>
<ul>
<li>Returns a <strong>scalar</strong> (single value) if result is a single attribute <em>and</em> a single tuple; can use <code>=</code> in this case</li>
<li>Usually returns a table (relation: set or multiset of tuples)</li>
</ul>
<h3 id="comparing-nested-queries">Comparing Nested Queries<a class="headerlink" href="#comparing-nested-queries" title="Permanent link">&para;</a></h3>
<p>Tuples can be used in comparisons, using parenthesis:</p>
<pre><code class="language-sql">SELECT DISTINCT Essn
FROM WORKS_ON
WHERE (Pno, Hours) IN (SELECT Pno, Hours
                        FROM WORKS_ON
                        WHERE Essn = '56');
</code></pre>
<p>To compare a single value <em>v</em> with a set or multiset <em>V</em>:</p>
<ul>
<li>ANY or SOME is equivalent to IN<ul>
<li>Can be combined with operators: <code>= ANY</code>, <code>&gt; SOME</code>, etc</li>
</ul>
</li>
<li>ALL returns true if all the values in the set are true for the operator</li>
</ul>
<pre><code class="language-sql">SELECT Lname, Fname
FROM EMPLOYEE
WHERE Salary &gt; ALL (SELECT Salary
                    FROM EMPLOYEE
                    WHERE Dno = 5);
</code></pre>
<p>A reference to an unqualified attribute refers to the relation declared in the innermost nested query. Generally, create aliases for all tables referenced in a query to avoid ambiguity from same attribute names.</p>
<h3 id="correlated-nested-queries">Correlated Nested Queries<a class="headerlink" href="#correlated-nested-queries" title="Permanent link">&para;</a></h3>
<p>When a condition in the WHERE clause references an attribute of a relation declared in the outer query, the two queries are <strong>correlated</strong>. The nested query is evaluated once for each tuple in the outer query.</p>
<p>E.g. Find Email and BirthYear of RegularUsers who have no Interests.</p>
<pre><code class="language-sql">SELECT R.Email, BirthYear
FROM RegularUser R
WHERE NOT EXIST
    (SELECT *
    FROM UserInterests U
    WHERE U.Email = R.Email);
</code></pre>
<p>A query written with nested select-from-where blocks and using <code>=</code> or IN can always be expressed as a single block query instead.</p>
<h3 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h3>
<h4 id="unique">UNIQUE<a class="headerlink" href="#unique" title="Permanent link">&para;</a></h4>
<p>Returns TRUE if there are no duplicate tuples in the result; otherwise FALSE.</p>
<h4 id="exists-and-not-exists">EXISTS and NOT EXISTS<a class="headerlink" href="#exists-and-not-exists" title="Permanent link">&para;</a></h4>
<p>Boolean functions that return TRUE or FALSE; can be used in WHERE clause.</p>
<p>EXISTS checks if the result of a nested query is empty; is FALSE if it is empty, and TRUE if it contains at least one tuple.</p>
<pre><code class="language-sql">SELECT E.Fname, E.Lname
FROM EMPLOYEE AS E
WHERE EXISTS (SELECT *
                FROM DEPENDENT AS D
                WHERE E.Ssn = D.Essn); -- True if there is at least one tuple
</code></pre>
<p>There's also NOT EXISTS (sort of like "does not have"). Typically used with a correlated nested query.</p>
<pre><code class="language-sql">SELECT Fname, Lname
FROM EMPLOYEE
WHERE NOT EXISTS (SELECT *
                    FROM DEPENDENT
                    WHERE Ssn = Essn); -- If this evalues to true (none exist) the EMPLOYEE tuple is returned
</code></pre>
<h3 id="explicit-sets">Explicit Sets<a class="headerlink" href="#explicit-sets" title="Permanent link">&para;</a></h3>
<p>An <strong>explicit set of values</strong> can be used in the WHERE clause rather than a nested query ("hard coding").</p>
<pre><code class="language-sql">SELECT DISTINCT Essn
FROM WORKS_ON
WHERE Pno IN (1,2,3);
</code></pre>
<h3 id="joined-tables">Joined Tables<a class="headerlink" href="#joined-tables" title="Permanent link">&para;</a></h3>
<p>A table resulting from a join operation in the FROM clause; may be easier to specify than a complex WHERE clause. Defaults to <strong>inner join</strong>.</p>
<pre><code class="language-sql">SELECT Fname, Lname, EAddress
FROM (EMPLOYEE JOIN DEPARTMENT ON Dno = Dnumber)
WHERE Dname = 'Research';
</code></pre>
<p>Above returns a single joined table with all the attributes of the EMPLOYEE table followed by all those of the DEPARTMENT table.</p>
<p>NATURAL JOIN does not specify any join condition:</p>
<ul>
<li>Defaults to a Cartesian Product if there are no same named attributes in the two relations</li>
<li>Implicit EQUIJOIN condition for <strong>each pair of attributes with the same name</strong> is created and each pair is included once in the result</li>
<li>If the attribute names don't match, they can be renamed to match before applying NATURAL JOIN</li>
</ul>
<p>Join types:</p>
<ul>
<li>JOIN or INNER JOIN: only pairs of tuples that match the join condition are retrieved</li>
<li>OUTER JOIN: can be used to explicitly include all tuples<ul>
<li>LEFT OUTER JOIN (<code>+=</code>): include every tuple in the left table in the result; right table padded with NULL values</li>
<li>RIGHT OUTER JOIN (<code>=+</code>): include every tuple in the right table in the result; left table padded with NULL values</li>
<li>FULL OUTER JOIN (<code>+=+</code>)</li>
<li>Can also leave off OUTER keyword</li>
</ul>
</li>
<li>Can specify the natural join variation: e.g. NATURAL LEFT OUTER JOIN</li>
<li>CROSS JOIN: specifies CARTESIAN PRODUCT operation (all possible tuple combinations)</li>
</ul>
<p>Joins can be nested (<strong>multiway join</strong>):</p>
<pre><code class="language-sql">SELECT Pnumber, Dnum, Lname, Bdate
FROM ((PROJECT JOIN DEPARTMENT ON Dnum = Dnumber)
JOIN EMPLOYEE ON Manager = Ssn)
WHERE Plocation = 'Stafford';
</code></pre>
<p>Natural inner join with dot notation:</p>
<pre><code class="language-sql">SELECT Email, RegularUser.BirthYear, Salary
FROM RegularUser, YearSalary
WHERE RegularUser.BirthYear = YearSalary.BirthYear;
</code></pre>
<p>...is the same as</p>
<pre><code class="language-sql">SELECT Email, RegularUser.BirthYear, Salary
FROM RegularUser NATURAL JOIN YearSalary;
</code></pre>
<p>where we don't have to specify the join condition.</p>
<h3 id="aggregate-functions">Aggregate Functions<a class="headerlink" href="#aggregate-functions" title="Permanent link">&para;</a></h3>
<ul>
<li>Built-in functions</li>
<li>Summarize information from multiple tuples into a single-tuple summary</li>
<li>Subgroups are made using <strong>grouping</strong> before summarization</li>
<li>Excludes NULL values when applied to a collection of values; an empty collection returns NULL (COUNT returns 0)</li>
</ul>
<p>Functions are used in SELECT or HAVING clauses and include:</p>
<ul>
<li>COUNT: return the number of tuples or values resulting from the query<ul>
<li>E.g. COUNT(*) returns number of rows (tuples) resulting from the query</li>
<li>COUNT(Salary) returns number of salary values in the <abbr title="Database">DB</abbr> (NULL values discarded)</li>
<li>COUNT(DISTINCT Salary) returns number of distinct salary values in <abbr title="Database">DB</abbr> (NULL values discarded)</li>
</ul>
</li>
<li>SUM</li>
<li>MAX</li>
<li>MIN</li>
<li>AVG (mean)</li>
</ul>
<p>These can be applied to nonnumeric domains that have total ordering, e.g. DATE, TIME, TIMESTAMP.</p>
<pre><code class="language-sql">SELECT SUM(Salary), MAX(Salary), MIN(Salary), AVG(Salary)
FROM EMPLOYEE;
</code></pre>
<p>SOME or ALL can be applied to Boolean values; TRUE is returned if the condition is true for SOME or ALL elements.</p>
<h3 id="grouping">Grouping<a class="headerlink" href="#grouping" title="Permanent link">&para;</a></h3>
<p>Apply aggregate functions to a subgroup of tuples (<strong>partition</strong> the relation into exclusive subsets or <strong>groups</strong> using <strong>grouping attributes</strong>).</p>
<p>GROUP BY specifies grouping attributes that appear in the SELECT clause; the value resulting from the aggregate function appears with the value of the grouping attribute.</p>
<pre><code class="language-sql">SELECT Dno, COUNT(*), AVG(Salary) -- List for each department
FROM EMPLOYEE
GROUP BY Dno;   -- Results are grouped by department no. before the aggregate functions are applied
</code></pre>
<p>A <strong>separate group</strong> is created for NULL value tuples in the grouping attribute.</p>
<p>When used with a join condition, grouping and aggregation is applied after the joining in WHERE clause.</p>
<p>HAVING applies conditions whereby only the groups that satisfy it are retrieved in the results:</p>
<pre><code class="language-sql">SELECT Pnumber, Pname, COUNT(*)
FROM PROJECT, WORKS_ON
WHERE Pnumber = Pno -- join condition (project number)
GROUP BY Pnumber, Pname
HAVING COUNT(*) &gt; 2; -- only return results for projects with more than two employee rows in the table
</code></pre>
<p>Execution order: WHERE, then HAVING.</p>
<h3 id="with">WITH<a class="headerlink" href="#with" title="Permanent link">&para;</a></h3>
<p>A user-defined temporary table that is used once for a particular query; convenience method.</p>
<pre><code class="language-sql">WITH BIGDEPTS (Dno) AS (
    SELECT Dno
    FROM EMPLOYEE
    GROUP BY Dno
    HAVING COUNT (*) &gt;5;
)
SELECT Dno, COUNT(*)
FROM EMPLOYEE
WHERE Salary &gt; 40000 AND Dno IN BIGDEPTS
GROUP BY Dno;
</code></pre>
<h3 id="case">CASE<a class="headerlink" href="#case" title="Permanent link">&para;</a></h3>
<p>A case switch.</p>
<pre><code class="language-sql">UPDATE EMPLOYEE
SET Salary =
CASE WHEN Dno = 5 THEN Salary +2000
     WHEN Dno = 4 THEN Salary +1500
     ELSE Salary + 0;
</code></pre>
<p>Useful for inserting tuples where different attributes may be NULL.</p>
<h3 id="recursive-queries">Recursive Queries<a class="headerlink" href="#recursive-queries" title="Permanent link">&para;</a></h3>
<p>Employee and Supervisor (both rows in the EMPLOYEE table) is an example of a <strong>recursive relationship</strong>. A recursive operation could retrieve all supervisees of a Supervisor at all levels.</p>
<pre><code class="language-sql">WITH RECURSIVE SUP_EMP (SupSsn, EmpSsn) AS  -- defines a view SUP_EMP to hold result
(SELECT SupervisorSsn, Ssn
FROM EMPLOYEE                               -- base query loads the first level
UNION                                       -- combines each successive level
SELECT E.Ssn, S.SupSsn                      -- selects this level's supervisor
FROM EMPLOYEE AS E, SUP_EMP AS S
WHERE E.SupervisorSsn = S.EmpSsn)
SELECT*                                     -- return everything from SUP_EMP
FROM SUP_EMP;
</code></pre>
<p>Above will query recursively, combining the results with previous levels (UNION), until a <strong>fixed point</strong> is reached, when all the results are in the view.</p>
<h2 id="sql-assertions"><abbr title="Structured Query Language">SQL</abbr> Assertions<a class="headerlink" href="#sql-assertions" title="Permanent link">&para;</a></h2>
<p>General constraints can be specified with <strong>declarative assertions</strong> using CREATE ASSERTION and giving it a name:</p>
<pre><code class="language-sql">CREATE ASSERTION SALARY_CONSTRAINT
CHECK
(NOT EXISTS
(SELECT *
FROM EMPLOYEE E, EMPLOYEE M, DEPARTMENT D
WHERE E.Salary&gt;M.Salary -- Employee salary cannot exceed Manager salary; violated if this is true
    AND E.Dno = D.Dnumber
    AND D.Manager = M.Ssn)
);
</code></pre>
<ul>
<li>The <abbr title="Database Management System">DBMS</abbr> is responsible for ensuring the condition is not violated (doesn't evaluate to FALSE).</li>
<li>CHECK clauses on individual attributes, domains, and tuples are only checked when tuples are inserted or updated, so use them when the constraint can only be violated by insert or update.</li>
<li>Use CHECK on attributes instead, if possible, for efficiency.</li>
</ul>
<h2 id="sql-trigger"><abbr title="Structured Query Language">SQL</abbr> Trigger<a class="headerlink" href="#sql-trigger" title="Permanent link">&para;</a></h2>
<p>CREATE TRIGGER sets a condition used to <strong>monitor</strong> the <abbr title="Database">DB</abbr>. A typical ECA trigger has three components:</p>
<ul>
<li><strong>Event(s)</strong>, usually database update operations<ul>
<li>Specify after the BEFORE or AFTER keyword</li>
</ul>
</li>
<li><strong>Condition</strong>: an optional condition may be evaluated to determine if action should be executed (if TRUE); if no condition, action will execute<ul>
<li>Specified with WHEN</li>
</ul>
</li>
<li><strong>Action</strong> to be taken, e.g. stored procedure</li>
</ul>
<h2 id="sql-views"><abbr title="Structured Query Language">SQL</abbr> Views<a class="headerlink" href="#sql-views" title="Permanent link">&para;</a></h2>
<ul>
<li>A view (single table derived from other tables) is a <strong>virtual table</strong><ul>
<li>Limited update operations</li>
<li>Made up of <strong>defining tables</strong></li>
<li>Definition is stored in the catalog</li>
</ul>
</li>
<li>Unlike <strong>base tables</strong> which are physically stored in the <abbr title="Database">DB</abbr></li>
</ul>
<pre><code class="language-sql">CREATE VIEW DEPT_INFO(Dept_name, No_of_emps, Total_sal) -- specify new attribute names if they are not inherited (no functions)
AS SELECT Dname, COUNT(*), SUM(Salary)
FROM DEPARTMENT, EMPLOYEE
WHERE Dnumber = Dno
GROUP BY Dname;
</code></pre>
<ul>
<li>Column names are inherited from base tables or can be explicitly named in the definition</li>
<li>Computed columns must be explicitly named</li>
</ul>
<p>Query views like any table. DROP VIEW to dispose of one.</p>
<h3 id="updating-views">Updating Views<a class="headerlink" href="#updating-views" title="Permanent link">&para;</a></h3>
<ul>
<li>Supposed to be always up to date; materialized when we specify a query on a view (not necessarily at time of view definition)</li>
<li><abbr title="Database Management System">DBMS</abbr> is responsible for keeping view up to date</li>
</ul>
<p>Two main approaches for efficient querying:</p>
<ul>
<li><strong>Query modification</strong> transforms the submitted query into a query on the underlying base tables<ul>
<li>Inefficient for views defined with complex (time consuming) queries</li>
</ul>
</li>
<li><strong>View materialization</strong> physically creates (thus stores) a temporary or permanent view table when the view is first queried or created</li>
</ul>
<p>Need efficient strategy for automatically updating the view table:</p>
<ul>
<li><strong>Incremental update</strong>: <abbr title="Database Management System">DBMS</abbr> determines what new tuples need inserting/modifying/deleting in the materialized view table when such operation is applied to the underlying base table<ul>
<li>The view is kept materialized as long as it is being queried and the physical table may be automatically removed after some time (then needs to be recomputed next time)</li>
</ul>
</li>
<li><strong>Immediate update</strong> strategy updates the view when the base tables are changed</li>
<li><strong>Lazy update</strong> strategy updates the view when needed by a view query</li>
<li><strong>Periodic update</strong> strategy updates the view periodically; some queries may not have the latest data</li>
</ul>
<p>Issuing INSERT, DELETE, UPDATE on view tables may not be possible; generally this is feasible when there is only one possible update on the base relations to accomplish the operation on the view.</p>
<ul>
<li>View with single defining table is updatable if view attributes contain the <abbr title="Primary Key">PK</abbr> of the base relation and all attributes with NOT NULL constraint that do not have default values specified</li>
<li>Add WITH CHECK OPTION to the view definition if INSERT, DELETE, or UPDATE on this view is expected; allows system to reject operations that violate <abbr title="Structured Query Language">SQL</abbr> rules for view updates</li>
</ul>
<p>Generally <strong>not updatable</strong> (can't insert, delete, update):</p>
<ul>
<li>Contains JOIN, UNION, INTERSECT, EXCEPT, DISTINCT</li>
<li>Has a GROUP BY clause</li>
<li>Uses HAVING</li>
<li>Views defined on multiple tables using joins</li>
<li>Views defined using grouping and aggregate functions</li>
</ul>
<p>Generally updatable if:</p>
<ul>
<li>Every column in the view corresponds to a <strong>uniquely identifiable base table column</strong></li>
<li>FROM clause references just one table (base table or updatable view)<ul>
<li>The table referenced cannot be referenced in the FROM clause of a nested WHERE clause</li>
</ul>
</li>
</ul>
<p>An <strong>in-line view</strong> is defined using the FROM clause within a query itself.</p>
<h3 id="materialized-view">Materialized View<a class="headerlink" href="#materialized-view" title="Permanent link">&para;</a></h3>
<ul>
<li>Definition stored in catalog</li>
<li>Select Query is run and results are stored in the materialized view table</li>
</ul>
<pre><code class="language-sql">CREATE MATERIALIZED VIEW ViewName
[REFRESH [FAST|COMPLETE|FORCE][ON DEMAND|ON COMMIT]][BUILD IMMEDIATE|BUILD DEFERRED]
AS Select Query;
</code></pre>
<p>Options includes:</p>
<ul>
<li>REFRESH FAST: incremental refresh method uses changes made to the underlying tables in a log file</li>
<li>REFRESH COMPLETE: complete refresh: re-runs the query</li>
<li>REFRESH FORCE: a fast refresh should be performed if possible, but if not, a complete refresh is performed</li>
<li>REFRESH ON DEMAND: a refresh will occur manually whenever specific package functions are called</li>
<li>REFRESH ON COMMIT: a fast refresh occurs whenever a transaction commits that makes changes to any of the underlying tables</li>
<li>BUILD IMMEDIATE: the materialized view will be populated immediately (default)</li>
<li>BUILD DEFERRED: the materialized view is populated on the next refresh operation</li>
</ul>
<h3 id="views-for-authorization">Views for Authorization<a class="headerlink" href="#views-for-authorization" title="Permanent link">&para;</a></h3>
<ul>
<li>Views can be used to only show certain information to certain users</li>
<li>Create the appropriate view and grant only those certain users access to it instead of the base tables</li>
</ul>
<h2 id="schema-change-statements">Schema Change Statements<a class="headerlink" href="#schema-change-statements" title="Permanent link">&para;</a></h2>
<p>Altering schema (add or drop tables) is done with <strong>schema evolution commands</strong>.</p>
<p>DROP can drop named elements (tables, domains, types, constraints) as well as a whole schema. Drop behavior options:</p>
<ul>
<li>CASCADE (<code>DROP SCHEMA COMPANY CASCADE</code>): remove everything and any referencing elements</li>
<li>RESTRICT (<code>DROP SCHEMA COMPANY RESTRICT</code>): only if there are no elements in it or it is not referenced in any constraints</li>
</ul>
<p>DROP TABLE also removes the table definition from the catalog. DELETE will remove the records but retain the table definition.</p>
<p>ALTER makes changes to base tables (<strong>alter table actions</strong>) or other named schema elements.</p>
<pre><code class="language-sql">ALTER TABLE COMPANY.EMPLOYEE ADD COLUMN Job VARCHAR(12);
</code></pre>
<p>Provide any missing values or SET DEFAULT to something, otherwise missing ones are NULL.</p>
<h2 id="relational-algebra">Relational Algebra<a class="headerlink" href="#relational-algebra" title="Permanent link">&para;</a></h2>
<ul>
<li>Formal language; defines a set of operations for the formal relational model</li>
<li>Basic retrieval requests are a sequence of relational algebra operations forming relational algebra expressions</li>
<li>Provides a formal <strong>foundation for relational model operations</strong></li>
<li>Used as a basis for implementing and optimizing queries in the <strong>processing and optimization</strong> modules in RDBMS</li>
<li>Closed algebra: each time you do an operation on rational numbers you get a rational number back of the same type as you started with</li>
<li>Use previous thoughts to form new thoughts and build higher level models</li>
<li>Relations are sets (relational algebra is a closed query language)<ul>
<li>Sets means that duplicates in results are eliminated</li>
<li>E.g. πBirthYear (σHomeTown='Atlanta'(RegularUser))</li>
<li>Duplicate BirthYear, duplicate 'Atlanta' are eliminated</li>
</ul>
</li>
</ul>
<p>A retrieval query results in a new relation.</p>
<p><strong>Relational calculus</strong>:</p>
<ul>
<li>Formal language; provides higher-level declarative language for specifying relational queries</li>
<li>These have <strong>no order of operations</strong> for the queries, only what information the result should contain</li>
<li>Two variations:<ul>
<li>Tuple relational calculus</li>
<li>Domain relational calculus</li>
</ul>
</li>
</ul>
<p>Relational algebra can be divided into groups of operations.</p>
<p>Set operations from mathematical set theory:</p>
<ul>
<li>UNION</li>
<li>INTERSECTION</li>
<li>SET DIFFERENCE</li>
<li>CARTESIAN PRODUCT (CROSS PRODUCT)</li>
</ul>
<p>And special operators:</p>
<ul>
<li>PROJECTION (eliminate columns)</li>
<li>SELECTION (eliminate rows)</li>
</ul>
<p>Constructor operations (joins):</p>
<ul>
<li>Natural join</li>
<li>Outer join<ul>
<li>Left, right, full</li>
</ul>
</li>
<li>Theta join</li>
</ul>
<p>And quite special operators:</p>
<ul>
<li>Divideby</li>
<li>Rename</li>
</ul>
<p>Relational database operations:</p>
<ul>
<li><strong>Unary operations</strong> operate on a single relation:<ul>
<li>SELECT</li>
<li>PROJECT</li>
</ul>
</li>
<li><strong>Binary operations</strong> operate on two tables by combining related tuples (records) based on join conditions<ul>
<li>JOIN</li>
</ul>
</li>
<li>... and others.</li>
</ul>
<p>In addition to the original relational algebra operations:</p>
<ul>
<li><strong>Aggregate functions</strong> summarize data from tables</li>
<li>Additional OUTER JOINs and OUTER UNIONs</li>
</ul>
<h3 id="unary-relational-operations">Unary Relational Operations<a class="headerlink" href="#unary-relational-operations" title="Permanent link">&para;</a></h3>
<h4 id="select-operation">SELECT Operation<a class="headerlink" href="#select-operation" title="Permanent link">&para;</a></h4>
<ul>
<li>SELECT chooses a subset of the tuples from a relation (selects rows) that satisfy a <strong>selection condition</strong>, i.e. a filter</li>
<li>Thought of as horizontal partition of the relation into two sets of tuples (those that satisfy the condition and are selected; those that are filtered out)</li>
</ul>
<div class="arithmatex">\[
\sigma _{Dno=4}(EMPLOYEE)
\]</div>
<p>SELECT notation:</p>
<div class="arithmatex">\[
\sigma_{&lt;selection condition&gt;}(R)
\]</div>
<ul>
<li>Sigma denotes SELECT</li>
<li><em>R</em> is generally a relational algebra expression whose result is a relation</li>
<li>The resulting relation from the operation has the same attributes as <em>R</em> and the same <strong>degree</strong><ul>
<li>The number of tuples in the result is always &lt;= <em>R</em>:
$$
|\sigma{c}(R)|\leq|R|
$$</li>
</ul>
</li>
</ul>
<p>The <em>selection condition</em> is a Boolean expression on the relation <em>R</em></p>
<ul>
<li>Made up of a number of clauses with one of the forms:<ul>
<li><code>&lt;attribute name&gt; &lt;comparison op&gt; &lt;constant value&gt;</code></li>
<li><code>&lt;attribute name&gt; &lt;comparison op&gt; &lt;attribute name&gt;</code></li>
<li>Which is:<ul>
<li>The name of an attribute of R</li>
<li>One of the operators <code>{=, &lt;, ≤, &gt;, ≥, ≠}</code> which can apply to attributes whose domains are <em>ordered values</em> (numeric, date, strings)<ul>
<li>For unordered values (e.g. set of color strings without order specified) only <code>{=, ≠}</code> can be used</li>
<li>Domains may have additional comparison operators, e.g. SUBSTRING_OF</li>
</ul>
</li>
<li>Constant value from the attribute domain</li>
</ul>
</li>
<li>Clauses can be connected with <em>and</em>, <em>or</em>, <em>not</em> to form selection conditions</li>
</ul>
</li>
<li>Use of parenthesis changes the order of expression</li>
<li>NOT(<expression>) negates the expression</li>
</ul>
<p>Composite expressions with AND, OR, NOT have their normal effect:</p>
<ul>
<li>(one AND two) is TRUE if both are true</li>
<li>(one OR two) is TRUE if either or both are true</li>
<li>
<p>(NOT condition) is TRUE if condition is not the case</p>
</li>
<li>
<p>The <strong>selectivity</strong> of the condition is the fraction of tuples selected.</p>
</li>
<li>SELECT is <strong>commutative</strong> (independent of order) so a <strong>sequence</strong> (<strong>cascade</strong>) of SELECTs can be applied in any order and can be combined into a single SELECT with AND (conjunctive condition)</li>
</ul>
<p>To determine the result of a SELECT operation:</p>
<ul>
<li>The <em>selection condition</em> is applied <em>independently to each individual tuple</em> (one tuple at a time), <em>t</em>, in <em>R</em> by:<ul>
<li>Substituting each occurrence of an attribute <em>Aᵢ</em> in the selection condition with its value in the tuple <em>t</em>[<em>Aᵢ</em>].</li>
</ul>
</li>
<li>If the condition evaluates to TRUE, <em>t</em> is <strong>selected</strong>.</li>
</ul>
<p>SELECT is specified in the WHERE clause of a <abbr title="Structured Query Language">SQL</abbr> query:</p>
<div class="arithmatex">\[
\sigma_{Dno=4 AND Salary&gt;25000}(EMPLOYEE)
\]</div>
<p>... corresponds to:</p>
<pre><code class="language-sql">SELECT *
FROM EMPLOYEE
WHERE Dno=4 AND Salary&gt;25000;
</code></pre>
<h4 id="project-operation">PROJECT Operation<a class="headerlink" href="#project-operation" title="Permanent link">&para;</a></h4>
<ul>
<li>PROJECT selects certain columns from the table and discards others</li>
<li>Project the relation over only certain attributes of a relation</li>
<li>Thought of as vertical partition of the relation into two relations (one with needed columns, the result; another with discarded columns)</li>
</ul>
<div class="arithmatex">\[
\pi_{Lname, Fname, Salary}(EMPLOYEE)
\]</div>
<p>PROJECT notation:</p>
<div class="arithmatex">\[
\pi_{&lt;attribute list&gt;}(R)
\]</div>
<ul>
<li>Pi denotes PROJECT</li>
<li><em>attribute list</em> is the desired sublist of attributes from relation <em>R</em><ul>
<li>Result of PROJECT has the attributes specified in the same order as the given list; thus the same degree as the given list</li>
</ul>
</li>
<li>Any <strong>duplicate tuples are removed</strong> (result is distinct and a valid relation); <strong>duplicate elimination</strong> prevents result from being a multiset or bag since it must be a set</li>
<li>The number of tuples in the result is always &lt;= the number of tuples in <em>R</em></li>
<li>If the projection list is a superkey of <em>R</em> and includes some key of <em>R</em>, the resulting relation has the same number of tuples as <em>R</em></li>
<li>No commutativity</li>
</ul>
<p>PROJECT is specified in the SELECT clause of a <abbr title="Structured Query Language">SQL</abbr> query:</p>
<div class="arithmatex">\[
\pi_{Sex, Salary}(EMPLOYEE)
\]</div>
<p>...corresponds to:</p>
<pre><code class="language-sql">SELECT DISTINCT Sex, Salary
FROM EMPLOYEE
</code></pre>
<h4 id="rename-operation">RENAME Operation<a class="headerlink" href="#rename-operation" title="Permanent link">&para;</a></h4>
<p>Rename either the relation:</p>
<div class="arithmatex">\[
\rho_{S}(R)
\]</div>
<p>...or attribute names:</p>
<div class="arithmatex">\[
\rho_{B1, B2, ..., Bn}(R)
\]</div>
<p>... or both:</p>
<div class="arithmatex">\[
\rho_{S(B1, B2, ..., Bn)}(R)
\]</div>
<ul>
<li>RENAME is denoted by rho</li>
<li><em>S</em> is the new relation name</li>
<li><em>B₁, B₂, ..., Bₙ</em> are the new attribute names</li>
</ul>
<p>In <abbr title="Structured Query Language">SQL</abbr>, renaming is accomplished with AS.</p>
<h3 id="sequence-of-operations">Sequence of Operations<a class="headerlink" href="#sequence-of-operations" title="Permanent link">&para;</a></h3>
<p>If not using nested relational algebra expressions, we can apply one operation at a time; we then need names in order to refer to intermediate result relations.</p>
<p>An <strong>in-line expression</strong> is a single relational algebra expression:</p>
<div class="arithmatex">\[
\pi_{Fname, Lname, Salary}(\sigma_{Dno=5}(EMPLOYEE))
\]</div>
<p>To instead show the explicit sequence of operations, give intermediate relations a name with the <strong>assignment operation</strong> (left arrow):</p>
<div class="arithmatex">\[
DEP5\_EMPS \leftarrow \sigma_{Dno=5}(EMPLOYEE)
\]</div>
<div class="arithmatex">\[
RESULT \leftarrow \pi_{Fname, Lname, Salary}(DEP5\_EMPS)
\]</div>
<p>We can also <strong>rename</strong> the attributes in the intermediate and result relations:</p>
<div class="arithmatex">\[
TEMP \leftarrow \sigma_{Dno=5}(EMPLOYEE)
\]</div>
<div class="arithmatex">\[
R(First\_name, Last\_name, Salary) \leftarrow \pi_{Fname, Lname, Salary}(TEMP)
\]</div>
<p>If not renamed, the resulting relation has the same attribute names in the same order as the projection list. Can also use the RENAME operation.</p>
<h2 id="binary-operations">Binary Operations<a class="headerlink" href="#binary-operations" title="Permanent link">&para;</a></h2>
<p>Each of these is <strong>binary</strong>: applied to two sets of tuples.</p>
<p><strong>Union compatible</strong> or <strong>type compatible</strong> in relational databases states that the two relations to which any of these operations are applied must have the same type of tuples; that is, the same degree, and each corresponding pair of attributes has the same domain.</p>
<p>For UNION, SET INTERSECTION, SET DIFFERENCE, the two operands must be <strong>type compatible</strong>:</p>
<ul>
<li>The number of attributes of the two operands must be the same</li>
<li>The types of the operands must be compatible</li>
</ul>
<p>UNION and INTERSECTION are <strong>commutative</strong> (order doesn't matter):</p>
<div class="arithmatex">\[
R \cup S = S \cup R\ and\ R \cap S = S \cap R
\]</div>
<p>... and can be treated as <em>n</em>-ary operations (applicable to any number of relations) because they are <strong>associative operations</strong>:</p>
<div class="arithmatex">\[
R \cup (S\cup T) = (R\cup S) \cup T \ and\ (R\cap S)\cap T = R \cap (S \cap T)
\]</div>
<p>MINUS is <strong>not commutative</strong> (order matters):</p>
<div class="arithmatex">\[
R - S \ne S - R
\]</div>
<p>INTERSECTION can be expressed as union and set difference:</p>
<div class="arithmatex">\[
R \cap S = ((R \cup S) - (R - S)) - (S - R)
\]</div>
<p>Multiset operations that do not eliminate duplicates:</p>
<ul>
<li>UNION ALL</li>
<li>INTERSECT ALL</li>
<li>EXCEPT ALL</li>
</ul>
<h3 id="union">UNION<a class="headerlink" href="#union" title="Permanent link">&para;</a></h3>
<p>Relational algebra operations from set theory (mathematical operations on sets or set theoretic operations) are used to merge the elements of two sets:</p>
<p>UNION includes all tuples that are in either <em>R</em> or <em>S</em> or in both; <strong>duplicates are eliminated</strong>.</p>
<p>UNION notation:</p>
<div class="arithmatex">\[
R_{1} \cup R_{2}
\]</div>
<p>Indicated by OR: e.g. "Find all cities that are a CurrentCity or a HomeTown for some RegularUser"</p>
<div class="arithmatex">\[
\pi_{CurrentCity}(RegularUser)\cup\pi_{HomeTown}(RegularUser)
\]</div>
<p><img alt="Venn diagram for UNION" src="../venn_union.png" /></p>
<p>We get a single list of cities that are either CurrentCity or HomeTown; duplicates are eliminated from the result.</p>
<h4 id="outer-union">OUTER UNION<a class="headerlink" href="#outer-union" title="Permanent link">&para;</a></h4>
<p>Takes the union of tuples from two relations <em>R(X,Y)</em> and <em>S(X,Y)</em> that have some common attributes but that are not type compatible, if they are <strong>partially compatible</strong> (only some of the attributes <em>X</em> are union compatible).</p>
<ul>
<li>Attributes that are union compatible are represented once in the result</li>
<li>Attributes that are not union compatible are also kept in the result (same as FULL OUTER JOIN)<ul>
<li>Tuples without a match are padded with NULL values</li>
</ul>
</li>
</ul>
<h3 id="intersect">INTERSECT<a class="headerlink" href="#intersect" title="Permanent link">&para;</a></h3>
<p>INTERSECTION includes all tuples from <em>R</em> that are in both <em>R</em> and <em>S</em>.</p>
<p>INTERSECTION notation:</p>
<div class="arithmatex">\[
R_{1} \cap R_{2}
\]</div>
<p>Indicated by AND: e.g. "Find all cities that are a CurrentCity for someone and a HomeTown for some RegularUser"</p>
<div class="arithmatex">\[
\pi_{CurrentCity}(RegularUser)\cap\pi_{HomeTown}(RegularUser)
\]</div>
<p><img alt="Venn diagram of INTERSECT" src="../venn_intersect.png" /></p>
<h3 id="minus">MINUS<a class="headerlink" href="#minus" title="Permanent link">&para;</a></h3>
<p>SET DIFFERENCE (MINUS or EXCEPT) includes all tuples that are in <em>R</em> but not in <em>S</em>.</p>
<p>DIFFERENCE notation:</p>
<div class="arithmatex">\[
R_{1} - R_{2}
\]</div>
<p><img alt="Venn diagram of SET DIFFERENCE" src="../venn_difference.png" /></p>
<h3 id="cartesian-product">CARTESIAN PRODUCT<a class="headerlink" href="#cartesian-product" title="Permanent link">&para;</a></h3>
<p>Also CROSS PRODUCT or CROSS JOIN:</p>
<ul>
<li>Binary set operation</li>
<li>Relations do not have to be union compatible (need not have the same type of tuples, corresponding pairs of the same domains)</li>
<li>Binary form: produce a new element by combining every tuple from one set with every tuple from the other set</li>
</ul>
<p>The result of:</p>
<div class="arithmatex">\[
R(A_{1},A_{2},...,A_{n}) \times S(B_{1},B_{2},...,B_{m})
\]</div>
<p>Is a relation <em>Q</em> with degree <em>n</em>+<em>m</em> attributes:</p>
<div class="arithmatex">\[
Q(A_{1},A_{2},...,A_{n},B_{1},B_{2},...,B_{m})
\]</div>
<ul>
<li>Has one tuple for each combination of tuples (one from <em>R</em> and one from <em>S</em>):</li>
<li><em>R</em> has <em>nR</em> tuples:
    $$
    |R| = _{nR}
    $$</li>
<li><em>S</em> has <em>nS</em> tuples:
    $$
    |S| = _{nS}
    $$</li>
<li>Then <em>R x S</em> will have <em>nR * nS</em> tuples.</li>
</ul>
<p>The <em>n</em>-ary extension of the above produces new tuples by concatenating all possible combinations of tuples from <em>n</em> underlying relations. Useful when followed by a selection that matches values of attributes produced from the component relations, e.g. retrieve a list of female employee's dependents, or create an invitation list of users matched with all the interests they do not have.</p>
<ul>
<li>Create combined attributes of two relations with CARTESIAN PRODUCT<ul>
<li>Can be realized using CROSS JOIN option in joined tables</li>
<li>If there are two tables in FROM clause and no corresponding join condition in the WHERE clause, result will be CARTESIAN PRODUCT of the two tables</li>
</ul>
</li>
<li>SELECT related tuples from the product with a useful selection condition</li>
</ul>
<p>CARTESIAN PRODUCT notation:</p>
<div class="arithmatex">\[
R_{1}\times R_{2}
\]</div>
<p>CARTESIAN PRODUCT followed by SET DIFFERENCE:</p>
<div class="arithmatex">\[
(\pi_{Email}(RegularUser)\times\pi_{Interest}(UserInterests))\div\pi_{Email, Interest}(UserInterests)
\]</div>
<h2 id="binary-relational-operations">Binary Relational Operations<a class="headerlink" href="#binary-relational-operations" title="Permanent link">&para;</a></h2>
<h3 id="join">JOIN<a class="headerlink" href="#join" title="Permanent link">&para;</a></h3>
<p>Combine related tuples from two relations into single "longer" tuples. E.g. get the manager of each department by combining DEPARTMENT with EMPLOYEE and projecting result over necessary attributes:</p>
<div class="arithmatex">\[
DEPT\_MGR \leftarrow DEPARTMENT \Join _{Mgr\_ssn=Ssn} EMPLOYEE
\]</div>
<div class="arithmatex">\[
RESULT \leftarrow \pi_{Dname, Lname, Fname}(DEPT\_MGR)
\]</div>
<ul>
<li>Referential integrity constraint helps in having matching tuples in the referenced relation</li>
<li>JOIN can be specified as a CARTESIAN PRODUCT operation followed by SELECT<ul>
<li>Where two operations are required for CARTESIAN PRODUCT, a single JOIN may be used</li>
</ul>
</li>
</ul>
<p>General form of a JOIN operation on two relations (resulting from general relational algebra expressions):</p>
<div class="arithmatex">\[
R(A_{1},A_{2},...,A_{n})\ and\ S(B_{1},B_{2},...,B_{m})
\]</div>
<p>...is:</p>
<div class="arithmatex">\[
R\Join _{&lt;join\ condition&gt;}S
\]</div>
<ul>
<li>The join condition is specified on attributes from <em>R</em> and <em>S</em> and is evaluated for each combination</li>
<li>Each combination for which the join condition is TRUE is included in the resulting <em>Q</em> as a single combined tuple</li>
</ul>
<h3 id="theta-join">THETA JOIN<a class="headerlink" href="#theta-join" title="Permanent link">&para;</a></h3>
<p>A JOIN with a general join condition is called a <strong>THETA JOIN</strong>:</p>
<div class="arithmatex">\[
A_{i} \theta B_{j}
\]</div>
<ul>
<li><em>Ai</em> is an attribute of <em>R</em></li>
<li><em>Bj</em> is an attribute of <em>S</em></li>
<li><em>Ai</em> and <em>Bj</em> have the same domain</li>
<li>Theta is one of the comparison operators <code>{=, &lt;, ≤, &gt;, ≥, ≠}</code></li>
<li>If the join condition is FALSE for the tuple it does not appear in the results<ul>
<li>Tuples that do not get combined with matching ones are omitted from the result (information loss)</li>
</ul>
</li>
<li>Both join attributes appear in the result</li>
<li>All attributes are preserved</li>
<li>Inner join; tuples that do not match each other are not in the results</li>
</ul>
<p>THETA JOIN notation:</p>
<div class="arithmatex">\[
R_{1} \Join _{&lt;join\ condition&gt;}R_{2}
\]</div>
<p>E.g.</p>
<div class="arithmatex">\[
RegularUser\Join_{BirthYear&lt;EventYear}MajorEvents
\]</div>
<h3 id="equijoin">EQUIJOIN<a class="headerlink" href="#equijoin" title="Permanent link">&para;</a></h3>
<ul>
<li>JOIN involving join conditions with equality comparisons only</li>
<li>Always has one or more pairs of attributes that have identical values (Mgr_ssn = Ssn)</li>
<li>One of each pair of attributes with identical values is superfluous</li>
</ul>
<div class="arithmatex">\[
R_{1} \Join _{&lt;join\ condition&gt;}R_{2}
$$
...or
$$
R_{1}\Join_{(&lt;join\ attributes\ 1&gt;),(&lt;join\ attributes\ 2&gt;)}R_{2}
\]</div>
<h3 id="natural-join">NATURAL JOIN<a class="headerlink" href="#natural-join" title="Permanent link">&para;</a></h3>
<ul>
<li>EQUIJOIN followed by the <strong>removal of superfluous attributes</strong></li>
<li>Will match on the identically named variables (defaults to a Cartesian Product if there are no same named attributes in the two relations)</li>
<li>Each pair of <strong>join attributes</strong> must have the same name in both relations<ul>
<li>May need to be renamed first</li>
</ul>
</li>
<li>If no combination of tuples satisfies the join condition, the result is an empty relation with zero tuples</li>
</ul>
<p>In general:</p>
<ul>
<li><em>R</em> has <em>nR</em> tuples:
    $$
    |R| = _{nR}
    $$</li>
<li><em>S</em> has <em>nS</em> tuples:
    $$
    |S| = _{nS}
    $$</li>
<li>Then <em>R x S</em> will have <em>nR * nS</em> tuples.</li>
</ul>
<p>Result of a JOIN operation will have between zero and a maximum size of <em>nR * ns</em> tuples. The expected size of the join result divided by the maximum size leads to a ratio <strong>join selectivity</strong>.</p>
<p>If there is no join condition, all combinations of tuples can be selected and this becomes a CARTESIAN PRODUCT.</p>
<p>JOIN in <abbr title="Structured Query Language">SQL</abbr> can be realized by:</p>
<ul>
<li>Specifying join condition in WHERE clause</li>
<li>Using nested relation</li>
<li>Using joined tables</li>
</ul>
<p>NATURAL JOIN notation:</p>
<div class="arithmatex">\[
R_{1}*_{&lt;join\ condition&gt;}R_{2}
\]</div>
<p>...or</p>
<div class="arithmatex">\[
R_{1*\ (&lt;join\ attributes 1&gt;),(&lt;join\ attributes 2&gt;)}R_{2}
\]</div>
<p>...or</p>
<div class="arithmatex">\[
R_{1} * R_{2}
\]</div>
<h3 id="inner-vs-outer-join">Inner vs Outer Join<a class="headerlink" href="#inner-vs-outer-join" title="Permanent link">&para;</a></h3>
<p>Inner join:</p>
<ul>
<li>Tuples <strong>with no match are eliminated</strong> (information loss)</li>
<li>A single JOIN operation combines data from two relations, presented in a single table</li>
<li>Match-and-combine; CARTESIAN PRODUCT followed by SELECTION</li>
<li>Also <em>n-way join</em> combining multiple tables</li>
</ul>
<p>Outer join:</p>
<ul>
<li>Keeps all tuples in <em>R</em> or <em>S</em> (both relations) in the join result regardless of whether they have matching tuples in the other relation</li>
<li>Combine tables by matching corresponding rows without losing any tuples that don't have matching values<ul>
<li>If there is no matching value, use NULL</li>
</ul>
</li>
<li>LEFT OUTER JOIN: keep all tuples from first relation (outer part) in addition to the inner part of the query</li>
<li>RIGHT OUTER JOIN: keep all tuples from second relation (outer part) in addition to the inner part of the query</li>
<li>FULL OUTER JOIN: keep all tuples without matching tuples, pad with NULL</li>
</ul>
<h3 id="complete-set">Complete Set<a class="headerlink" href="#complete-set" title="Permanent link">&para;</a></h3>
<p>The operations (sigma, pi, union, rho, minus, multiply):</p>
<div class="arithmatex">\[
{\sigma, \pi, \cup, \rho, -, \times}
\]</div>
<p>Are a <strong>complete</strong> set of relational algebra operations: any of the other original relational algebra operations can be expressed as a sequence of operations from this set, e.g.:</p>
<ul>
<li>INTERSECTION can be expressed using UNION and MINUS</li>
<li>JOIN can be specified as CARTESIAN PRODUCT followed by SELECT</li>
<li>NATURAL JOIN can be specified as RENAME then CARTESIAN PRODUCT followed by SELECT and PROJECT</li>
</ul>
<h3 id="division-operation">DIVISION Operation<a class="headerlink" href="#division-operation" title="Permanent link">&para;</a></h3>
<p>Convenience for queries that involve <em>universal quantification</em> or the <em>all</em> condition.</p>
<p>Applied to two relations where the attributes of <em>S</em> (<em>R2</em>) are a subset of the attributes of <em>R</em>:</p>
<p>DIVISION notation:</p>
<div class="arithmatex">\[
R_{1}(Z) \div R_{2}(X)
\]</div>
<p>...that is, <em>X</em> ⊆ <em>Z</em>. Let <em>Y</em> be the set of attributes of <em>R</em> that are not attributes of <em>S</em>: <em>Y = Z - X</em> and the result of DIVISION is a relation <em>T(Y)</em>.</p>
<blockquote>
<p>Produces a relation R(X) that includes all tuples t[X] in R1(Z) that appear in R1 in combination with every tuple from R2(Y), where Z = X∪Y</p>
</blockquote>
<p>In order for a tuple to appear in the result, the values of the tuple must appear in <em>R</em> in combination with every tuple in <em>S</em>.</p>
<p>Express as a sequence of pi, times, and minus operations:</p>
<div class="arithmatex">\[
T1 \leftarrow \pi_{y}(R)
\]</div>
<div class="arithmatex">\[
T2 \leftarrow \pi_{y}((S \times T1) - R)
\]</div>
<div class="arithmatex">\[
T \leftarrow T1 - T2
\]</div>
<p>Not directly implemented with most RDBMS, nor <abbr title="Structured Query Language">SQL</abbr>.</p>
<h3 id="query-tree-notation">Query Tree Notation<a class="headerlink" href="#query-tree-notation" title="Permanent link">&para;</a></h3>
<p>A <strong>query tree</strong> (query evaluation tree, query execution tree) is a data structure that corresponds to a relational algebra expression.</p>
<p>Input relations of the query are <em>leaf nodes</em> on the tree; relational algebra operations are internal nodes. Execution:</p>
<ul>
<li>Executing an internal node operation whenever its operands (child nodes) are available</li>
<li>Replace that internal node by the resulting relation</li>
<li>Terminate when root node is executed</li>
<li>Produces the result relation for the query</li>
</ul>
<h3 id="generalized-projection">Generalized Projection<a class="headerlink" href="#generalized-projection" title="Permanent link">&para;</a></h3>
<p>Extension of projection operation: allow functions of attributes to be included in the projection list. Useful for reports where computed values must be produced in the columns of a query result, e.g. compute net salary (rename) from EMPLOYEE.Salary.</p>
<div class="arithmatex">\[
\pi _{F1, F2, ..., Fn}(R)
\]</div>
<p>Where <em>F</em> are functions over the attributes in relation <em>R</em> (arithmetic operations, constant values).</p>
<h3 id="aggregate-and-grouping">AGGREGATE and Grouping<a class="headerlink" href="#aggregate-and-grouping" title="Permanent link">&para;</a></h3>
<ul>
<li>Mathematical aggregate functions cannot be expressed in basic relational algebra<ul>
<li>E.g. get average salary of all employees, get total salary of all employees, get total number of employee tuples</li>
<li>SUM, AVERAGE, MAXIMUM, MINIMUM are commonly applied to collections of numeric values</li>
<li>COUNT is for tuples or values</li>
</ul>
</li>
<li>In general, duplicates are not eliminated (unless in <abbr title="Structured Query Language">SQL</abbr>, DISTINCT is used)</li>
<li>NULL values are not considered in the aggregation</li>
<li>Results in a relation (not a scalar number)<ul>
<li>Relational algebra is a closed mathematical system</li>
</ul>
</li>
</ul>
<p>Grouping: tuples in a relation are grouped by the value of some of their attributes before an aggregate function is independently applied to each group.</p>
<p>AGGREGATE FUNCTION operation notation (from textbook -- there's no single agreed-upon notation):</p>
<div class="arithmatex">\[
_{&lt;grouping\ attributes&gt;}\Im_{&lt;function\ list&gt;}(R)
\]</div>
<p>... where <em>grouping attributes</em> is a list of attributes of the relation specified in <em>R</em>, and <em>function list</em> is a list of function-attribute pairs, where:</p>
<ul>
<li>Function is one of the allowed functions, e.g. SUM, AVERAGE, MAXIMUM, MINIMUM, COUNT</li>
<li>Attribute is an attribute of the relation specified by <em>R</em></li>
<li>Resulting relation has the grouping attributes plus one attribute for each element in the function list<ul>
<li>The resulting attributes may be renamed</li>
<li>If not renamed, the resulting attributes will each be the function name concatenated with the attribute name: <code>&lt;function&gt;_&lt;attribute&gt;</code> (<abbr title="Structured Query Language">SQL</abbr>)</li>
</ul>
</li>
<li>If no grouping, functions are applied to all the tuples in the relation; result is a single tuple only</li>
</ul>
<h3 id="recursive-closure-operations">Recursive Closure Operations<a class="headerlink" href="#recursive-closure-operations" title="Permanent link">&para;</a></h3>
<p>A <strong>recursive closure</strong> cannot be specified in the basic original relational algebra. It is applied to a <strong>recursive relationship</strong> between tuples of the same type (e.g. EMPLOYEE, SUPERVISOR).</p>
<p>Requires a looping mechanism.</p>
<p>The operation <em>transitive closure</em> of relations (proposed) would compute the recursive relationship as far as the recursion proceeds.</p>
<h2 id="relational-calculus">Relational Calculus<a class="headerlink" href="#relational-calculus" title="Permanent link">&para;</a></h2>
<p>Formal query language for the relational model: <strong>relational calculus</strong>; tuple and domain.</p>
<p>Uses <strong>declarative</strong> expression to specify retrieval request:</p>
<ul>
<li>No description of how or in what order the evaluation should be done</li>
<li>What is retrieved rather than how to retrieve it; <strong>nonprocedural</strong> language</li>
<li>Unlike <strong>procedural</strong> relational algebra: sequence of operations</li>
<li>Basic relational algebra and relational calculus have identical <strong>expressive power</strong></li>
<li>A relational query language is complete if we can express in it any query that can be expressed in relational calculus</li>
</ul>
<h3 id="range-expression">Range expression<a class="headerlink" href="#range-expression" title="Permanent link">&para;</a></h3>
<p><em>t</em> is a tuple of relation <em>R</em>:</p>
<div class="arithmatex">\[
t\in R
\]</div>
<p>and</p>
<div class="arithmatex">\[
R(t)
\]</div>
<h3 id="attribute-value">Attribute value<a class="headerlink" href="#attribute-value" title="Permanent link">&para;</a></h3>
<p><em>t.A</em> denotes the value of <em>t</em> on attribute <em>A</em>.</p>
<h3 id="constant">Constant<a class="headerlink" href="#constant" title="Permanent link">&para;</a></h3>
<p><em>c</em> denotes a constant.</p>
<h3 id="comparison-operators_1">Comparison Operators<a class="headerlink" href="#comparison-operators_1" title="Permanent link">&para;</a></h3>
<p>Denoted by theta θ:<code>{=, &lt;, ≤, &gt;, ≥, ≠}</code></p>
<h3 id="tuple-relational-calculus">Tuple Relational Calculus<a class="headerlink" href="#tuple-relational-calculus" title="Permanent link">&para;</a></h3>
<ul>
<li>Tuple relational calculus is based on specifying a number of tuple variables</li>
<li>Each tuple variable ranges over a particular database relation and may take its value from any individual tuple in the relation</li>
<li>Queries have variables that range over sets of tuples</li>
</ul>
<p>Tuple relational calculus query:</p>
<div class="arithmatex">\[
\{ t | COND(t)\}
\]</div>
<p>...where <em>t</em> is a tuple variable and COND(<em>t</em>) is a conditional Boolean expression involving <em>t</em>. Different assignments of tuples to the variable <em>t</em> evaluate to TRUE (satisfies COND(<em>t</em>)) or FALSE.</p>
<p>The result is the set of all tuples that satisfy the condition.</p>
<div class="arithmatex">\[
\{t | EMPLOYEE(t)\ AND\ t.Salary&gt;50000\}
\]</div>
<p>In a tuple relational calculus, specifiy:</p>
<ul>
<li>The <strong>range relation</strong> (<em>R</em> of <em>t</em>, <em>R(t)</em>)<ul>
<li>The condition EMPLOYEE(t) specifies that the range relation of <em>t</em> is EMPLOYEE</li>
<li>If no range relation is specified, the variable <em>t</em> ranges over all possible tuples</li>
</ul>
</li>
<li>A condition to select particular combinations of tuples<ul>
<li><strong>Selected combinations</strong> are ones for which the condition evaluates to TRUE</li>
</ul>
</li>
<li>The <strong>requested attributes</strong>, a set of attributes to be retrieved for each selected combination</li>
</ul>
<p>Tuple relational calculus general expression:</p>
<div class="arithmatex">\[
\{t_{1}.A_{j},t_{2}.A_{k},...,t_{n}.A_{m}\ |\ COND(t_{1},t_{2},...,t_{n},t_{n+1},t_{n+2},...,t_{n+m},)\}
\]</div>
<p>Where all <em>t</em> are tuple variables, all <em>A</em> is an attribute of the relation on which each <em>t</em> ranges, and COND is a <strong>condition</strong> or <strong>formula</strong> (or Boolean condition, <strong>well-formed formula</strong>, WFF) of the tuple relational calculus.</p>
<h4 id="selection">Selection<a class="headerlink" href="#selection" title="Permanent link">&para;</a></h4>
<div class="arithmatex">\[
\{ r\ |\ r\in RegularUser \}
\]</div>
<h4 id="selection-composite-expression">Selection Composite Expression<a class="headerlink" href="#selection-composite-expression" title="Permanent link">&para;</a></h4>
<div class="arithmatex">\[
\{ r\ |\ r\in RegularUser\ and\ (r.CurrentCity=r.HomeTown\ or\ r.HomeTown='Atlanta')\}
\]</div>
<h4 id="projection">Projection<a class="headerlink" href="#projection" title="Permanent link">&para;</a></h4>
<p>Find Email, BirthYear, and Sex for RegularUsers with HomeTown Atlanta.</p>
<div class="arithmatex">\[
\{ r.Email,\ r.BirthYear,\ r.Sex\ |\ r\in RegularUser\ and\ r.HomeTown='Atlanta' \}
\]</div>
<h4 id="union_1">Union<a class="headerlink" href="#union_1" title="Permanent link">&para;</a></h4>
<p>Find all cities that are a CurrentCity <strong>or</strong> a HomeTown for some Regular User.</p>
<div class="arithmatex">\[
\{ s.City\ |\ \exists(r\in RegularUser)(s.City=r.CurrentCity)\ or\ \exists(t\in RegularUser)(s.City=t.HomeTown) \}
\]</div>
<h4 id="intersection">Intersection<a class="headerlink" href="#intersection" title="Permanent link">&para;</a></h4>
<p>Find all cities that are a CurrentCity for some RegularUser <strong>and</strong> a HomeTown for some RegularUser.</p>
<div class="arithmatex">\[
\{ s.City\ |\ \exists(r\in RegularUser)(s.City=r.CurrentCity)\ and\ \exists(t\in RegularUser)(s.City=t.HomeTown) \}
\]</div>
<h4 id="set-difference">Set Difference<a class="headerlink" href="#set-difference" title="Permanent link">&para;</a></h4>
<p>Find all cities that are a CurrentCity for some RegularUser, <strong>excluding</strong> those that are a HomeTown for some RegularUser.</p>
<div class="arithmatex">\[
\{ s.City\ |\ \exists(r\in RegularUser)(s.City=r.CurrentCity)\ and\ not(\exists(t\in RegularUser)(s.City=t.HomeTown)) \}
\]</div>
<h4 id="natural-join_1">Natural Join<a class="headerlink" href="#natural-join_1" title="Permanent link">&para;</a></h4>
<p>Find Email, Year, Sex, Event when the BirthYear of the User is the same as the EventYear of Events</p>
<div class="arithmatex">\[
\{ t.Email, t.Year, t.Sex, t.Event | \exists(r\in RegularUser)\exists(s\in Events)(r.Year=s.Year\ and\ t.Email=r.Email\ and\ t.Year=r.Year\ and\ t.Sex=r.Sex\ and\ t.Event=s.Event)\}
\]</div>
<ul>
<li>Matches on identically named variables by default</li>
<li><em>t</em> is the resulting tuple, so <code>t.A =</code> illustrates what we want in the result.</li>
</ul>
<h4 id="cartesian-product_1">Cartesian Product<a class="headerlink" href="#cartesian-product_1" title="Permanent link">&para;</a></h4>
<p>Combine all RegularUser tuples with all UserInterests tuples.</p>
<div class="arithmatex">\[
\{ r,\ s\ |\ r\in RegularUser\ and\ s\in UserInterests \}
\]</div>
<h4 id="divideby">Divideby<a class="headerlink" href="#divideby" title="Permanent link">&para;</a></h4>
<p>Find Email of all users with at least all the interests of Use1.</p>
<div class="arithmatex">\[
\{ r.Email | r \in UserInterests\ and\ \forall (s \in UserInterests)((s.Email \ne 'User1')\ or\ \exists (t \in UserInterests)(r.Email=t.Email\ and\ t.Interest=s.Interest))\}
\]</div>
<h3 id="tuple-relational-calculus-atoms">Tuple Relational Calculus Atoms<a class="headerlink" href="#tuple-relational-calculus-atoms" title="Permanent link">&para;</a></h3>
<p>A <strong>formula</strong> is made up of predicate calculus <strong>atoms</strong> connected by logical operators AND, OR, NOT, and which can be of any of these forms where  <em>tᵢ</em> is a tuple variable.</p>
<ul>
<li><em>R(tᵢ)</em> or <em>t∈R</em><ul>
<li>Where <em>R</em> is a relation name</li>
<li>If <em>t</em> is assigned to a tuple that is a member of the relation <em>R</em>, the atom is TRUE</li>
</ul>
</li>
<li><em>tᵢ.A</em> <strong>op</strong> <em>tⱼ.B</em> or <em>r.A θ s.B</em><ul>
<li>Where <em>A</em> and <em>B</em> are attributes over which their <em>t</em> ranges</li>
<li>And <strong>op</strong> is one of <code>{=, &lt;, ≤, &gt;, ≥, ≠}</code></li>
<li>If the tuple variables are assigned to tuples such that the values of the specified attributes of the tuples satisfy the condition, the atom is TRUE</li>
</ul>
</li>
<li><em>tᵢ.A</em> <strong>op</strong> <em>c</em> or <em>c</em> <strong>op</strong> <em>tⱼ.B</em> or <em>r.A θ c</em><ul>
<li>Where <em>A</em> and <em>B</em> are attributes over which their <em>t</em> ranges</li>
<li>And <strong>op</strong> is one of <code>{=, &lt;, ≤, &gt;, ≥, ≠}</code></li>
<li>Where <em>c</em> is a constant value</li>
<li>If the tuple variables are assigned to tuples such that the values of the specified attributes of the tuples satisfy the condition, the atom is TRUE</li>
</ul>
</li>
</ul>
<p>The <strong>truth value</strong> of an atom is whether it evaluates to TRUE or FALSE.</p>
<p>A formula is defined recursively by these rules:</p>
<ol>
<li>Every atom is a formula</li>
<li>If <em>F₁</em> and <em>F₂</em> are formulas, then so are (<em>F₁</em> AND <em>F₂</em>), (<em>F₁</em> OR <em>F₂</em>), NOT (<em>F₁</em>) and NOT (<em>F₂</em>). Truth values are derived from <em>F₁</em> and <em>F₂</em> (same as rules for AND, OR, NOT).</li>
<li>(<em>F₁</em> AND <em>F₂</em>): TRUE if both are TRUE</li>
<li>(<em>F₁</em> OR <em>F₂</em>): FALSE if both are FALSE, otherwise TRUE</li>
<li>NOT (<em>F₁</em>): TRUE if <em>F₁</em> is FALSE, otherwise FALSE</li>
<li>NOT (<em>F₂</em>): TRUE if <em>F₂</em> is FALSE, otherwise FALSE</li>
<li>If <em>F</em> is a formula, then so is (∃<em>t</em>)(<em>F</em>), where <em>t</em> is a tuple variable</li>
<li>Evaluates to TRUE if <em>F</em> is true for at least one tuple assigned to free occurrences of <em>t</em> in <em>F</em></li>
<li>If <em>F</em> is a formula, then so is (∀<em>t</em>)(<em>F</em>), where <em>t</em> is a tuple variable</li>
<li>Evaluates to TRUE if <em>F</em> is true for every tuple assined to free occurrences of <em>t</em> in <em>F</em></li>
</ol>
<h3 id="predicate">Predicate<a class="headerlink" href="#predicate" title="Permanent link">&para;</a></h3>
<p>An atom is a predicate if P₁ and P₂ are predicates. So are:</p>
<ul>
<li>(P₁)</li>
<li>not(P₁)</li>
<li>P₁ or P₂</li>
<li>P₁ and P₂</li>
<li>P₁ → P₂</li>
</ul>
<h4 id="quantifiers">Quantifiers<a class="headerlink" href="#quantifiers" title="Permanent link">&para;</a></h4>
<p>Can appear in formulas: <strong>universal quantifier</strong> (∀) (all in the universe) and <strong>existential quantifier</strong> (∃) (if there exists).</p>
<p>If P(t) is a predicate, t is a free variable in P, and R is a relation, then:</p>
<ul>
<li>∀(t∈R)(P(t))</li>
<li>∃(t∈R)(P(t))</li>
</ul>
<p>both are predicates.</p>
<p>A tuple variable <em>t</em> is <strong>bound</strong> if quantified; otherwise it is <strong>free</strong>.</p>
<ul>
<li>A tuple variable in a formula that <em>is an atom</em> is free in that formula</li>
<li>A tuple variable <em>t</em> in a formula made up of logical connectives (AND, OR, NOT) is free or bound depending on whether it is free or bound in the component formulas, if it occurs in any component formula<ul>
<li>i.e. a tuple variable <em>t</em> that appears in <em>F₁</em> or <em>F₂</em> in the formula (<em>F₁</em> AND <em>F₂</em>) is free or bound in <em>F₁</em> or <em>F₂</em> respectively</li>
</ul>
</li>
<li>All free occurrences of <em>t</em> in <em>F</em> are bound in a formula of the form <em>F′</em>= (∃<em>t</em>)(<em>F</em>) or <em>F′</em> = (∀<em>t</em>)(<em>F</em>)</li>
</ul>
<p>Free tuple variables in a tuple relational calculus expression should appear to the left of the bar <code>|</code>.</p>
<p>Universal and existential quantifiers can be transformed into the other to get an equivalent expression; some special cases, shown with ≡ (equivalent to):</p>
<ul>
<li>(∀x) (P(x)) ≡ NOT (∃x) (NOT (P(x)))</li>
<li>(∃x) (P(x)) ≡ NOT (∀x) (NOT (P(x)))</li>
<li>(∀x) (P(x) AND Q(x)) ≡ NOT (∃x) (NOT (P(x)) OR NOT (Q(x)))</li>
<li>(∀x) (P(x) OR Q(x)) ≡ NOT (∃x) (NOT (P(x)) AND NOT (Q(x)))</li>
<li>(∃x) (P(x)) OR Q(x)) ≡ NOT (∀x) (NOT (P(x)) AND NOT (Q(x)))</li>
<li>(∃x) (P(x) AND Q(x)) ≡ NOT (∀x) (NOT (P(x)) OR NOT (Q(x)))</li>
</ul>
<p>Cases where → symbol means <strong>implies</strong>:</p>
<ul>
<li>(∀x)(P(x)) → (∃x)(P(x))</li>
<li>NOT (∃x)(P(x)) → NOT (∀x)(P(x))</li>
</ul>
<p>Definition of a universal quantifier says that in order to be true, the inner formulas must be TRUE for all tuples in the universe</p>
<ul>
<li>For F′ = (∀x)(F) to be TRUE, we must have the formula F be TRUE for all tuples in the universe that can be assigned to <em>x</em><ul>
<li>We must exclude from the universal quantification all tuples we don't want by making the condition TRUE for those tuples</li>
<li>A universally quantified tuple variable must evaluate to true for every possible tuple assigned to it</li>
<li>E.g. use NOT(PROJECT(<em>x</em>)), which evaluates to TRUE all tuples <em>x</em> that are not in the PROJECT relation</li>
</ul>
</li>
<li>This eliminates tuples from consideration in the truth value of <em>F</em></li>
</ul>
<h4 id="safe-expression">Safe Expression<a class="headerlink" href="#safe-expression" title="Permanent link">&para;</a></h4>
<p>The domain of a tuple relational calculus expression is the set of all values that either appear as constant values in the expression or exist in any tuples in the relations referenced in the expression.</p>
<p>A <strong>safe expression</strong> in relational calculus is guaranteed to yield a finite number of tuples as a result. All values in its result are from the domain of the expression.</p>
<p>An <strong>unsafe</strong> expression has no finite guarantee, e.g. { <em>t</em> | NOT (EMPLOYEE(<em>t</em>))} yields all tuples that are not EMPLOYEE tuples, i.e. is infinitely numerous. It includes values from outside the EMPLOYEE relation (outside the domain of expression).</p>
<h3 id="domain-relational-calculus">Domain Relational Calculus<a class="headerlink" href="#domain-relational-calculus" title="Permanent link">&para;</a></h3>
<p>Or <strong>domain calculus</strong>, proposed after Query-By-Example (QBE).</p>
<p><strong>Domain variables</strong> range over single values from domains of attributes. To form a relation of degree <em>n</em> for a query result, we need <em>n</em> domain variables, one for each attribute.</p>
<p>Domain calculus expression notation:</p>
<div class="arithmatex">\[
\{x_{1},x_{2},...,x_{n}\ |\ COND(x_{1},x_{2},...,x_{n+1},x_{n+2},...,x_{n+m},)\}
\]</div>
<p>... where x are domain variables that range over domains of attributes, and COND is a condition or formula of the domain relational calculus.</p>
<p>Formulas are made up of atoms of the form:</p>
<ul>
<li>R(<em>x₁, x₂, ... , xⱼ</em>)<ul>
<li>Where <em>R</em> is the name of a relation of degree <em>j</em> and each <em>xᵢ, 1 ≤ i ≤ j</em>, is a domain variable</li>
<li>A list of values <em><x₁, x₂, ... , xⱼ></em> must be a tuple in the relation named <em>R</em>, where <em>xᵢ</em> is the value of the <em>i</em>th attribute value of the tuple</li>
<li>List of variables can be written without commas: R(<em>x₁x₂x₃</em>)</li>
<li>If the domain variables are assigned values corresponding to the tuple of the relation R, then the atom is TRUE</li>
</ul>
</li>
<li><em>xᵢ</em> <strong>op</strong> <em>xⱼ</em><ul>
<li>Where <strong>op</strong> is one of <code>{=, &lt;, ≤, &gt;, ≥, ≠}</code></li>
<li>And <em>x</em> are domain variables</li>
<li>If the domain values are assigned variables that satisfy the condition, the atom is TRUE</li>
</ul>
</li>
<li><em>xᵢ</em> <strong>op</strong> <em>c</em> or <em>c</em> <strong>op</strong> <em>xⱼ</em><ul>
<li>Where <strong>op</strong> is one of <code>{=, &lt;, ≤, &gt;, ≥, ≠}</code></li>
<li>And <em>x</em> are domain variables</li>
<li>And <em>c</em> is a constant value</li>
<li>If the domain values are assigned variables that satisfy the condition, the atom is TRUE</li>
</ul>
</li>
</ul>
<h2 id="abstraction-knowledge-representation">Abstraction, Knowledge Representation<a class="headerlink" href="#abstraction-knowledge-representation" title="Permanent link">&para;</a></h2>
<ul>
<li><abbr title="Knowledge Representation">KR</abbr> goal: develop concepts for accurately modeling a <strong>domain of knowledge</strong> through creation of an ontology</li>
<li><abbr title="Knowledge Representation">KR</abbr> includes <strong>reasoning mechanisms</strong> to deduce additional facts from facts stored in <abbr title="Database">DB</abbr>; answer queries with <strong>inferences</strong></li>
<li><strong>Ontology</strong> enables storing and manipulating knowledge to draw inferences, make decisions, or ask questions</li>
</ul>
<p>Types of <strong>abstraction</strong> include:</p>
<ul>
<li><strong>Classification</strong> and instantiation (define entity types)</li>
<li>Identification</li>
<li><strong>Generalization</strong> and specification (supported by super/subtype relationships)</li>
<li><strong>Aggregation</strong> (an instance composed of instances of other parts) and association<ul>
<li><abbr title="Extended-Entity Relationship">EER</abbr> can't model this</li>
</ul>
</li>
</ul>
<p>A list of properties as a result of a query needs a type (using a <strong>closed query language</strong>) in order to continue operating on it. The lack of a closed query language in <abbr title="Extended-Entity Relationship">EER</abbr> is (in Leo's opinion) the reason commercial <abbr title="Database Management System">DBMS</abbr> are not based on <abbr title="Extended-Entity Relationship">EER</abbr>.</p>
<h3 id="classification">Classification<a class="headerlink" href="#classification" title="Permanent link">&para;</a></h3>
<ul>
<li>Systematically assigning similar objects or entities to classes or entity types</li>
<li>Allows us to reason about the classes rather than its individual members; simplifies discovering their properties</li>
<li>One class may be an instance of another class (<strong>meta-class</strong>)<ul>
<li><abbr title="Extended-Entity Relationship">EER</abbr> diagrams cannot show this (no multi-level class notation, only superclass/subclass)</li>
</ul>
</li>
</ul>
<h3 id="instantiation">Instantiation<a class="headerlink" href="#instantiation" title="Permanent link">&para;</a></h3>
<ul>
<li>Inverse of classification; generate and examine a specific object in a class</li>
<li>Related to class by <strong>is-an-instance-of</strong> or <strong>is-a-member-of</strong> relationship</li>
<li>Instances not displayed on <abbr title="Extended-Entity Relationship">EER</abbr> diagrams</li>
<li>Some objects differ from others in the same class: these are <strong>exception objects</strong></li>
<li><strong>Class properties</strong> apply to the class as a whole and not its individual objects</li>
</ul>
<h3 id="identification">Identification<a class="headerlink" href="#identification" title="Permanent link">&para;</a></h3>
<ul>
<li>Classes and objects are made uniquely identifiable with an <strong>identifier</strong>, e.g. name, uuid</li>
<li>Multiple manifestations of a real-world object in the <abbr title="Database">DB</abbr> (duplicates) must be caught</li>
</ul>
<h3 id="specialization-generalization">Specialization, Generalization<a class="headerlink" href="#specialization-generalization" title="Permanent link">&para;</a></h3>
<ul>
<li>Specialization (dividing a class into subclasses: conceptual refinement) is inverse of generalization (lumping several classes into a higher level abstract class: conceptual synthesis)</li>
<li>Uses <strong>is-a-subclass-of</strong> or <strong>is-a</strong> relationship</li>
</ul>
<h3 id="aggregation">Aggregation<a class="headerlink" href="#aggregation" title="Permanent link">&para;</a></h3>
<ul>
<li>Building composite objects from component objects, e.g.:<ul>
<li>Aggregating attribute values of an object to form the whole object</li>
<li>Representing an aggregation relationship as an ordinary relationship</li>
<li>Combining related objects (of a particular relationship instance) into a higher-level aggregate object (can't do this in <abbr title="Extended-Entity Relationship">EER</abbr>)</li>
</ul>
</li>
<li>Relationship between primitive object and aggregate object: <strong>is-a-part-of</strong> or <strong>is-a-component of</strong></li>
<li>If deleted, participating objects cease to exist</li>
</ul>
<h3 id="association">Association<a class="headerlink" href="#association" title="Permanent link">&para;</a></h3>
<ul>
<li>Associating objects from several independent classes</li>
<li>Represented by relationship types (<abbr title="Extended-Entity Relationship">EER</abbr>) and associations (<abbr title="Unified Modeling Language">UML</abbr>)</li>
<li>Uses <strong>is-associated-with</strong> relationship</li>
<li>If deleted, participating objects continue to exist</li>
</ul>
<h3 id="ontologies">Ontologies<a class="headerlink" href="#ontologies" title="Permanent link">&para;</a></h3>
<p>A specification of a conceptualization (Gruber, 1995).</p>
<ul>
<li><strong>Conceptualization</strong>: set of concepts and relationships used to represent a part of reality or knowledge</li>
<li><strong>Specification</strong>: language and volcabulary terms used to specify the conceptualization</li>
<li>Can use different languages for the same specification: two ontologies</li>
<li>No one method: thesaurus, taxonomy, database schema, logical theory</li>
</ul>
<h2 id="eer-relational-mapping"><abbr title="Extended-Entity Relationship">EER</abbr> Relational Mapping<a class="headerlink" href="#eer-relational-mapping" title="Permanent link">&para;</a></h2>
<ul>
<li>The identifying property of an entity becomes its primary key in the table</li>
</ul>
<h3 id="composite-properties">Composite Properties<a class="headerlink" href="#composite-properties" title="Permanent link">&para;</a></h3>
<p><strong>Composite properties</strong> are flattened:</p>
<ul>
<li>Relations are tuples constructed from domains with atomic values<ul>
<li>Atomic values are indivisible</li>
</ul>
</li>
<li>Relational model is inherently flat (<em>flat file</em>)</li>
<li>Composite properties are flattened to their components in the table, e.g:</li>
</ul>
<p><img alt="Composite properties mapping" src="../mapping-composite.PNG" /></p>
<h3 id="multi-value-properties">Multi-value Properties<a class="headerlink" href="#multi-value-properties" title="Permanent link">&para;</a></h3>
<p>There are no <strong>multi-valued attributes</strong> in a relational model (<strong>flat relational model</strong>):</p>
<ul>
<li>e.g. <code>Entity</code> with primary key <code>A</code> and multi-value property <code>E</code></li>
<li>Multi-value properties become new relations, named by the entity type hyphenated with the property name: becomes the separate relation <code>Entity-E</code></li>
<li>This <code>Entity-E</code> table has a foreign key <code>A</code> to the <code>Entity</code> table<ul>
<li>As long as the combination of <code>A</code> and <code>E</code> is unique, we can now have different values for <code>E</code></li>
</ul>
</li>
</ul>
<p><img alt="Multi-value properties mapping" src="../mapping-multi.PNG" /></p>
<h3 id="one-to-one-relationship">One-to-one Relationship<a class="headerlink" href="#one-to-one-relationship" title="Permanent link">&para;</a></h3>
<p><strong>One-to-one relationships</strong> are mapped with foreign keys.</p>
<p><img alt="One to one relationship mapping" src="../mapping1to1.jpg" /></p>
<p>If Role is a total function (doubled orange line above) use the second method of putting the foreign key in the Role relation. This avoids having NULL fields in the User table in the first option since not all Users will have a Role, but all Roles will have a User.</p>
<p>For relation, with attributes, that has a total function to some entity, map the relation's attribute to that entity's table.</p>
<h3 id="one-to-many-relationship">One-to-Many Relationship<a class="headerlink" href="#one-to-many-relationship" title="Permanent link">&para;</a></h3>
<p><strong>One-to-many relationships</strong> are also mapped with foreign keys. For example, many instances of Role can point to a single instance of User:</p>
<p><img alt="One to many relationship mapping" src="../mapping1ton.png" /></p>
<h3 id="many-to-many-relationship">Many-to-Many Relationship<a class="headerlink" href="#many-to-many-relationship" title="Permanent link">&para;</a></h3>
<p><strong>Many-to-many relationships</strong> are mapped with a new table for the relation. The relation table uniquely identifies each combination with its composite key.</p>
<p><img alt="Many to many relationship mapping" src="../mappingntom.png" /></p>
<h3 id="weak-entities">Weak Entities<a class="headerlink" href="#weak-entities" title="Permanent link">&para;</a></h3>
<p><strong>Mapping weak entity relationships</strong> is done by inserting a foreign key to the strong entity in the weak entity's table. The composite key uniquely identifies the combination.</p>
<p><img alt="One to many weak entity mapping" src="../mapping-weak.png" /></p>
<h3 id="mandatory-disjoint-relationship">Mandatory Disjoint Relationship<a class="headerlink" href="#mandatory-disjoint-relationship" title="Permanent link">&para;</a></h3>
<p><strong>Mandatory disjoint relationships</strong> map to separate tables for each subclass. No table is created for the superclass entity, since each instance of the superclass is contained in one of the subclasses.</p>
<p><img alt="Mandatory disjoint mapping" src="../mapping-mand-disjoint.png" /></p>
<h3 id="mandatory-overlapping-relationship">Mandatory Overlapping Relationship<a class="headerlink" href="#mandatory-overlapping-relationship" title="Permanent link">&para;</a></h3>
<p>One approach to mapping a <strong>mandatory overlapping relationship</strong> is to create one relation with all attributes from super and subclasses, plus an attribute for <code>type</code> to denote the subclass. This results in NULL fields if the instance is only one of the subclasses, i.e. where immediate attributes for the other subclass(es) have no value, and can have consistency problems.</p>
<p>A preferable approach is to create a relation for each entity: each superclass and subclass. The subclass relations will contain foreign keys to the superclass relation. Foreign key values may appear multiple times among the subclasses.</p>
<p><img alt="Mandatory overlapping mapping" src="../mapping-mand-over.PNG" /></p>
<h3 id="non-mandatory-overlapping-relationship">Non-Mandatory Overlapping Relationship<a class="headerlink" href="#non-mandatory-overlapping-relationship" title="Permanent link">&para;</a></h3>
<p>Similar to mandatory overlapping, a <strong>non-mandatory overlapping relationship</strong> can also be mapped with a single relation. This option has the same issues with NULL fields and consistency.</p>
<p>Preferably, separate relations are again created for each entity (superclass and subclass).</p>
<p><img alt="Non-mandatory overlap mapping" src="../mapping-over.png" /></p>
<h3 id="non-mandatory-disjoint-relationship">Non-Mandatory Disjoint Relationship<a class="headerlink" href="#non-mandatory-disjoint-relationship" title="Permanent link">&para;</a></h3>
<p>Though it looks similar in the <abbr title="Extended-Entity Relationship">EER</abbr> diagram, a <strong>non-mandatory disjoint relationship</strong> has no option to be mapped as a single relation.</p>
<p>Separate relations are again created for each entity (superclass and subclass). A User may be in either Admin or Member classes, but not both.</p>
<p><img alt="Non-mandatory disjoint mapping" src="../mapping-disjoint.PNG" /></p>
<h2 id="union-types">Union Types<a class="headerlink" href="#union-types" title="Permanent link">&para;</a></h2>
<p>Recall that with <strong>Union types</strong> such as in this example, User is a subset of the union of Admin and Member, and the intersection of Admin and Member must be empty. I.e., User must be either an Admin or a Member, and there are no Users that are not one of these subtypes.</p>
<p><img alt="Union Type Mapping" src="../mapping-union.PNG" /></p>
<h2 id="indexing">Indexing<a class="headerlink" href="#indexing" title="Permanent link">&para;</a></h2>
<p>When deciding to index, consider:</p>
<ul>
<li>Size of the table</li>
<li>Whether the table is in the access path of multiple queries and updates</li>
<li>Relative frequencies of reads or writes</li>
<li>Whether it is already indexed by the <abbr title="Database Management System">DBMS</abbr> (e.g. MySQL, PostgreSQL on primary key)</li>
</ul>
<p>Additionally:</p>
<ul>
<li>Multiple frequencies add up, consider all the different ways a table is accessed</li>
<li>Writes suffer when indices must be maintained, but reads benefit</li>
<li>Some <abbr title="Database Management System">DBMS</abbr> have benchmarking tools, or can show query graphs to help determine if indexing is appropriate<ul>
<li>Make small changes and compare measurements</li>
</ul>
</li>
</ul>
<h3 id="size-of-the-table">Size of the Table<a class="headerlink" href="#size-of-the-table" title="Permanent link">&para;</a></h3>
<p>The size of a record is the sum of its bytes, e.g.</p>
<pre><code class="language-sql">RegularUser(
  Email varchar(254),
  City varchar(50)
);
</code></pre>
<p>A RegularUser record is 304 bytes.</p>
<p>What is the <abbr title="Database Management System">DBMS</abbr> block size?</p>
<ul>
<li>Highly formatted data typically uses a lower block size; with large objects in tables, a higher block size is used</li>
<li>All blocks are typically only 66%-80% filled to avoid overflow with inserts</li>
</ul>
<p>Find records per block by taking 80% of the block size:</p>
<ul>
<li>E.g. 4k block: 3.2k</li>
<li>Divide by record size: 3,200 / 304 = ~10.5</li>
<li>About 10 records per block</li>
</ul>
<p>Consider how many records (rows in the <abbr title="Database">DB</abbr>):</p>
<ul>
<li>E.g. 4 million records / 10 blocks is 400,000 blocks to store the RegularUser table</li>
<li>Table size in MB is the number of blocks by the block size: e.g. 1.6 MB</li>
</ul>
<p>With many tables, can't always have them in memory (stored on disk) and scans take time:</p>
<ul>
<li>If we estimate (make an assumption) that a page fault takes 0.01 s</li>
<li>To scan 400,000 blocks (that are not indexed) takes 66 mins</li>
</ul>
<h3 id="multiple-access-paths">Multiple Access Paths<a class="headerlink" href="#multiple-access-paths" title="Permanent link">&para;</a></h3>
<ul>
<li>How many queries and operations access the table?</li>
<li>Determine relative frequency of access from all queries to find weight of access on the table</li>
</ul>
<h2 id="reads-and-writes">Reads and Writes<a class="headerlink" href="#reads-and-writes" title="Permanent link">&para;</a></h2>
<ul>
<li>Consider operations: SELECT (read), UPDATE (write), INSERT (write)</li>
<li>Generally, if table is indexed: reads are faster, writes are slower<ul>
<li>Multiple indices on a table slows down writes (maintaining all the indices)</li>
<li>Writes are preceded by reads</li>
</ul>
</li>
</ul>
<h3 id="functional-dependency">Functional Dependency<a class="headerlink" href="#functional-dependency" title="Permanent link">&para;</a></h3>
<p>A <strong>functional dependency</strong> (FD) is:</p>
<ul>
<li>Denoted <em>X → Y</em> (read "<em>X</em> determines <em>Y</em>") and <em>X,Z → Y</em> (read "a combination of <em>X</em> and <em>Z</em> determines a unique <em>Y</em>")</li>
<li>Specifies a contraint on the possible tuples that can form a relation state <em>r</em> of <em>R</em></li>
<li>A property of the semantics (meaning) of attributes</li>
<li>A property of the relation schema <em>R</em><ul>
<li>Cannot be inferred from a relation extension <em>r</em> but is defined explicitly by knowledge of the semantics of <em>R</em></li>
</ul>
</li>
<li>Describe a relation schema <em>R</em> by constraints on its attributes that must hold all the time</li>
</ul>
<p>Use keys to enforce functional dependencies, since values of keys are unique.</p>
<p>Let X and Y be sets of attributes in R; Y is <strong>functionally dependent</strong> on X in R if for each x ∈ R.X there is precisely one y ∈ R.Y</p>
<ul>
<li>I.e. City is dependent on Email if, for each Email value, there is only one City value</li>
<li>I.e. City and Email are unique together</li>
<li>Email is the unique key since all attributes of the relation are FD on it</li>
</ul>
<p>Let X and Y be sets of attributes in R; Y is <strong>fully functionally dependent</strong> on X in R if Y is functionally dependent on X and Y is not functionally dependent on any proper subset of X.</p>
<ul>
<li>E.g. in RegularUser table with columns Email, Age, and Interest, if <em>Email, Age → Interest</em> you need both Email and Age to determine Interest<ul>
<li>Any two tuples that have the same Email, Age must also have the same Interest</li>
</ul>
</li>
<li>Email and Interest make the unique key</li>
</ul>
<p>Values of the <em>Y</em> component (right side) of a tuple in <em>r</em> depend on (are determined by) the values of the <em>X</em> component (left side); conversely, values of the <em>X</em> component functionally (uniquely) determine values of the <em>Y</em> component.</p>
<p>For any two tuples <em>t₁</em> and <em>t₂</em> that have <em>t₁[X]</em> = <em>t₂[X]</em>, they must also have <em>t₁[Y]</em> = <em>t₂[Y]</em>. <em>Y</em> is functionally dependent on <em>X</em> (or, <em>X</em> functionally determines <em>Y</em> only if whenever two tuples of <em>r(R)</em> agree on the X value, they also agree on the Y value).</p>
<p>If <em>X</em> is a candidate key of <em>R</em> in a relation instance <em>r(R)</em>, this implies <em>X → Y</em> for any subset of attributes <em>Y</em> of <em>R</em> since no two values can have the same <em>X</em>. Then, <em>X → R</em>.</p>
<p>If <em>X → Y</em> in <em>R</em>, it does not indicate whether <em>Y → X</em> in <em>R</em>.</p>
<p><strong>Legal relation states</strong> (legal extensions) of <em>R</em> are relation states or relation extensions (<em>r</em> of <em>R</em> or <em>r(R)</em>) that satisfy functional dependency constraints.</p>
<table>
<thead>
<tr>
<th>Teacher</th>
<th>Course</th>
<th>Text</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smith</td>
<td>Data Structures</td>
<td>Bartram</td>
</tr>
<tr>
<td>Smith</td>
<td>Data Management</td>
<td>Martin</td>
</tr>
<tr>
<td>Hall</td>
<td>Compilers</td>
<td>Hoffman</td>
</tr>
<tr>
<td>Brown</td>
<td>Data Structures</td>
<td>Horowitz</td>
</tr>
</tbody>
</table>
<p>Textbook example: this relation disproves any FD of:</p>
<ul>
<li><code>Teacher → Course</code> (Smith, twice, with different courses)</li>
<li><code>Course → Text</code> (Data Structures with different Texts)</li>
</ul>
<p>There is a possible FD:</p>
<ul>
<li><code>Text → Course</code> (each text only once)</li>
<li><code>Text → Teacher</code> (each text only once)</li>
</ul>
<h2 id="evaluating-relation-schema">Evaluating Relation Schema<a class="headerlink" href="#evaluating-relation-schema" title="Permanent link">&para;</a></h2>
<p>Relation schemas can be evaluated at the</p>
<ul>
<li><strong>Logical</strong> or <strong>conceptual</strong> level: how users interpret the schema and meaning of attributes<ul>
<li>Applies to base relations and views (virtual relations)</li>
</ul>
</li>
<li><strong>Implementation</strong> or <strong>physical storage</strong> level<ul>
<li>Applies to base relations</li>
</ul>
</li>
</ul>
<p>Design methodologies include:</p>
<ul>
<li><strong>Bottom-up</strong> design methodology (design by synthesis)<ul>
<li>Takes the basic relationships among individual attributes as a starting point to construct relation schemas</li>
<li>Not popular: need to collect a large number of binary relationships, nearly impossible in practice</li>
</ul>
</li>
<li><strong>Top-down</strong> design methodology (subsequently, relational design by analysis)<ul>
<li>Group attributes based on relations that exist naturally</li>
<li>Analyze and decompose until desired properties are met</li>
</ul>
</li>
</ul>
<p>Relational database design produces a set of relations with the goals of information preservation and minimum redundancy. Informally:</p>
<ul>
<li>Ensure the <em>semantics</em> (meaning of a relation resulting from interpretation of attribute values in a tuple) of attributes is clear in the schema<ul>
<li>Ensure meaning can easily be explained</li>
</ul>
</li>
<li>Reduce redundant information in tuples</li>
<li>Reduce NULL values in tuples<ul>
<li>Avoid placing attributes in a base relation with values that may frequently be NULL</li>
</ul>
</li>
<li>Disallow generation of spurious tuples (spurious information that is not valid, i.e. more instances of a value that do not correspond to real-world multiples)<ul>
<li>Design schemas that can be joined with appropriately-related (<abbr title="Primary Key">PK</abbr>, <abbr title="Foreign Key">FK</abbr>) attributes</li>
<li>Avoid relations that contain matching attributes that are not (<abbr title="Foreign Key">FK</abbr>, <abbr title="Primary Key">PK</abbr>) combinations</li>
</ul>
</li>
</ul>
<p>Recall that NULL has multiple interpretations:</p>
<ul>
<li>Attribute does not apply to this tuple</li>
<li>Attribute value is unknown</li>
<li>Value is known but absent (not recorded yet)</li>
</ul>
<h2 id="relational-decomposition">Relational Decomposition<a class="headerlink" href="#relational-decomposition" title="Permanent link">&para;</a></h2>
<p>Get rid of unwanted dependencies in order to achieve higher normal forms (1NF is lowest, BCNF is highest).</p>
<p>A single <strong>universal relation schema</strong> includes all attributes of the <abbr title="Database">DB</abbr>. An implicit <strong>universal relation assumption</strong> states that every attribute name is unique. Using FDs, design algorithms decompose the universal relation schema <em>R</em> into a set of relation schemas: <em>D = {R₁, R₂, ..., Rₘ}</em> that become the relational database schema. <em>D</em> is <strong>decomposition</strong> of <em>R</em>.</p>
<h2 id="normalization">Normalization<a class="headerlink" href="#normalization" title="Permanent link">&para;</a></h2>
<p><strong>Normal form</strong> of a relation refers to the highest normal form condition that it meets and indicates the degree to which it has been normalized.</p>
<p>A process of analyzing the given relation schemas based on their FDs and PKs to achieve the desirable properties of minimal redundancy and minimal insertion, deletion, and update anomalies.</p>
<p>Relation schemas are decomposed into smaller schemas (with a subset of the original attributes) until they meet the normal form test.</p>
<p>Generally, design relation schemas so they have neither partial nor transitive dependencies.</p>
<p>How to decompose a relation without losing information and functional dependencies?</p>
<ol>
<li>No redundancy of facts</li>
<li>No cluttering of facts</li>
<li>Must preserve information</li>
<li>Must preserve functional dependencies</li>
</ol>
<p>Or as three goals:</p>
<p><strong>Nonadditive join</strong> or <strong>lossless join property</strong>: no spurious tuples -- must be achieved at any cost. Refers to loss of information, not tuples.</p>
<ul>
<li>Claim: the decomposition <em>D₂ = {R₁, R₂, ..., Rᵢ₋₁, Q₁, Q₂, ..., Qₖ, Rᵢ₊₁, ..., Rₘ}</em> of <em>R</em> has the nonadditive join property with respect to <em>F</em> if:<ul>
<li><em>D = {R₁, R₂, ..., Rₘ}</em> of <em>R</em> has the nonadditive join property in respect to a set of FD <em>F</em> on <em>R</em>, and if</li>
<li><em>Dᵢ = {Q₁, Q₂, ..., Qₖ}</em> of <em>Rᵢ</em> has the nonadditive join property in respect to the projection of <em>F</em> on <em>Rᵢ</em></li>
</ul>
</li>
<li>A decomposition <em>D = {R₁, R₂, ..., Rₘ}</em> has the <strong>lossless (nonadditive) join property</strong> with respect to the set of dependencies <em>F</em> on <em>R</em> if, for every relation state <em>r</em> of <em>R</em> that satisfies <em>F</em>, and where <code>*</code> is the NATURAL JOIN of all the relations in <em>D</em>, the following holds:</li>
</ul>
<div class="arithmatex">\[
*(\pi_{R_{1}}(r), ..., \pi_{R_{m}}(r)) = r
\]</div>
<p><strong>Dependency preservation property</strong>: each FD is represented in some individual relation after decomposition -- sometimes sacrificed.</p>
<ul>
<li>Claim: it is always possible to find a dependency-preserving decomposition <em>D</em> with respect to <em>F</em> such that each relation <em>Rᵢ</em> in <em>D</em> is in 3NF</li>
<li>A decomposition is dependency preserving with respect to <em>F</em> if the union of the projections of <em>F</em> on each <em>Rᵢ</em> in <em>D</em> is equivalent to <em>F</em></li>
</ul>
<div class="arithmatex">\[
(( \pi_{R_{1}}(F)) \cup K \cup (\pi_{R_{m}}(F)))^+ =F^+
\]</div>
<ul>
<li>Non-first-normal-form (NF²): a data structure that is not a relation, e.g. multi-value (non-atomic values)</li>
</ul>
<p><strong>Attribute preservation</strong> condition: ensure that each attribute in <em>R</em> will appear in at least one relation schema <em>Rᵢ</em> so that no attributes are lost.</p>
<div class="arithmatex">\[
\bigcup _{i=1}^{m} R_{i} = R
\]</div>
<p>A multivalue attribute can be normalized by creating a row for each one, with the associated information repeated across the new multiple rows; this has problems:</p>
<ul>
<li><strong>Redundancy</strong>: RegularUser table may now have multiple entries for the same user that all need to be kept in sync</li>
<li><strong>Insertion anomaly</strong>: inserting a new value for which there are no values in the other columns would give a row with mostly NULLs</li>
<li><strong>Deletion anomaly</strong>: deleting a row that contains the only instance of a particular column value means that column value is lost inadvertently</li>
<li><strong>Update anomaly</strong> (modification anomaly): if there are multiple rows for a particular user, they all need to be updated and kept in sync (not just the first one)</li>
</ul>
<p>A table (e.g. RegularUser) can be decomposed into multiple tables; this has problems:</p>
<ul>
<li><strong>Information loss</strong>: Recombining rows from these tables may result in duplicated information<ul>
<li>Application forms now have to consider multiple tables</li>
</ul>
</li>
<li><strong>Dependency loss</strong>: new tables may not have tuples that coexist as expected</li>
</ul>
<p>Perfect decomposition avoids:</p>
<ul>
<li>Redundancy: values, e.g. many rows for one user, aren't repeated</li>
<li>Insertion, deletion, and update anomalies<ul>
<li>Facts represented by the functional dependencies are separated into their own tables</li>
</ul>
</li>
<li>Information and dependency loss<ul>
<li>Joining doesn't create incorrect totals, etc.</li>
<li>Separate relation for each functional dependency</li>
</ul>
</li>
</ul>
<p>Relations may be left at lower normal forms for performance reasons.</p>
<p><strong>Denormalization</strong> is the process of storing the join of higher normal form relations as a base relation, which is in a lower normal form.</p>
<p>Review: a <strong>superkey</strong> of a relation schema is a set of attributes with the property that no two tuples in any legal relation state will have the same value. A <strong>key</strong> is a superkey with the additional property that the removal of any attributes will cause it not to be a superkey anymore -- a key has to be minimal.</p>
<p>A relation schema may have more than one key and each of these is a <strong>candidate key</strong>. One of these is arbitrarily designated to be the <abbr title="Primary Key">PK</abbr> and the rest are called <strong>secondary keys</strong>. If no candidate key is known for the relation, the entire relation can be considered the default superkey.</p>
<p>A <strong>prime attribute</strong> of R is a member of some candidate key of R. If it is not a member of any candidate key, an attribute is <strong>nonprime</strong>.</p>
<h3 id="normal-forms">Normal Forms<a class="headerlink" href="#normal-forms" title="Permanent link">&para;</a></h3>
<p>Four:</p>
<ul>
<li>The whole set of data structures is non-first normal form (NF²)</li>
<li>Subset of NF² is first normal form (1NF) relations</li>
<li>Subset of 1NF is second normal form (2NF) relations</li>
<li>Subset of 2NF is third normal form (3NF)</li>
<li>Subset of 3NF is Boyce-Codd Normal Form (BCNF); <em>this is the main goal</em></li>
</ul>
<p>By definition, a 3NF already satisfies 2NF.</p>
<p>A <strong>prime attribute</strong> is one that is part of any candidate key.</p>
<p><strong>Full functional dependency</strong>: (<em>X → Y</em>) if removal of any attribute <em>A</em> from <em>X</em> means that the dependency does not hold anymore.</p>
<p><strong>Partial dependency</strong>: if some attribute <em>A</em> can be removed from <em>X</em> and the dependency still holds.</p>
<p><strong>Transitive dependency</strong>: a functional dependency (<em>X → Y</em>) in a relation schema <em>R</em> if there exists a set of attributes <em>Z</em> in <em>R</em> that is neither a candidate key nor a subset of any key of <em>R</em>, and both <em>X → Z</em> and <em>Z → Y</em> hold.</p>
<p>A <strong>binary decomposition</strong> is a decomposition of a relation into two relations. The NJB property test is limited to binary decompositions.</p>
<p><strong>Nonadditive Join Test for Binary Decomposition</strong> (NJB): a decomposition <em>D = {R₁, R₂}</em> of <em>R</em> has the lossless join property in respect to a set of functional dependencies <em>F</em> on <em>R</em> only if either the FD:</p>
<div class="arithmatex">\[
(( R_{1} \cap R_{2}) \rightarrow ( R_{1} - R_{2}))
\]</div>
<p>... is in <abbr title="Closure">F⁺</abbr>¹⁵, or</p>
<div class="arithmatex">\[
(( R_{1} \cap R_{2}) \rightarrow ( R_{2} - R_{1}))
\]</div>
<p>... is in F⁺.</p>
<p>For <strong>lossless joins</strong> when decomposing relations, the join field must be a key in at least one of the relations.</p>
<p>We preserve functional dependencies if the meaning implied by the remaining functional dependencies is the same (may be implied by transitivity).</p>
<p>When a relation has overlapping keys, it may be the case that it can only be decomposed to 3NF (not BCNF) while being lossless and preserving dependencies -- though this doesn't happen in practice.</p>
<p>Three main techniques to achieve 1NF:</p>
<ol>
<li>Remove the violating attribute to a separate relation with the primary key of the original relation. The new relation's <abbr title="Primary Key">PK</abbr> is the combination of the old <abbr title="Primary Key">PK</abbr> and the moved attribute.</li>
<li>Expand the key to create a separate tuple in the original relation. (Introduces redundancy -- rarely used.)</li>
<li>If the maximum number of values is known for the offending attribute, replace it with a numbered atomic attribute for each. (Introduces NULL values if most of the other tuples would not have values for these new attributes; introduces spurious semantics as well, as it imposes a new ordering. Best avoided.)</li>
</ol>
<p><img alt="Normalizing diagram" src="../norm-forms.jpeg" /></p>
<h4 id="first-normal-form">First Normal Form<a class="headerlink" href="#first-normal-form" title="Permanent link">&para;</a></h4>
<ul>
<li>R is in 1NF if all domain values are atomic (indivisible)</li>
<li>Relations within relations, or relations as attribute values within tuples are disallowed</li>
<li>Multivalued attributes that are themselves composite are disallowed (nested relations -- tuple has a relation within it)</li>
<li>Unnest relations into a set of 1NF relations by removing the nested attributes into a new relation and propagating the <abbr title="Primary Key">PK</abbr> into it</li>
<li>Test: relations should have no multivalued attributes or nested relations</li>
<li>Fix: form new relations for each multivalue attribute or nested relation</li>
</ul>
<h4 id="second-normal-form">Second Normal Form<a class="headerlink" href="#second-normal-form" title="Permanent link">&para;</a></h4>
<p>A relation schema <em>R</em> is in 2NF if every nonprime attribute (not part of a candidate key) <em>A</em> in <em>R</em> is...</p>
<ul>
<li>Fully functionally dependent on the <abbr title="Primary Key">PK</abbr> of <em>R</em>.</li>
<li>
<p>Not partially dependent on any key of <em>R</em>.</p>
</li>
<li>
<p>R is in 2NF if R is in 1NF and every nonprime attribute is fully dependent on the key</p>
</li>
<li>Test: fails when the <abbr title="Primary Key">PK</abbr> contains multiple attributes and there are nonkey attributes that depend on only part of the <abbr title="Primary Key">PK</abbr> (no nonkey attributes should be functionally dependent on a part of the <abbr title="Primary Key">PK</abbr>)<ul>
<li>Each nonkey attribute of the relation must depend on the <em>whole key</em></li>
</ul>
</li>
<li>Fix: decompose into new relations; each <abbr title="Primary Key">PK</abbr> with its attribute and any FD dependents</li>
<li>Test for functional dependencies whose left side attributes are part of the primary key<ul>
<li>If this is just a single attribute, no test needed</li>
</ul>
</li>
<li>Second-normalize a relation into a number of 2NF relations with nonprime attributes associated with only the part of the <abbr title="Primary Key">PK</abbr> on which they are functionally dependent</li>
</ul>
<h4 id="third-normal-form">Third Normal Form<a class="headerlink" href="#third-normal-form" title="Permanent link">&para;</a></h4>
<p>Codd: a relation schema <em>R</em> is in 3NF if...</p>
<ul>
<li>It satisfies 2NF and no nonprime attribute of R is transitively dependent on the <abbr title="Primary Key">PK</abbr>.</li>
<li>If whenever a nontrivial FD <em>X → A</em> holds in <em>R</em>,<ul>
<li>Either <em>X</em> is a superkey of <em>R</em></li>
<li>Or <em>A</em> is a prime attribute of <em>R</em></li>
</ul>
</li>
<li><em>{A-X}</em> is a prime attribute of <em>R</em>.</li>
</ul>
<p>Alternatively, R is in 3NF if R is 2NF and every nonprime attribute of <em>R</em> is...</p>
<ul>
<li>Non-transitively dependent on every key of <em>R</em></li>
<li>
<p>Fully functionally dependent on every key of <em>R</em> (no nonprime attribute of <em>R</em> is transitively dependent on the <abbr title="Primary Key">PK</abbr>)</p>
</li>
<li>
<p>Test: relation should not have a nonkey attribute functionally determined by another (single or set of) nonkey attribute(s) -- no transitive dependency of a nonkey attribute on the <abbr title="Primary Key">PK</abbr></p>
</li>
<li>Fix: decompose into relations that include the nonkey attribute that FD other nonkey attributes</li>
</ul>
<h4 id="boyce-codd-normal-form">Boyce-Codd Normal Form<a class="headerlink" href="#boyce-codd-normal-form" title="Permanent link">&para;</a></h4>
<p>A relation schema <em>R</em> is in BCNF if whenever a nontrivial FD <em>X → A</em> holds in <em>R</em>, then <em>X</em> is a superkey of <em>R</em>.</p>
<ul>
<li>R is in BCNF if every determinant is a candidate key (or, there is no determinant other than a key)<ul>
<li><strong>Determinant</strong>: set of attributes on which some other attribute is fully functionally dependent</li>
</ul>
</li>
<li>Every relation in BCNF is also in 3NF, but reverse isn't necessarily true</li>
</ul>
<h4 id="multivalued-dependency">Multivalued Dependency<a class="headerlink" href="#multivalued-dependency" title="Permanent link">&para;</a></h4>
<p>A multivalued dependency <em>X → Y</em> (where <em>X</em> and <em>Y</em> are both subsets of <em>R</em>) specified on relation schema <em>R</em>, specifies the following constraints on relation state <em>r</em> of <em>R</em>: if tuples <em>t₁</em> and <em>t₂</em> exist in <em>r</em>, then <em>t₃</em> and <em>t₄</em> should exist also with the following properties:</p>
<ul>
<li>t₃[X] = t₄[X] = t₁[X] = t₂[X]</li>
<li>t₃[X] = t₁[X] and t₄[X] = t₂[X]</li>
<li>t₃[X] = t₂[X] and t₄[X] = t₁[X]</li>
</ul>
<h4 id="fourth-normal-form">Fourth Normal Form<a class="headerlink" href="#fourth-normal-form" title="Permanent link">&para;</a></h4>
<p>A relation schema <em>R</em> is in 4NF with respect to a set of dependencies <em>F</em> (including FD and multivalued dependencies) if, for every nontrivial multivalued dependency <em>X ↠ Y</em> in <em>F⁺</em>,<em>²¹</em> <em>X</em> is a superkey for <em>R</em>.</p>
<h4 id="join-dependencies">Join Dependencies<a class="headerlink" href="#join-dependencies" title="Permanent link">&para;</a></h4>
<p>A <strong>join dependency</strong> (JD), denoted JD(<em>R₁, R₂, ..., Rₙ</em>), specified on relation schema <em>R</em>, specifies a constraint on the states <em>r</em> of <em>R</em>. The constraint states that every legal state <em>r</em> of <em>R</em> should have a nonadditive join decomposition into <em>R₁, R₂, ..., Rₙ</em>. For every such <em>r</em> we have</p>
<div class="arithmatex">\[
* (\pi_{R1}(r),\pi_{R2}(r), ..., \pi_{Rn}(r)) = r
\]</div>
<h4 id="fifth-normal-form">Fifth Normal Form<a class="headerlink" href="#fifth-normal-form" title="Permanent link">&para;</a></h4>
<p>A relation schema <em>R</em> is in 5NF or project-join normal form (PJNF) with respect to a set of functional, multivalued, and join dependencies, if for every nontrivial join dependency JD(<em>R₁, R₂, ..., Rₙ</em>) in <em>F⁺</em> (implied by <em>F</em>), ²² every <em>Rᵢ</em> is a superkey of <em>R</em>.</p>
<h2 id="inference-rules">Inference Rules<a class="headerlink" href="#inference-rules" title="Permanent link">&para;</a></h2>
<p>Inference rules can be used to infer new dependencies from a given set. Repeated use of inference rules on a superkey generates all attributes of the relation.</p>
<p>A FD <em>X → Y</em> is inferred from or implied by a set of dependencies <em>F</em> specified on <em>R</em> if <em>X → Y</em> holds in efery legal relation state of <em>R</em>. Whenever <em>r</em> satisfies all the dependencies in <em>F</em>, <em>X → Y</em> also holds in <em>r</em>.</p>
<p>Inferred FD need not be explicitly stated in addition to given FDs; a <strong>closure</strong> (denoted <em>F⁺</em>) is the set of all dependencies that include <em>F</em> as well as all possible dependencies that can be inferred from the given set <em>F</em>.</p>
<p>The <strong>closure of X under F</strong>, <em>X⁺</em>, is the set of attributes that can be functionally determined by <em>X</em> (based on <em>F</em>).</p>
<h3 id="armstrongs-rules">Armstrong's Rules<a class="headerlink" href="#armstrongs-rules" title="Permanent link">&para;</a></h3>
<p>Computing with functional dependencies.</p>
<ul>
<li>IR1 or <strong>reflexive rule</strong>: if <em>Y</em> is a subset of <em>X</em>, then <em>X</em> determines <em>Y</em><ul>
<li>If <em>X ⊇ Y</em>, then <em>X → Y</em></li>
<li>Is Y a subset of X?</li>
<li>Generates dependencies that are always true (<strong>trivial</strong> dependencies):<ul>
<li><em>X → Y</em> is trivial if <em>X ⊇ Y</em></li>
<li>Any set of attributes functionally determines itself</li>
</ul>
</li>
<li><em>Email, Interest → Interest</em></li>
</ul>
</li>
<li>IR2 or <strong>augmentation rule</strong>: if <em>X</em> determines <em>Y</em>, then <em>WX</em> determines <em>WY</em><ul>
<li><em>{X → Y |=XZ → YZ}</em></li>
<li>Also: <em>X → Y |= XZ → Y</em><ul>
<li>Augmenting the left side attributes of a FD (or adding the same set of attributes to both sides) produces another valid FD</li>
</ul>
</li>
<li>If <em>Email → BirthYear</em>, then <em>Email, Interest → BirthYear, Interest</em></li>
</ul>
</li>
<li>IR3 or <strong>transitive rule</strong>: if <em>X</em> determines <em>Y</em> and <em>Y</em> determines <em>Z</em>, then <em>X</em> determines <em>Z</em><ul>
<li><em>{X → Y, Y → Z} |= X → Z</em></li>
<li><em>Email → BirthYear</em> and <em>BirthYear → Salary</em>, then <em>Email → Salary</em></li>
</ul>
</li>
</ul>
<p>Three other inference rules follow:</p>
<ul>
<li>IR4 or <strong>decomposition (projective) rule</strong>: <em>{X → YZ} |=X → Y</em><ul>
<li>Can remove attributes from the right side of a dependency to decompose the FD into a set of dependencies</li>
</ul>
</li>
<li>IR5 or <strong>union (additive) rule</strong>: <em>{X → Y, X → Z} |=X → YZ</em><ul>
<li>Can combine a set of dependencies into a single FD</li>
</ul>
</li>
<li>IR6 or <strong>pseudotransitive rule</strong>: <em>{X → Y, WY → Z} |=WX → Z</em><ul>
<li>Can replace a set of attributes <em>Y</em> on the left side of a dependency with another set <em>X</em> that functionally determines <em>Y</em></li>
</ul>
</li>
</ul>
<p>IR1-3 are sound and complete and can be proven by direct proof or by contradiction (assume it is not true then prove this is not possible).</p>
<h2 id="equivalence">Equivalence<a class="headerlink" href="#equivalence" title="Permanent link">&para;</a></h2>
<p>A set of FDs <em>F</em> is said to <strong>cover</strong> another set of FDs <em>E</em> if every FD in <em>E</em> is also in <em>F⁺</em>. If every dependency in <em>E</em> can be inferred from <em>F</em>, we say that <em>E</em> is <strong>covered by</strong> <em>F</em>.</p>
<p>Two sets of FDs <em>E</em> and <em>F</em> are <strong>equivalent</strong> if <em>E⁺ = F⁺</em>. Every FD in <em>E</em> can be inferred from <em>F</em>, and every FD in <em>F</em> can be inferred from <em>E</em>. Both conditions <em>E covers F</em> and <em>F covers E</em> hold.</p>
<h2 id="minimal-sets">Minimal Sets<a class="headerlink" href="#minimal-sets" title="Permanent link">&para;</a></h2>
<p>We shrink the set <em>F</em> to its minimal form such that the set is still equivalent to the original set <em>F</em>.</p>
<p>A <em>minimal cover</em> of a set of functional dependencies <em>E</em> is a minimal set of dependencies equivanlent to <em>E</em>. There is always at least one minimal cover <em>F</em> for any set of dependencies <em>E</em>.</p>
<p>An <strong>extraneous attribute</strong> is one that can be removed without changing the closure of the set of dependencies. Given a set of FDs <em>F</em> and a FD <em>X → A</em> in <em>F</em>, an attribute <em>Y</em> is extraneous in <em>X</em> if <em>Y ⊂ X</em>, and <em>F</em> logically implies:</p>
<div class="arithmatex">\[
(F - (X \to A) \cup \{ (X - Y) \to A\})
\]</div>
<h2 id="disk-storage">Disk Storage<a class="headerlink" href="#disk-storage" title="Permanent link">&para;</a></h2>
<p>Main categories of a storage hierarchy:</p>
<ul>
<li><strong>Primary storage</strong> is operated on by the <abbr title="Central Processing Unit">CPU</abbr>, e.g. main memory, cache memory<ul>
<li>Fast access to data, limited storage capacity</li>
<li>Expensive relative to other tiers</li>
<li>Contents are lost in power failure or system crash (volatile)</li>
</ul>
</li>
<li><strong>Secondary storage</strong>, or "disk," either magnetic disk hard drives or flash memory solid-state drives (<abbr title="Solid-State Drive">SSD</abbr>)<ul>
<li>Cannot be processed directly by <abbr title="Central Processing Unit">CPU</abbr>, must first be copied onto primary storage</li>
</ul>
</li>
<li><strong>Tertiary storage</strong> includes optical disks (or it used to...) e.g. CDs, DVDs; any removable storage medium that can serve as offline storage<ul>
<li>Typically larger capacity, slower, and less expensive than primary storage devices</li>
<li>Cannot be processed directly by <abbr title="Central Processing Unit">CPU</abbr>, must first be copied onto primary storage</li>
</ul>
</li>
</ul>
<h2 id="memory">Memory<a class="headerlink" href="#memory" title="Permanent link">&para;</a></h2>
<p>Higher the speed, higher the cost of capacity.</p>
<p>Storage capacity is measured in units of bytes:</p>
<ul>
<li>KB: kilobytes (Kbyte) or 1,000 bytes</li>
<li>MB: megabytes, or 1 million bytes</li>
<li>GB: gigabytes, or 1 billion bytes</li>
<li>TB: terabytes, or 1,000 GB (1,000⁴ bytes)</li>
<li>PB: petabytes, or 1,000 TB (1,000⁵ bytes)</li>
<li>EB: exabyte (1,000⁶ bytes)</li>
<li>ZB: zettabyte (1,000⁷ bytes)</li>
<li>YB: yottabyte (1,000⁸ bytes)</li>
</ul>
<p>Primary storage:</p>
<ul>
<li><strong>Cache memory</strong>, or static <abbr title="Random Access Memory">RAM</abbr> (the most expensive primary storage)<ul>
<li>Used by <abbr title="Central Processing Unit">CPU</abbr> to speed up execution of program instructions (prefetching, pipelining)</li>
</ul>
</li>
<li><strong>Main memory</strong>, or <abbr title="Dynamic Random Access Memory">DRAM</abbr><ul>
<li>Main work area for <abbr title="Central Processing Unit">CPU</abbr> to keep program instructions and data</li>
<li>Lower cost, higher volatility, lower speed compared with static <abbr title="Random Access Memory">RAM</abbr></li>
<li>Main memory databases are useful in real-time applications, when fast response times are needed</li>
</ul>
</li>
</ul>
<p>Flash memory is nonvolatile, high density, and high performance:</p>
<ul>
<li>Uses electrically erasable programmable read-only memory (EERPROM)</li>
<li>Fast access speed</li>
<li>Entire blocks must be erased and written over simultaneously</li>
<li>NAND and NOR types</li>
</ul>
<p>Secondary and tertiary storage:</p>
<ul>
<li>Magnetic disks</li>
<li>Mass storage, e.g. optical drives (CD, DVD), magnetic tapes</li>
</ul>
<h2 id="storage">Storage<a class="headerlink" href="#storage" title="Permanent link">&para;</a></h2>
<p>Persistent data must persist over long periods of time. Transient data must persist only for a limited time during program execution.</p>
<p>Volatile storage will lose data when power is lost or the system crashes; nonvolatile storage does not.</p>
<p>Data stored on disk is organized as <strong>files (records)</strong>. When data is needed, it must be:</p>
<ul>
<li>Located on disk</li>
<li>Copied to main memory for processing</li>
<li>Have any changes rewritten to the disk</li>
</ul>
<p>Data is stored on a disk surface of concentric circles or a continuous spiral; each circle is called a <strong>track</strong>. Disks can be assembled into <strong>disk packs</strong>, and overlapped tracks on a disk pack are called <strong>cylinders</strong>. Data stored on one cylinder is faster to retrieve than data distributed across multiple cylinders.</p>
<p>Tracks are divided into hard-coded <strong>sectors</strong> (or <strong>disk blocks</strong> or <strong>pages</strong>). This size is set by the <abbr title="Operating System">OS</abbr> during formatting or initialization and fixed afterwards. Blocks are separated by fixed-size <strong>interblock gaps</strong> which hold information used to determine which block on the track follows each gap.</p>
<p>The <strong>hardware address</strong> of a block consists of:</p>
<ul>
<li>Cylinder number</li>
<li>Track number</li>
<li>Block number</li>
</ul>
<p>Or, a single number <strong>logical block address</strong> (LBA) is mapped automatically to a block by the disk drive controller, plus the address of a <strong>buffer</strong> (reserved area in main storage that holds one disk block).</p>
<p>Read: disk block is copied into the buffer.</p>
<p>Write: buffer contents are copied into the disk block.</p>
<p>Factors affecting speed of read/write include:</p>
<ul>
<li>Seek time</li>
<li>Rotational delay or latency</li>
<li>Block transfer time (may be helped by bulk transfer rate)</li>
</ul>
<p>Locating data on disk is the major bottleneck for <abbr title="Database">DB</abbr> applications. Disks are <strong>random access</strong> secondary storage devices because arbitrary blocks may be randomly accessed with a specified address.</p>
<p>Magnetic tapes are sequential access devices; to access block <em>n</em>, the preceding <em>n-1</em> blocks must be scanned. Tapes are important for <abbr title="Database">DB</abbr> backup and archive.</p>
<h3 id="efficient-data-access">Efficient Data Access<a class="headerlink" href="#efficient-data-access" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Bufferring data</strong> in memory so that new data can be held in the buffer while old data is processed by the application</li>
<li><strong>Organizing data on disk</strong> for efficiency, e.g. keep related data in contiguous blocks</li>
<li><strong>Reading data ahead of request</strong> (read blocks from the rest of a requested track) to minimize seek time on the likelihood they will be needed next; counterproductive for random block reads</li>
<li><strong>Schedule I/O requests</strong> for efficiency, e.g. read from tracks in order (minimize backtracking for the arm); elevator algorithm</li>
<li><strong>Temporarily hold writes in log disks</strong> sequentially, where they are ordered for more efficient writes</li>
<li><strong>Use SSDs or flash memory for recovery</strong>, especially in high-frequency applications</li>
</ul>
<h2 id="efficiency">Efficiency<a class="headerlink" href="#efficiency" title="Permanent link">&para;</a></h2>
<p><abbr title="Random Access Memory">RAM</abbr> is volatile, fast, small, relatively expensive; disk is permanent, comparatively slow, comparatively big, and comparatively cheap. Assume the vast majority of a <abbr title="Database">DB</abbr> is stored on disk.</p>
<ul>
<li>Main memory access time typicallu 3ons (nanoseconds): 0.3x10⁻⁷s</li>
<li>Disk access time about 10ms (milliseconds): 1x10⁻²s</li>
</ul>
<p>In cost computation, ignore main memory access time (it's too small to make a difference) -- only input/output cost matters.</p>
<p><strong>Records</strong> take up space (bytes) in a <strong>block</strong>. Blocks are units of data transfer between disk and memory. Typically we assume blocks are 80% filled.</p>
<p>To calculate unused space (bytes) in a block of size <em>B</em> bytes: <em>B - (<abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr> * R)</em> where <em><abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr></em> is the <strong>blocking factor</strong> (number of records in a block).</p>
<p>Calculate <abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr> with <em><abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr> =</em> ⌊<em>B/R</em>⌋ where ⌊<em>(x)</em>⌋ is the floor function (round down to nearest integer).</p>
<p>Leftover space in blocks that would not fit a complete record can be utilized in different ways:</p>
<ul>
<li><strong>Spanned</strong>: break up the record, using up the remainder of a block and putting the rest of the record in the next block<ul>
<li>Uses the whole block, every byte; blocks no factor in records per track</li>
<li>This is the only option if record sizes are larger than block size</li>
<li>E.g. track bytes: 2 mil, block bytes: 8k, record bytes: 120</li>
<li>Spanned records per track = track bytes / record bytes = 2 mil / 120 = 16,666 records in a track using up all the space<ul>
<li>No need to consider block size</li>
</ul>
</li>
</ul>
</li>
<li><strong>Unspanned</strong>: ignore the unused space in the block (most <abbr title="Database Management System">DBMS</abbr> do this)<ul>
<li>May not use a whole block, so calculate blocks per track to find records per track</li>
<li>E.g. track bytes: 2 mil, block bytes: 8k, record bytes: 120</li>
<li>blocks per track = 2 mil / 8k = 250</li>
<li><abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr> = block size / record size = 8000/120 = 66 records fit in a block (floor)</li>
<li>Unspanned records per track = blocks per track * <abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr> = 16,500 records in a track ignoring unused space</li>
</ul>
</li>
</ul>
<p><strong>Files</strong> consist of multiple blocks that are linked by address pointers (they may not be sequential; pointers tell you where to go).</p>
<p>Example numbers:</p>
<ul>
<li>Record size 159 bytes</li>
<li>Block size 4k bytes (80% filled)</li>
<li>About 20 records per block</li>
<li>Block pointers are 4 bytes (32-bit architecture)</li>
<li>If you have 4 million records / 20 records per block, you need 200,000 blocks</li>
<li>Since block size is 4k, file size is 800MB</li>
</ul>
<p>Some assumptions to help make estimates:</p>
<ul>
<li>Page fault times<ul>
<li>Seek time: 3-8ms</li>
<li>Rotational delay: 2-3ms</li>
<li>Transfer time: 0.5-1ms</li>
<li>Total of 5-12ms or 0.01s</li>
</ul>
</li>
<li>Extent (bulk) transfers save seek time and rotational delay, but require more buffer<ul>
<li>Pick up more blocks, e.g. 250 blocks</li>
<li>Only costs more transfer time</li>
</ul>
</li>
<li>If page fault is 10ms, transfer of 250 blocks takes 2.5s<ul>
<li>As an extent, cost is 0.260s</li>
</ul>
</li>
</ul>
<h3 id="buffering">Buffering<a class="headerlink" href="#buffering" title="Permanent link">&para;</a></h3>
<p>Use of buffers in main memory can speed up block transfer; while one buffer is being read/written, the <abbr title="Central Processing Unit">CPU</abbr> can process data in the other buffer using independent disk I/O. Processes run concurrently in an interleaved fashion with a single <abbr title="Central Processing Unit">CPU</abbr>; parallel processing is possible with multiple CPUs.</p>
<p>A <strong>buffer manager</strong> (software component of <abbr title="Database Management System">DBMS</abbr>) responds to data requests and decides which buffers to use and which pages to replace to accommodate requested blocks.</p>
<ul>
<li>The <strong>buffer pool</strong> (available main memory storage) size is a parameter for the <abbr title="Database Management System">DBMS</abbr></li>
<li>A <strong>pin-count</strong> is the number of times a page has been requested (number of current users of that page); <strong>unpinned</strong> is a 0 count, <strong>pinning</strong> is incrementing the count<ul>
<li>Generally, pinned blocks should not be allowed to be written to disk</li>
</ul>
</li>
<li>A <strong>dirty bit</strong>, initially 0, is set to 1 whenever a page is updated by an application program</li>
</ul>
<p>Buffer management strategies include:</p>
<ul>
<li>Most-recently-used (MRU)</li>
<li>Least-recenty-used (LRU)<ul>
<li>Free up the LRU memory (oldest out)</li>
<li>Buffer manager maintains a table with a record of times a page is accessed</li>
<li>Excellent for merge joins</li>
<li>Kills nested loop joins (use MRU)</li>
</ul>
</li>
<li>Clock policy, which chooses buffers based on rotation through the buffers and looking for a 0 dirty bit</li>
<li>FIFO, same concept as LRU but without maintaining table of page access times<ul>
<li>May not work effectively with blocks that are needed continuously</li>
</ul>
</li>
</ul>
<h2 id="records-on-disk">Records on Disk<a class="headerlink" href="#records-on-disk" title="Permanent link">&para;</a></h2>
<p>Records consist of a collection of data <strong>values</strong> or <strong>items</strong>. Each value is formed of bytes and corresponts to a <strong>field</strong> of the record. A collection of field names and their data types constitute a <strong>record type</strong> or <strong>record format</strong> definition.</p>
<p>A <strong>file</strong> is a sequence of records.</p>
<ul>
<li>Fixed-length records: every file is the same size</li>
<li>Variable-length records: file size varies<ul>
<li>Fields may be variable-length</li>
<li>Repeating fields (multivalue) with repeating groups may be used</li>
<li>Optional fields</li>
<li>Mixed file: file may contain records of different record types</li>
<li>Distinguishable separator chacters may be used to determine field value length</li>
<li>A field type code may be assigned to each field</li>
<li>Each record is preceded by a record type indicator</li>
</ul>
</li>
</ul>
<h3 id="allocating-file-blocks">Allocating File Blocks<a class="headerlink" href="#allocating-file-blocks" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Contiguous allocation</strong> allocates consecutive disk blocks<ul>
<li>Fast for reading the whole file using double buffering</li>
<li>Expanding the file is difficult</li>
</ul>
</li>
<li><strong>Linked allocation</strong> uses a pointer in each file block to indicate the next file block<ul>
<li>Easy to expand the file</li>
<li>Slow to read the whole file</li>
</ul>
</li>
<li>Consecutive <strong>clusters</strong> (file segments, extents) of blocks can be allocated and linked</li>
<li>In <strong>index allocation</strong>, index blocks can contain pointers to actual file blocks</li>
<li>These techniques can be combined</li>
</ul>
<h2 id="file-organization">File Organization<a class="headerlink" href="#file-organization" title="Permanent link">&para;</a></h2>
<ul>
<li>Searching for a file on disk requires copying blocks to the main memory buffer, then searching them</li>
<li>Avoid inefficient linear search (required when the address of the needed block isn't known) and full scan of file</li>
</ul>
<p>A file header (<strong>file descriptor</strong>) contains information for accessing the file records:</p>
<ul>
<li>For determining disk addresses of the file blocks</li>
<li>Format descriptions which may include:<ul>
<li>Field lengths and order of fields within a record (fixed-length records)</li>
<li>Field type codes, separator characters, record type codes (variable-length records)</li>
</ul>
</li>
</ul>
<p>Primary file organizations determine how records are physically placed on disk (accessed): heap, sorted, hashed, and B-trees.</p>
<p>Secondary organization or auxiliary access structure allows access based on alternate fields: indexes.</p>
<h2 id="operations-on-files">Operations on Files<a class="headerlink" href="#operations-on-files" title="Permanent link">&para;</a></h2>
<p>Operations that are expected to be applied more frequently should be performed more efficiently.</p>
<ul>
<li><strong>Retrieval</strong> operations<ul>
<li>Locate records</li>
<li>No change to data in file</li>
</ul>
</li>
<li><strong>Update</strong> operations<ul>
<li>Change file(s) by insertion/deletion of record or modification of field values</li>
</ul>
</li>
<li><strong>Select</strong> record for update operation based on selection condition (filtering condition)<ul>
<li>Simple selection <strong>condition</strong>, e.g. comparison of field values</li>
<li>The first record that satisfies a condition is designated the <strong>current record</strong></li>
</ul>
</li>
<li><strong>Open</strong>: prepare file for read/write<ul>
<li>Allocate buffers (typically at least two) and retrieves file header</li>
<li>Set file pointer to beginning of file</li>
</ul>
</li>
<li><strong>Close</strong>: complete file access by releasing the buffers and performing any cleanup operations</li>
</ul>
<p>Record-at-a-time operations:</p>
<ul>
<li><strong>Reset</strong>: set file pointer of an open file to beginning of file</li>
<li><strong>Find</strong> (locate): search for the first record that satisfies a search condition<ul>
<li>Transfer the block containing the record to main memory buffer (becomes current record)</li>
</ul>
</li>
<li><strong>Read</strong> (get): copies the current record from the buffer to a program variable in the user program<ul>
<li>May advance the currrent record pointer to the next record in the file (necessitates reading next block)</li>
</ul>
</li>
<li><strong>FindNext</strong>: search for the next record in the file that satisfies the search condition<ul>
<li>Transfer the containing block into main memory buffer (becomes the current record)</li>
</ul>
</li>
<li><strong>Delete</strong>: delete current record and (eventually) update file on disk</li>
<li><strong>Modify</strong>: modifies field values for current record and (eventually) update file on disk</li>
<li><strong>Insert</strong>: insert a new record<ul>
<li>Locate the block where the record is to be inserted</li>
<li>Transfer the block to main memory buffer</li>
<li>Write the record into the buffer</li>
<li>Eventually write the buffer to disk</li>
</ul>
</li>
</ul>
<p>Find, FindNext, and Read can be streamlined into <strong>scan</strong>:</p>
<ul>
<li>Returns the first record if the file has just been opened or reset</li>
<li>Otherwise, return the next record</li>
<li>If there is a condition, return the first/next record matching the condition</li>
</ul>
<p>Set-at-a-time higher level operations:</p>
<ul>
<li><strong>FindAll</strong>: locate all the records in the file that satisfy a condition</li>
<li><strong>Find</strong> (locate): search for the first record that satisfies a condition then continue to locate next n-1 records that satisfy the condition; transfer the blocks containing the <em>n</em> records to main memory</li>
<li><strong>FindOrdered</strong>: retrieve all records in the file in the specified order</li>
<li><strong>Reorganize</strong>: reorganize some file organizations that require it preiodically; e.g. reorder file records by sorting on a specified field</li>
</ul>
<h3 id="heap-lookup">Heap Lookup<a class="headerlink" href="#heap-lookup" title="Permanent link">&para;</a></h3>
<p>Heap files; unsorted records.</p>
<ul>
<li>New records are inserted at the end; insertion is very efficient<ul>
<li>Last disk block is copied into a buffer, new record is added, then block is rewritten back to disk</li>
<li>Address of the last block is kept in file header</li>
</ul>
</li>
<li>Searching for a record is inefficient (linear search)</li>
<li>Often used with secondary access paths, e.g. secondary indexes</li>
</ul>
<p>Lookup time (average) is <em>N/2</em> where <em>N</em> is the number of data blocks: e.g. with 200,000 data blocks:</p>
<p>200,000 / 2 * 0.01s = 16.6min</p>
<p>To delete a record:</p>
<ul>
<li>Program finds block</li>
<li>Copies block into buffer</li>
<li>Delete record from buffer</li>
<li>Rewrite block to disk, leaving unused space in disk block<ul>
<li>To avoid wasting storage space, a <strong>deletion marker</strong> can be stored with each record</li>
<li>A "deleted" record is just indicated using the marker; excluded in searches</li>
<li>Periodic reorganization will pack and remove deleted records</li>
</ul>
</li>
</ul>
<p><strong>Relative</strong> or <strong>direct file</strong>: with a file of unordered fixed-length blocks that uses unspanned blocks and contiguous allocation, records can be accessed by <strong>position</strong>.</p>
<h3 id="sorted-lookup">Sorted Lookup<a class="headerlink" href="#sorted-lookup" title="Permanent link">&para;</a></h3>
<p><strong>Ordered</strong> or <strong>sequential</strong> file: the <strong>ordering field</strong> value is used to order the records of a file on disk. An ordering field that is also a key field of the file is called an <strong>ordering key</strong>.</p>
<p>Ordering doesn't improve accessing files based on values of the nonordering fields -- use linear search, necessitating creating another sorted copy of the file in a different order.</p>
<p>Insert and delete are expensive:</p>
<ul>
<li>Records must remain physically ordered, so space must be made for inserts</li>
<li>On average, half the file records must be moved to make room (read/write half the file blocks)</li>
<li>Deletion is less inefficient if delete markers are used</li>
</ul>
<p>To improve insertion:</p>
<ul>
<li>Keep unused space in each block (only works until blocks get filled)</li>
<li>Create a temporary unordered file: <strong>overflow</strong> or <strong>transaction</strong> file<ul>
<li>The ordered file is called <strong>main</strong> or <strong>primary</strong></li>
<li>New records are inserted at the end of the overflow file, then periodically sorted and merged with the <strong>primary</strong></li>
<li>Insertion becomes more efficient; searching more complex</li>
</ul>
</li>
</ul>
<p>Sorted linear search is the same as heap: 16.6min by this example (still looks at each item it encounters until the target is found).</p>
<p>Lookup time for 2-ary (binary) search is <em>log₂(N)</em> where <em>N</em> (capital) is the number of data blocks:</p>
<ul>
<li>log₂(200,000) = 18</li>
<li>18 * 0.01s = 0.18s</li>
</ul>
<p>Used with a primary index, resulting in an <strong>indexed-sequential file</strong>.</p>
<h2 id="single-level-ordered-indexes">Single-Level Ordered Indexes<a class="headerlink" href="#single-level-ordered-indexes" title="Permanent link">&para;</a></h2>
<ul>
<li>An index access structure is usually defined on a single field of a file, an <strong>indexing field</strong> (<strong>indexing attribute</strong>)</li>
<li>Index stores each value of the index field plus pointers to the disk blocks that contain the records with that field value</li>
<li>Values are ordered to enable binary search (efficient)</li>
</ul>
<p>Types of ordered indexes include:</p>
<ul>
<li><strong>Primary index</strong>, specified on the ordering key field (physical order) on an ordered file of records</li>
<li><strong>Clustering index</strong>, or clustered file, which can be used if numerous records have the same value for the ordering field</li>
<li><strong>Secondary index</strong> can be specified on nonordering fields; data file can have several of these in addition to primary</li>
</ul>
<h3 id="primary-index">Primary Index<a class="headerlink" href="#primary-index" title="Permanent link">&para;</a></h3>
<p>Ordered file with records of a fixed length. An index is built of the key value and pointer for each data block: two fields (<abbr title="Primary Key">PK</abbr>, pointer) to act as an access structure.</p>
<ul>
<li>For point and range queries</li>
<li>One index file for each block in the data file</li>
<li>Pointer may be:<ul>
<li>The physical address of a block/page</li>
<li>The record address: block address + record ID/offset in the block</li>
<li>Logical address of the block or of the record in the file; relative number to be mapped to a physical address</li>
</ul>
</li>
<li>First block of data file is the anchor record (block anchor)</li>
<li>Sorted data results in a sorted index</li>
</ul>
<p>Lookup time is <em>log₂(n)+1</em> where <em>n</em> (lowercase) is the number of index blocks. We add 1 because once the value is found in the index, we still need to access the data.</p>
<p>Index page holds many entries, since it's just the keys. For example:</p>
<ul>
<li>Block pointer: 4 bytes (80% filled)</li>
<li>Key length (varchar(50)) plus pointer: 54</li>
<li>54 / 3200 gives fanout ~60 (60 key values and corresponding pointers) TODO</li>
<li>4 million records</li>
<li>200,000 data blocks</li>
<li>Need to point to 200,000 blocks with a fanout of 60 TODO<ul>
<li>200,000 / 60 makes 3334 blocks in a sparse index</li>
<li>4,000,000 / 60 makes 66,666 blocks in a dense index</li>
</ul>
</li>
</ul>
<p>Binary search on index file requires fewer block accesses than binary search on data file.</p>
<ul>
<li>Binary search on ordered data file: <em>log₂b</em> block accesses</li>
<li>If primary index file has <em>bᵢ</em> blocks, locating a record with a search key value requires <em>log₂bᵢ + 1</em>: binary search of index plus access to block containing record</li>
</ul>
<p>Example calculation of necessary block accesses:</p>
<ul>
<li>An ordered file with 300,000 records<ul>
<li>Stored on a disk with block size 4,096 bytes</li>
<li>Assume file records are of fixed size, unspanned, record length of 100 bytes</li>
<li>Recall <abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr>: floor(4,096/100) = 40 records per block</li>
<li>Number of blocks needed for the file is <em>b</em> = ⌈(<em>r/<abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr></em>)⌉ = ⌈(300,000/40)⌉ = 7,500 blocks</li>
<li>Binary search on the data file needs ⌈log₂ <em>b</em>⌉ = ⌈(log₂ 7,500)⌉ = 13 block accesses</li>
</ul>
</li>
<li>On a primary index<ul>
<li>Ordering key field of <em>V</em> = 9 bytes length</li>
<li>Block pointer of <em>P</em> = 6 bytes</li>
<li>Size of each index entry: Rᵢ = (9+6) = 15 bytes</li>
<li><em>bfrᵢ</em> = ⌊(<em>B/Rᵢ</em>)⌋ = ⌊(4,096/15)⌋ = 273 entries per block</li>
<li>Total number of index entries is the same as number of blocks in the data file: 7,500 (rᵢ)</li>
<li>Number of index blocks <em>bᵢ</em> = ⌈(<em>rᵢ/bfrᵢ</em>)⌉ = ⌈(7,500/273)⌉ = 28 blocks</li>
<li>Binary search on the index file needs ⌈(log₂ <em>bᵢ</em>)⌉ = ⌈(log₂ 28)⌉ = 5 block accesses<ul>
<li>+1 to get the data file = 6</li>
</ul>
</li>
<li>If the index is small and kept in main memory, only 1 block access is needed to retrieve record</li>
</ul>
</li>
</ul>
<p>Some operations don't need to access the data, just the index -- e.g. MAX, MIN, AVG.</p>
<h4 id="sparse-index">Sparse index<a class="headerlink" href="#sparse-index" title="Permanent link">&para;</a></h4>
<p>Fewer entries than the number of records in a file.</p>
<p>Sparse index (pick up only first key value of each block) lookup:</p>
<ul>
<li>(log₂(200,000/60)+1) * 0.01s</li>
<li>(12+1) * 0.01s = 0.13s</li>
</ul>
<h4 id="dense-index">Dense index<a class="headerlink" href="#dense-index" title="Permanent link">&para;</a></h4>
<p>Total number of entries is the same as the number of disk blocks in the ordered data file.</p>
<p>Dense index (pick up every key value) lookup:</p>
<ul>
<li>(log₂(4,000,000/60)+1) * 0.01s</li>
<li>(16+1) * 0.01s = 0.17s</li>
</ul>
<h3 id="clustering-index">Clustering Index<a class="headerlink" href="#clustering-index" title="Permanent link">&para;</a></h3>
<p>If the ordering attribute is not a key (and thus a distinct value), the file is called a <strong>clustered file</strong>. The nonkey field that the records are physically ordered on is the <strong>clustering field</strong>.</p>
<ul>
<li>Ordered file with two fields; (value, pointer to disk block)</li>
<li>One entry in the clustering index for each distinct value of the clustering field</li>
<li>Insert/delete are tricky because data records are physically ordered<ul>
<li>To help, a whole block or cluster of contiguous blocks may be reserved for each value of the clustering field</li>
<li>All records with that value are placed in the block/block cluster</li>
</ul>
</li>
<li>Sparse index (entry for each distinct value only)</li>
</ul>
<p>Example calculation of block accesses:</p>
<ul>
<li>An ordered file with 300,000 records<ul>
<li>Stored on a disk with block size 4,096 bytes</li>
<li>Assume file records are of fixed size, unspanned, record length of 100 bytes</li>
<li>Recall <abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr>: floor(4,096/100) = 40 records per block</li>
<li>Number of blocks needed for the file is <em>b</em> = ⌈(<em>r/<abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr></em>)⌉ = ⌈(300,000/40)⌉ = 7,500 blocks</li>
<li>Total number of index entries is the same as number of blocks in the data file: 7,500 (rᵢ)</li>
<li>Assume ordered by <code>Zipcode</code>, 1,000 zip codes in the file (average 300 records per zip code)</li>
<li>Index has 1,000 entries of 11 bytes each (5 bytes zip code and block pointer 6 bytes)</li>
<li><em>bfrᵢ</em> = ⌊(<em>B/Rᵢ</em>)⌋ = ⌊(4,096/11)⌋ = 372 entries per block</li>
<li>Number of index blocks <em>bᵢ</em> = ⌈(<em>rᵢ/bfrᵢ</em>)⌉ = ⌈(1,000/372)⌉ = 3 blocks</li>
<li>Binary search on the index needs ⌈(log₂ <em>bᵢ</em>)⌉ = ⌈(log₂ 3)⌉ = 2 block accesses<ul>
<li>+1 access to the data file to get the record</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="secondary-index">Secondary Index<a class="headerlink" href="#secondary-index" title="Permanent link">&para;</a></h3>
<ul>
<li>For point queries</li>
<li>Need more storage space and longer search time than primary index (dense)<ul>
<li>Improvement in search time for an arbitrary record</li>
</ul>
</li>
<li>Data file records could be ordered, unordered, or hashed</li>
<li>Can be created on candidate key (unique values) or nonkey field (duplicate values)</li>
<li>Index is an ordered file with two fields: (indexing field, block or record pointer)<ul>
<li>Entries are ordered by value of indexing field (not physically ordered; cannot use block anchors)</li>
</ul>
</li>
<li>Multiple secondary indexes can be created for the same file</li>
<li>Provides a logical ordering on records by the indexing field</li>
<li>Assumes that the field used for physical ordering of records in the file is the same as the indexing field</li>
</ul>
<p>A secondary index access structure built on a unique key (secondary key) has one index entry for each record (dense).</p>
<p>Lookup time is also <em>log₂(n)+1</em> where <em>n</em> (lowercase) is the number of index blocks.</p>
<p>Secondary indexes are built on data that is unsorted, and so can only be dense indexes. The index pointers are sorted initially; we then sort on the values (assuming uniqueness). This means secondary indexes are sorted, but pointers are out of order (hence point queries only).</p>
<p>Dense index (pick up every key value) lookup:</p>
<ul>
<li>(log₂(4,000,000/60)+1) * 0.01s</li>
<li>(16+1) * 0.01s = 0.17s</li>
</ul>
<p>Example calculation of block accesses:</p>
<ul>
<li>An ordered file with 300,000 records</li>
<li>Stored on a disk with block size 4,096 bytes</li>
<li>Assume file records are of fixed size, unspanned, record length of 100 bytes</li>
<li>Recall <abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr>: floor(4,096/100) = 40 records per block</li>
<li>Number of blocks needed for the file is <em>b</em> = ⌈(<em>r/<abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr></em>)⌉ = ⌈(300,000/40)⌉ = 7,500 blocks</li>
<li>Total number of index entries is the same as number of blocks in the data file: 7,500 (rᵢ)</li>
<li>Search for a record using secondary key that is <em>V</em> = 9 bytes long<ul>
<li>Without a secondary index: b/2 = 7,500/2 = 3,759 blocks to access</li>
</ul>
</li>
<li>With a secondary index (6 byte pointer), each index entry is Rᵢ = (9+6) = 15 bytes</li>
<li><em>bfrᵢ</em> = ⌊(<em>B/Rᵢ</em>)⌋ = ⌊(4,096/15)⌋ = 273 entries per block</li>
<li>Number of index entries is same as number of records: 300,000</li>
<li>Number of index blocks <em>bᵢ</em> = ⌈(<em>rᵢ/bfrᵢ</em>)⌉ = ⌈(300,000/273)⌉ = 1,099 blocks</li>
<li>Binary search on the index needs ⌈(log₂ <em>bᵢ</em>)⌉ = ⌈(log₂ 1,099)⌉ = 11 block accesses<ul>
<li>+1 access to the data file to get the record = 12</li>
</ul>
</li>
</ul>
<p>Implementing a secondary index on a nonkey, nonordering field of a file can be accomplished by several options:</p>
<ol>
<li>Include duplicate index entries with the same index field value <em>K(i)</em> -- dense index with one for each record</li>
<li>Have variable-length records for index entries with a repeating field for the pointer -- one pointer to each block that contains a record with indexing field value <em>K(i)</em></li>
<li>Keep index entries at fixed length and have a single entry for each index field value (most common)</li>
<li>Nondense, uses pointer in index entry to point to disk block that contains a set of record pointers</li>
<li>Each record pointer in disk block points to one of the data file records with the indexing field value</li>
<li>A linked list is used if the value occurs in too many records to fit in a single disk block</li>
<li>Can apply binary search to the ordered index file</li>
</ol>
<h2 id="static-hashing">Static Hashing<a class="headerlink" href="#static-hashing" title="Permanent link">&para;</a></h2>
<p>Hash function takes keys from key space (large) and assigns them an address in bucket space (block address -- smaller).</p>
<p>A good hash function:</p>
<ul>
<li>Distributes values uniformly over the address space</li>
<li>Fills the bucket as much as possible (pieces could be on disk and require retrieval)</li>
<li>Avoids collisions</li>
</ul>
<p>Lookup time is constant(-ish) if bucket directory is in main memory:</p>
<ul>
<li>(1 to 2) * 0.01s = 0.01 to 0.02s<ul>
<li>One if it's in memory; two if it's not</li>
</ul>
</li>
<li>Bucket directory page, then data block</li>
</ul>
<p>Dynamic hashing expands bucket directory when needed; the more data that gets inserted with the same bucket directory size, the more the number of linked data blocks (linked list) we need to traverse.</p>
<p>Example:</p>
<ul>
<li>Assume unspanned records, no overflow, uniform distribution<ul>
<li>Unspanned records per track = blocks per track * <abbr title="blocking factor: *bfr =* ⌊*B/R*⌋">bfr</abbr> (ignoring unused space)</li>
</ul>
</li>
<li>Unspanned records per block:<ul>
<li>8,000 bytes per block</li>
<li>120 bytes in a record</li>
<li>8000/120 = 66 (round down) records per block</li>
</ul>
</li>
<li>5 blocks per bucket</li>
<li>Each bucket 80% full, affecting the fillable blocks in it:<ul>
<li>5 blocks * 0.8 = 4 full blocks per bucket</li>
</ul>
</li>
<li>132 million records / 66 records per block = 2 mil blocks needed per file</li>
<li>2 mil blocks / 4 blocks in a bucket = 500,000 buckets required in the file</li>
</ul>
<p>Read time:</p>
<ul>
<li>Each track is 2 million bytes / block size of 8,000 = 250 blocks in a track</li>
<li>Transfer time per block 0.1 ms</li>
<li>250 * 0.1ms = 25 ms</li>
<li>Add one seek and one rotational delay</li>
</ul>
<p><strong>Hash file</strong>: organization using <strong>hash function</strong> (or randomizing function) applied to the hash field value of a record; yields the address of a disk block where the record is stored. For internal files, implemented using <strong>hash table</strong>.</p>
<p>Methods for collision resolution include:</p>
<ul>
<li>Open addressing: check subsequent positions until an open (unused, empty) position is found</li>
<li>Chaining: place colliding record in a predesignated unused overflow location, and set pointer of the occupied hash address location to the overflow location</li>
<li>Multiple hashing: apply a second hash function if the first results in a collision</li>
</ul>
<h2 id="mixed-records">Mixed Records<a class="headerlink" href="#mixed-records" title="Permanent link">&para;</a></h2>
<ul>
<li>Relationships are implemented by <strong>logical field references</strong>:<ul>
<li>Relationships between records in various files may be represented by <strong>connecting fields</strong></li>
<li>The value points to the created record in another file</li>
</ul>
</li>
<li>Relationships may be implemented in object DBMSs or legacy systems as <strong>physical relationships</strong>; physical contiguity (physical clustering) of related records or by physical pointers<ul>
<li>Assign an area of the disk to hold records of more than one type</li>
<li>In data warehouse, input initialy undergoes an integration and is collected into an operational data store (ODS)<ul>
<li>ODS typically contains files where multiple records are kept together</li>
<li>After ETL (extract, transform, load), passed on to data warehouse</li>
</ul>
</li>
</ul>
</li>
<li>Each record in a mixed file has a record type field, typically the first in the record</li>
</ul>
<h2 id="multi-level-index">Multi-level Index<a class="headerlink" href="#multi-level-index" title="Permanent link">&para;</a></h2>
<p>Index of the index of the index of...</p>
<ul>
<li>Binary search: (log₂ <em>bᵢ</em>) block accesses<ul>
<li>Each step of the algorithm reduces the part of the index file we need to search by 2</li>
</ul>
</li>
<li>Multilevel index wants to reduce the part of the index we need to search by the blocking factor, <em>bfrᵢ</em>, called <strong>fan-out</strong> of the multilevel index (symbol <strong>fo</strong>)<ul>
<li>Record search space is divided <em>n</em>-ways where <em>n</em> = <strong>fo</strong></li>
<li>Searching a multilevel index requires (log_{fo} bᵢ)</li>
</ul>
</li>
<li>Fan-out depends on how many entries (key + block pointer) fit in a block<ul>
<li>E.g. 4-byte block pointer and 9-byte key, fan-out = 315</li>
</ul>
</li>
<li>Useful on any type of index as long as first level has distinct values for <em>K(i)</em> and fixed-length entries</li>
</ul>
<p>Lookup time is:</p>
<div class="arithmatex">\[
log_{fanout}(n) + 1
\]</div>
<p>... where <em>n</em> (lowercase) is the number of index blocks. The cost decreases as the fanout increases.</p>
<ul>
<li>The index file (<strong>first</strong> or <strong>base level</strong>) is an ordered file with a distinct value for each <em>K(i)</em></li>
<li>Can create a primary index for the first level (<strong>second level</strong>)<ul>
<li>Can use block anchors so there is one entry for each block of the first level</li>
</ul>
</li>
<li>Blocking factor for second and subsequent levels is the same as first level<ul>
<li>Blocking factor and fan-out are the same</li>
<li>If first level has <em>r₁</em> entries, it needs <em>r₂</em> = ⌈(<em>r₁/fo</em>)⌉ blocks; this is the number of entries needed at the second level</li>
<li>Third level entries is r₃ = ⌈(<em>r₂/fo</em>)⌉</li>
</ul>
</li>
<li>All index levels are physically ordered files</li>
</ul>
<p>The top index level is the <em>t</em>th level. To calcuate <em>t</em>:</p>
<div class="arithmatex">\[
1 \leq ((r_{1}/((fo)^{t})))
\]</div>
<p>Thus a multilevel index with <em>r₁</em> first-level entries has approximately <em>t</em> levels, where:</p>
<div class="arithmatex">\[
t = \lceil(log_{fo}(r_{1}))\rceil
\]</div>
<p>Since a single block is retrieved at each level and <em>t</em> is the number of levels, <em>t</em> disk blocks are accessed for an index search.</p>
<p>Example calculation of block access:</p>
<ul>
<li>An ordered file with 300,000 records</li>
<li>Stored on a disk with block size 4,096 bytes</li>
<li>With a secondary index (6 byte pointer), each index entry is Rᵢ = (9+6) = 15 bytes</li>
<li><em>bfrᵢ</em> = ⌊(<em>B/Rᵢ</em>)⌋ = ⌊(4,096/15)⌋ = 273 entries per block, also the <strong>fo</strong></li>
<li>Number of first level blocks <em>b₁</em> is 1,099</li>
<li>Number of second level blocks is <em>b₂</em> = ⌈(<em>b₁/fo</em>)⌉ = ⌈(1,099/273)⌉ = 5</li>
<li>Number of third level blocks is <em>b₃</em> = ⌈(<em>b₂/fo</em>)⌉ = ⌈(5/273)⌉ = 1</li>
<li>Third level is the top level, <em>t</em> = 3</li>
<li>To search multilevel index for a record, we access one block at each level plus one block from data file:<ul>
<li><em>t</em> + 1 = 3 + 1 = 4 block accesses</li>
</ul>
</li>
</ul>
<p>Indexed sequential (file) access method (ISAM)</p>
<ul>
<li>Used in early IBM systems</li>
<li>Ordered file with a multilevel primary index on its ordering key field</li>
<li>Two-level index related to organization of disk (cylinders and tracks)<ul>
<li>First level: cylinder index, has key, value of an anchor record for each cylinder occupied by the file, and pointer to the track index of the cylinder</li>
<li>Track index: has key, value of an anchor record for each track in the cylinder and a pointer to the track</li>
</ul>
</li>
<li>Track can be searched sequentially for the record/block</li>
<li>Insertion handled by overflow file</li>
<li>Index is re-created during file reorganization</li>
</ul>
<p>Sparse index:</p>
<ul>
<li>(log₆₀(3334)+1) * 0.01s</li>
<li>(2+1) * 0.01s = 0.03s</li>
</ul>
<p>Many levels make blocks more susceptible to overflow; when a record needs to be split across blocks, the indexes are impacted (ripple).</p>
<h2 id="dynamic-multilevel-indexes">Dynamic Multilevel Indexes<a class="headerlink" href="#dynamic-multilevel-indexes" title="Permanent link">&para;</a></h2>
<ul>
<li>Reduce insert/delete problems that come with physically ordered files</li>
<li>Leave some space in each block for inserting new entries</li>
<li>Implemented using B-trees and B⁺-trees</li>
</ul>
<p><img alt="Tree basics" src="../tree-basics.jpeg" /></p>
<p>A tree is <strong>balanced</strong> when all its leaf nodes are at the same level.</p>
<h3 id="search-trees-and-b-trees">Search Trees and B-Trees<a class="headerlink" href="#search-trees-and-b-trees" title="Permanent link">&para;</a></h3>
<ul>
<li>A <strong>search tree of order <em>p</em></strong> is a tree where each node contains at most p-1 search values and <em>p</em> pointers, where <em>q ≤ p</em> in the order:</li>
</ul>
<div class="arithmatex">\[
&lt;P_{1}, K_{1}, P_{2}, K_{2}, ... P_{q-1}, K_{q-1}, P_{q}&gt;
\]</div>
<ul>
<li>Pᵢ is a pointer to a child node or NULL</li>
<li>Kᵢ is a search value from an ordered set, assumed unique</li>
</ul>
<p>Two constraints in a search tree must hold at all times:</p>
<ol>
<li>Within each node:
  $$
  K_{1} &lt; K_{2} &lt; ... &lt; K_{q-1}
  $$</li>
<li>For all values <em>X</em> in the subtree indicated by <em>Pᵢ</em>, follow the pointer according to:
  $$
  K_{i-1} &lt; X &lt; K_{i}\ for\ 1 &lt; i &lt; q
  $$
  $$
  X &lt; K_{i}\ for\ i = 1
  $$
  $$
  and\ K_{i-1} &lt; X\ for\ i = q
  $$</li>
</ol>
<p>Goals for balancing a search tree:</p>
<ul>
<li>Guarantee that nodes are evenly distributed<ul>
<li>Depth of tree is minimized for given set of keys and tree does not get skewed with some nodes at deep levels</li>
</ul>
</li>
<li>Make the search speed uniform so that the average time to find a given key is roughly the same</li>
</ul>
<p>Implicitly, ensure the index tree does not need much restructuring when records are inserted and deleted.</p>
<ul>
<li>Keep nodes as full as possible</li>
<li>Avoid empty nodes if there are deletions</li>
</ul>
<p>Analysis and simulation shows that after random insertions and deletions, nodes of a B-tree and a B⁺-tree are approximately 69% full when the number of values in the tree stabilizes.</p>
<h3 id="b-tree">B-Tree<a class="headerlink" href="#b-tree" title="Permanent link">&para;</a></h3>
<p>Multilevel access, balanced tree structure.</p>
<p>Adds constraints to ensure tree is always balanced and that space wasted by deletion is not excessive. A <strong>B-tree of order <em>p</em></strong> (used as an access structure on a key field to search for a record) is defined as:</p>
<ol>
<li>Each internal node is of the form
  $$
  <P_{1}, \<K_{1}, Pr_{1}>, P_{2}, \<K_{2}, Pr_{2}>, ..., \<K_{q-1}, Pr_{q-1}>, P_{q}>
  $$</li>
<li>Within each node,
  $$
  K_{1} &lt; K_{2} &lt; ... &lt; K_{q-1}
  $$</li>
<li>For all search key field values <em>X</em> in the subtree pointed at by <em>Pᵢ</em>:
  $$
  K_{i-1} &lt; X &lt; K_{i}\ for\ 1 &lt; i &lt; q
  $$
  $$
  X &lt; K_{i}\ for\ i = 1
  $$
  $$
  and\ K_{i-1} &lt; X\ for\ i = q
  $$</li>
<li>Each node in a tree of order <em>p</em> has at most <em>p-1</em> search values and <em>p</em> tree pointers.</li>
<li>Each node (except root and leaf nodes) has at least ⌈(<em>p/2</em>)⌉ tree pointers.</li>
<li>Root node has at least two tree pointers unless it is the only node</li>
<li>A node with <em>q</em> tree pointers, <em>q ≤ p</em>, has <em>q-1</em> search key field values (hence, data pointers).</li>
<li>All leaf nodes are at the same level (balanced). Leaf nodes are the same as internal nodes except that all their tree pointers <em>Pᵢ</em> are NULL.</li>
</ol>
<p>Calculating blocks and levels:</p>
<ul>
<li>With a nonordering key field for a serach field and a B-tree with <em>p</em> = 23</li>
<li>Assume that each node is 69% full<ul>
<li>Average pointers of each node is <em>p</em> * 0.69 = 23 * 0.69 = 16</li>
<li>Hence 15 search key field values</li>
</ul>
</li>
<li>Average fan-out <em>fo</em> = 16</li>
<li>At each level of the tree, calculate the number of key entries by<ul>
<li>Total number of pointers at previous level * 15 (average number of entries in each node)</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Level</th>
<th>Nodes</th>
<th>Key entries</th>
<th>Pointers</th>
</tr>
</thead>
<tbody>
<tr>
<td>Root</td>
<td>1</td>
<td>15</td>
<td>16</td>
</tr>
<tr>
<td>L1</td>
<td>16</td>
<td>240</td>
<td>256</td>
</tr>
<tr>
<td>L2</td>
<td>256</td>
<td>3,840</td>
<td>4,096</td>
</tr>
<tr>
<td>L3</td>
<td>4,096</td>
<td>61,440</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>With block size 512 bytes</li>
<li>Record pointer 7 bytes and tree pointer 6 bytes</li>
<li>Search key field size 9 bytes</li>
<li>Then a two-level B-tree of order 23 with 69% occupancy holds 3,840 + 240 + 15 = 4,095 entries on average</li>
<li>A three-level B-tree holds 61,440 + 4,095 = 65,535 entries on average</li>
</ul>
<p>B-trees can be primary file organizations if the whole records stored in the nodes are relatively small in size and number.</p>
<h3 id="b-trees">B⁺-Trees<a class="headerlink" href="#b-trees" title="Permanent link">&para;</a></h3>
<ul>
<li>Every value of the search field appears once at some level in the tree, with a data pointer</li>
<li>Data pointers are stored only at the leaf nodes of the tree; leaf node structure differs from internal node structure</li>
<li>Leaf nodes have an entry for every value of the search field and a data pointer to the record or its containing block<ul>
<li>If nonkey search field, pointer points to a block containing pointers to the data file records, adding an additional step for retrieval</li>
</ul>
</li>
<li>Data is at the bottom with multi-level index nodes above</li>
<li>Popular in RDBMS</li>
<li>B for balance: insert, delete, update operations used to keep the tree balanced<ul>
<li>Maintain distance from the root to the base level -- maintain search time</li>
</ul>
</li>
<li>
<p>Lower level overflow rarely propagates more than 1-2 levels up
**
Internal nodes<em><em> of B⁺-tree of order </em>p</em>:</p>
</li>
<li>
<p>Each internal node, where <em>q ≤ p</em> and each <em>Pᵢ</em> is a tree pointer, is of the form:
  $$
  <P_{1}, K_{1}, P_{2}, K_{2}, ... P_{q-1}, K_{q-1}, P_{q}>
  $$</p>
</li>
<li>Within each internal node,
  $$
  K_{1} &lt; K_{2} &lt; ... &lt; K_{q-1}
  $$</li>
<li>For all search key field values <em>X</em> in the subtree pointed at by <em>Pᵢ</em>:
  $$
  K_{i-1} &lt; X \leq K_{i}\ for\ 1 &lt; i &lt; q
  $$
  $$
  X \leq K_{i}\ for\ i = 1
  $$
  $$
  and\ K_{i-1} &lt; X\ for\ i = q
  $$</li>
<li>Each internal node has at most <em>p</em> tree pointers.</li>
<li>Each internal node except the root has at least ⌈(<em>p/2</em>)⌉ tree pointers.</li>
<li>Root node has at least two tree pointers if it is an internal node</li>
<li>An internal node with <em>q</em> pointers, <em>q ≤ p</em>, has q-1 search field values.</li>
</ul>
<p><strong>Leaf nodes</strong> of B⁺-tree of order <em>p</em>:</p>
<ol>
<li>Each leaf node, where <em>q ≤ p</em>, <em>Prᵢ</em> is a data pointer, and <em>Pₙₑₓₜ</em> points to the next leaf node of the tree, has the form:
  $$
  &lt;<K_{1}, Pr_{1}>, <K_{2}, Pr_{2}>, ..., <K_{q-1}, Pr_{q-1}>, P_{next}&gt;
  $$</li>
<li>Within each leaf node,
  $$
  K_{1} \leq K_{2} ..., K_{q-1}, q \leq p
  $$</li>
<li>Each <em>Prᵢ</em> is a data pointer to the record whose search field value is <em>Kᵢ</em>, or to a file block containing the record<ul>
<li>Or if the search field is not a key, to a block of record pointers that point to records whose search field value is <em>Kᵢ</em></li>
</ul>
</li>
<li>Each leaf node has at least ⌈(<em>p/2</em>)⌉ values.</li>
<li>All leaf nodes are at the same level.</li>
</ol>
<p>To calculate order <em>p</em> of a B⁺-tree:</p>
<ul>
<li>Suppose search key field is <em>V</em> = 9 bytes, block size <em>B</em> = 512 bytes, record pointer <em>Pr</em> = 7 bytes, and block pointer/tree pointer is <em>P</em> = 6 bytes</li>
<li>Internal node can have up to <em>p</em> tree pointers and <em>p</em>-1 search field values that must fit in a single block</li>
</ul>
<div class="arithmatex">\[
(p * P) + ((p-1) * V) \leq B
\]</div>
<p>Evaluates to (15 * p) ≤ 512 and we choose the largest value that satiesfies <em>p</em> = 34.</p>
<p>Leaf nodes order is calculated:</p>
<div class="arithmatex">\[
( p_{leaf} * (Pr + V)) + P \leq B
\]</div>
<p>Resulting in (16 * <em>p</em>leaf) ≤ 506 and <em>p</em> = 31.</p>
<p>To calculate the number of entries in a B⁺-tree:</p>
<ul>
<li>Assume each node is 69% full</li>
<li>Each internal node on average will have 34 * 0.69 = ~23 pointers, 22 values</li>
<li>Each leaf node on average will hold 0.69 * <em>p</em>leaf = 0.69 * 31 = ~21 data record pointers</li>
</ul>
<table>
<thead>
<tr>
<th>Level</th>
<th>Nodes</th>
<th>Key entries</th>
<th>Pointers</th>
</tr>
</thead>
<tbody>
<tr>
<td>Root</td>
<td>1</td>
<td>22</td>
<td>23</td>
</tr>
<tr>
<td>L1</td>
<td>23</td>
<td>506</td>
<td>529</td>
</tr>
<tr>
<td>L2</td>
<td>529</td>
<td>11,638</td>
<td>12,167</td>
</tr>
<tr>
<td>Leaf</td>
<td>12,167</td>
<td>255,507</td>
<td></td>
</tr>
</tbody>
</table>
<p>Leaf node calculation accounts for 69% occupancy of the leaf node: 12,167 * 21</p>
<h4 id="leaf-node">Leaf node<a class="headerlink" href="#leaf-node" title="Permanent link">&para;</a></h4>
<p>Insertion:</p>
<ul>
<li>A full leaf node overflows and must be split</li>
<li>A number of the first entries are kept, determined by:
  $$
  j = \lceil ((P_{leaf} + 1)/2)\rceil
  $$</li>
<li>Remaining entries are moved to a new leaf node</li>
<li><em>j</em>th search value is replicated in the parent internal node</li>
<li>An extra pointer to the new node is created in the parent</li>
<li>If the parent internal node is full, it overflows and also must be split</li>
<li>Splits can propagate all the way up to create a new root node and new level for the tree</li>
</ul>
<p>Deletion:</p>
<ul>
<li>Deleted entry is always removed from leaf level</li>
<li>If it occurs in an internal node, the value to its left in the leaf node must replace it in the internal node<ul>
<li>That value is now the rightmost entry in the subtree</li>
</ul>
</li>
<li>May cause <strong>underflow</strong> by reducing the number of entries in the leaf node to below required minimum<ul>
<li>Try to find and redistribute entries among the node and its sibling so both are at least half full</li>
<li>Or, merge node with its sibling and reduce overall number of leaf nodes</li>
<li>Commonly, try to <strong>redistribute</strong> entries with left sibling, or if that fails, the right<ul>
<li>If both are not possible, three nodes are merged into two leaf nodes</li>
</ul>
</li>
<li>Underflow may propogate to internal nodes because one fewer tree pointer and search value are needed<ul>
<li>Can reduce tree levels</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="notes-on-indexes">Notes on Indexes<a class="headerlink" href="#notes-on-indexes" title="Permanent link">&para;</a></h2>
<h3 id="logical-vs-physical-index">Logical vs Physical Index<a class="headerlink" href="#logical-vs-physical-index" title="Permanent link">&para;</a></h3>
<ul>
<li>Physical index pointer must be changed if the record is moved to another disk location</li>
<li>Logical index can be used when physical record addresses are expected to change frequently</li>
</ul>
<p>Logical index entries are of the form <K,Kₚ>, where:</p>
<ul>
<li><em>K</em> is a value for the secondary indexing field</li>
<li><em>Kₚ</em> is the value of the field used for primary file organization</li>
<li>The secondary index is searched on the value of <em>K</em> and the corresponding value of <em>Kₚ</em> is located</li>
<li><em>Kₚ</em> is used to access the record through the primary file organization</li>
<li>An additional level of indirection between access stucture and data is introduced (extra search on primary file organization)</li>
</ul>
<h3 id="index-creation">Index Creation<a class="headerlink" href="#index-creation" title="Permanent link">&para;</a></h3>
<p>Creating an index is not part of the <abbr title="Structured Query Language">SQL</abbr> standard, but implemented by many RDBMSs:</p>
<pre><code class="language-sql">CREATE [UNIQUE] INDEX name
ON table_name (&lt;column name&gt; [ &lt;order&gt; ] {, &lt;column name&gt; [ &lt;order&gt; ]})
[CLUSTER];
</code></pre>
<p>Keywords UNIQUE and CLUSTER (also sort data file records on indexing attribute) are optional.</p>
<ul>
<li>Index is not an integral oart of the data file in many systems; created, discarded dynamically (access structure)</li>
<li>Secondary index is usually created to avoid physical ordering of the records in the data file on disk<ul>
<li>Theoretically can be created in conjunction with any primary record organization</li>
<li>E.g. with large B⁺-tree, file nor index may fit in main memory; insertion of large number of entries is accomplished with <strong>bulk loading</strong></li>
</ul>
</li>
<li>Indexing with strings that can be of variable length and too long may limit fan-out<ul>
<li>String as search key may give an uneven number of keys per index node, fo varies</li>
<li>May force nodes to split when full regardless of number of keys in them</li>
<li><strong>Prefix compression</strong> stores only the prefix of the search key (enough to distinguish it from the keys that are separated and directed to the subtree)</li>
</ul>
</li>
</ul>
<h3 id="index-tuning">Index Tuning<a class="headerlink" href="#index-tuning" title="Permanent link">&para;</a></h3>
<p>Indexes may be tuned when:</p>
<ul>
<li>Certain queries take too long to run without one</li>
<li>Indexes prove to go unused</li>
<li>Indexes undergo too much updating because it is built on an attribute that changes frequently</li>
</ul>
<p>Command or trace functions in DBMSs (e.g. <abbr title="Structured Query Language">SQL</abbr> explain) show how a query was executed and can help demonstrate when indexes would benefit from tuning for better performance.</p>
<p>Rebuilding the index may also improve performance by reclaiming wasted space; reorganize table ordered on a key for a clustered index.</p>
<h3 id="constraints-and-duplicates">Constraints and Duplicates<a class="headerlink" href="#constraints-and-duplicates" title="Permanent link">&para;</a></h3>
<ul>
<li>An index can be used to enforce a key constrain on an attribute</li>
<li>Duplicate index key values can result in the rejection of an insertion</li>
<li>Indexes created on a nonkey field can result in duplicates<ul>
<li>Some systems add a row ID so duplicate record keys have unique identifier</li>
</ul>
</li>
</ul>
<h3 id="other-access-methods">Other Access Methods<a class="headerlink" href="#other-access-methods" title="Permanent link">&para;</a></h3>
<ul>
<li>A <strong>fully inverted file</strong> has a secondary index on every one of its fields</li>
<li>New records are inserted at the end of the file</li>
<li>The data file itself is an unordered (heap) file</li>
<li><strong>Virtual storage access method</strong> (VSAM) is similar to B⁺-tree structure (IBM)</li>
</ul>
<h3 id="indexing-hints-in-queries">Indexing Hints in Queries<a class="headerlink" href="#indexing-hints-in-queries" title="Permanent link">&para;</a></h3>
<ul>
<li>Hints can be alloweed in queries that suggest alternatives to the query processor; can optimize to expedite query execution</li>
<li>Indexing hints suggest use of an index when it would improve a query; appear as a special comment</li>
</ul>
<h3 id="column-based-storage-of-relations">Column-Based Storage of Relations<a class="headerlink" href="#column-based-storage-of-relations" title="Permanent link">&para;</a></h3>
<ul>
<li>Alternative to row-by-row</li>
<li>Offers benefits for read-only queries</li>
</ul>
<p>Column-store RDBMS consider storing each column of data individuallY:</p>
<ul>
<li>Vertically partitions table column-by-column so that two-column table is constructed for every attribute; only needed columns are accessed</li>
<li>Uses column-wise indexes and join indexes on multiple tables to answer queries without needing access to data tables</li>
<li>Uses materialized views to support queries on multiple columns</li>
</ul>
<h2 id="physical-database-design">Physical Database Design<a class="headerlink" href="#physical-database-design" title="Permanent link">&para;</a></h2>
<p><abbr title="Database">DB</abbr> designer must know the <strong>job mix</strong> (queries, transactions, applications) that will run to design the <abbr title="Database">DB</abbr> for best performance.</p>
<p>For retrieval queries, know:</p>
<ul>
<li>The files (relations) accessed</li>
<li>Attributes on which selection conditions are specified</li>
<li>If the selection condition is an equality, inequality, or range condition</li>
<li>Attributes on which join conditions or conditions for linking tables/objects are specified</li>
<li>Attribute whose values are to be retrieved</li>
</ul>
<p>For update operations or transactions:</p>
<ul>
<li>Files to be updated</li>
<li>Type of operation (insert, update, delete)</li>
<li>Attributes on which selection conditions of a delete or update are specified</li>
<li>Attributes whose values will be changed by an update operation</li>
</ul>
<p>Other points to analyze:</p>
<ul>
<li>Expected frequency of invocation (80% of the processing to be done by 20% of the transactions)</li>
<li>Time constraints of queries/transactions</li>
<li>Expected frequencies of updates (minimum number of access paths for affected files)</li>
<li>Uniqueness constraints on attributes (specify access paths on candidate keys that are <abbr title="Primary Key">PK</abbr> or unique)</li>
</ul>
<p>Design decisions include:</p>
<ul>
<li>Whether to index an attribute</li>
<li>What attribute(s) to index on</li>
<li>Whether to use a clustered index (main benefit is retrieving records)</li>
<li>Whether to use a hash index instead of tree index</li>
<li>Whether to use dynamic hashing for files that are growing/shrinking often</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["header.autohide", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="../../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>